@use '../../styles/variables' as *;
@use '../../styles/mixins' as *;

.bm-dashboard {
  padding: $spacing-lg;
  position: relative;
  min-height: 100%;
}

// Loading state
.bm-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 400px;
  gap: 16px;
  color: var(--color-text-secondary);

  &-spinner {
    width: 40px;
    height: 40px;
    border: 3px solid var(--color-border);
    border-top-color: var(--color-primary);
    border-radius: 50%;
    animation: spin 0.8s linear infinite;
  }
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

// ═══════════════════════════════════════════════════════════
// Animated Background
// ═══════════════════════════════════════════════════════════

.bm-dashboard-bg {
  position: fixed;
  top: 48px;
  left: 240px;
  right: 0;
  bottom: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 0;
}

.bm-bg-orb {
  position: absolute;
  border-radius: 50%;
  filter: blur(80px);
  opacity: 0.4;
  animation: floatOrb 12s ease-in-out infinite;

  &--1 { width: 300px; height: 300px; background: linear-gradient(135deg, rgba(99, 102, 241, 0.3), rgba(139, 92, 246, 0.2)); top: 5%; right: 10%; animation-duration: 15s; }
  &--2 { width: 200px; height: 200px; background: linear-gradient(135deg, rgba(236, 72, 153, 0.25), rgba(244, 114, 182, 0.15)); top: 40%; right: 30%; animation-delay: -3s; animation-duration: 18s; }
  &--3 { width: 250px; height: 250px; background: linear-gradient(135deg, rgba(59, 130, 246, 0.3), rgba(96, 165, 250, 0.2)); bottom: 10%; left: 10%; animation-delay: -6s; animation-duration: 14s; }
  &--4 { width: 150px; height: 150px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.25), rgba(52, 211, 153, 0.15)); top: 20%; left: 25%; animation-delay: -2s; animation-duration: 16s; }
  &--5 { width: 180px; height: 180px; background: linear-gradient(135deg, rgba(245, 158, 11, 0.2), rgba(251, 191, 36, 0.12)); bottom: 30%; right: 15%; animation-delay: -4s; animation-duration: 13s; }
}

@keyframes floatOrb {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(30px, -20px) scale(1.05); }
  50% { transform: translate(10px, 30px) scale(0.95); }
  75% { transform: translate(-20px, 10px) scale(1.02); }
}

.bm-bg-grid {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(99, 102, 241, 0.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(99, 102, 241, 0.03) 1px, transparent 1px);
  background-size: 60px 60px;
  mask-image: radial-gradient(ellipse 80% 80% at 50% 30%, black 20%, transparent 70%);
  -webkit-mask-image: radial-gradient(ellipse 80% 80% at 50% 30%, black 20%, transparent 70%);
}

// Content z-index
.bm-page-header, .bm-wallet-stats-row, .bm-today-summary, .bm-pipeline-card,
.bm-overview-row, .bm-content-main, .bm-login-history-card, .bm-card,
.bm-announcements-ticker {
  position: relative;
  z-index: 1;
}

// ═══════════════════════════════════════════════════════════
// Page Header
// ═══════════════════════════════════════════════════════════

.bm-page-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: $spacing-xl;
  flex-wrap: wrap;
  gap: 16px;
}

.bm-header-left { flex: 1; min-width: 200px; }

.bm-header-greeting {
  display: flex;
  align-items: baseline;
  gap: 12px;
  flex-wrap: wrap;
}

.bm-header-wave {
  font-size: 14px;
  font-weight: 500;
  color: var(--color-text-secondary);
  padding: 4px 12px;
  background: rgba(var(--color-primary-rgb), 0.08);
  border-radius: $radius-full;
}

.bm-header-right {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.bm-page-title {
  font-size: 28px;
  font-weight: 700;
  background: linear-gradient(135deg, var(--color-text) 0%, var(--color-primary) 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin: 0 0 4px;
}

.bm-page-desc {
  font-size: 14px;
  color: var(--color-text-secondary);
  margin: 0;
}

.bm-today-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-light);
  border-radius: $radius-full;
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text-secondary);

  svg { font-size: 16px; color: var(--color-primary); }
}

// Live Indicator
.bm-live-indicator {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 8px 16px;
  background: rgba(34, 197, 94, 0.1);
  border-radius: 20px;
  font-size: 13px;
  color: #16a34a;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
  border: 1px solid rgba(34, 197, 94, 0.2);

  &.active .bm-live-dot { animation: pulse 2s infinite; }
  &:hover { background: rgba(34, 197, 94, 0.15); }
}

.bm-live-dot {
  width: 8px;
  height: 8px;
  background: #22c55e;
  border-radius: 50%;
}

@keyframes pulse {
  0%, 100% { box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7); transform: scale(1); }
  50% { box-shadow: 0 0 0 8px rgba(34, 197, 94, 0); transform: scale(1.1); }
}

// Buttons
.bm-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  font-size: 13px;
  font-weight: 500;
  border-radius: $radius-md;
  border: none;
  cursor: pointer;
  transition: all 0.2s ease;

  svg { font-size: 16px; }

  &-primary {
    background: var(--color-primary);
    color: white;
    &:hover { background: var(--color-primary-hover); transform: translateY(-1px); box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3); }
  }

  &-secondary {
    background: var(--color-background-secondary);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    &:hover { background: var(--color-border-light); }
  }

  &-spinning svg {
    animation: spin 1s linear infinite;
  }
}

// ═══════════════════════════════════════════════════════════
// Announcements Ticker
// ═══════════════════════════════════════════════════════════

.bm-announcements-ticker {
  display: flex;
  align-items: stretch;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-light);
  border-radius: $radius-lg;
  margin-bottom: $spacing-lg;
  overflow: hidden;
}

.bm-announcements-label {
  display: flex;
  align-items: center;
  gap: 6px;
  padding: 10px 16px;
  background: var(--color-primary);
  color: white;
  font-size: 12px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  white-space: nowrap;
  flex-shrink: 0;

  svg { font-size: 16px; }
}

.bm-announcements-scroll {
  display: flex;
  flex-direction: column;
  flex: 1;
  overflow: hidden;
}

.bm-announcement-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-announcement-icon {
  flex-shrink: 0;
  svg { font-size: 18px; }
}

.bm-announcement-text {
  flex: 1;
  font-size: 13px;
  color: var(--color-text-secondary);
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;

  strong { color: var(--color-text); font-weight: 600; }
}

.bm-announcement-new {
  font-size: 9px;
  font-weight: 800;
  color: white;
  background: #ef4444;
  padding: 2px 6px;
  border-radius: $radius-full;
  letter-spacing: 0.5px;
  flex-shrink: 0;
  animation: newPulse 2s ease-in-out infinite;
}

@keyframes newPulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.7; }
}

.bm-announcement-date {
  font-size: 11px;
  color: var(--color-text-muted);
  white-space: nowrap;
  flex-shrink: 0;
}

// ═══════════════════════════════════════════════════════════
// Wallet + Stats Row
// ═══════════════════════════════════════════════════════════

.bm-wallet-stats-row {
  display: grid;
  grid-template-columns: 1fr repeat(4, 1fr);
  gap: $spacing-md;
  margin-bottom: $spacing-lg;

  @media (max-width: 1400px) { grid-template-columns: repeat(3, 1fr); }
  @media (max-width: 900px) { grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 640px) { grid-template-columns: 1fr; }
}

// Wallet Summary Card
.bm-wallet-summary-card {
  border-radius: $radius-lg;
  padding: $spacing-lg;
  background: linear-gradient(135deg, #1e3a5f 0%, #0f1d32 100%);
  color: #fff;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -30%;
    width: 200px;
    height: 200px;
    background: radial-gradient(circle, rgba(59, 130, 246, 0.2), transparent 70%);
    border-radius: 50%;
  }

  &:hover { transform: translateY(-4px); box-shadow: 0 8px 24px rgba(15, 29, 50, 0.4); }
}

.bm-wallet-summary-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.bm-wallet-summary-icon {
  width: 40px;
  height: 40px;
  border-radius: $radius-md;
  background: rgba(255, 255, 255, 0.15);
  @include flex-center;
  svg { font-size: 20px; }
}

.bm-wallet-summary-title {
  font-size: 13px;
  font-weight: 500;
  opacity: 0.8;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.bm-wallet-summary-balance {
  font-size: 30px;
  font-weight: 700;
  letter-spacing: -0.5px;
  margin-bottom: 14px;
  line-height: 1;
}

.bm-wallet-summary-substats {
  display: flex;
  gap: 16px;
  margin-bottom: 14px;
  padding-top: 12px;
  border-top: 1px solid rgba(255, 255, 255, 0.12);
}

.bm-wallet-summary-sub {
  flex: 1;

  &-value {
    display: block;
    font-size: 14px;
    font-weight: 600;
    &.positive { color: #4ade80; }
  }

  &-label {
    display: block;
    font-size: 11px;
    opacity: 0.6;
    text-transform: uppercase;
    letter-spacing: 0.3px;
    margin-top: 2px;
  }
}

.bm-wallet-add-btn {
  width: fit-content;
  padding: 8px;
  background: rgba(59, 130, 246, 0.3);
  border: 1px solid rgba(59, 130, 246, 0.4);
  border-radius: $radius-md;
  color: #93c5fd;
  font-size: 13px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;

  &:hover {
    background: rgba(59, 130, 246, 0.5);
    color: #fff;
    transform: translateY(-1px);
  }
}

// Stat Cards
.bm-stat-card {
  border-radius: $radius-lg;
  padding: $spacing-lg;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  cursor: pointer;

  &:hover { transform: translateY(-4px); box-shadow: $shadow-lg; }
}

.bm-stat-header {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  margin-bottom: 12px;
}

.bm-stat-icon {
  width: 44px;
  height: 44px;
  border-radius: $radius-md;
  @include flex-center;
  background: rgba(255, 255, 255, 0.8);
  box-shadow: $shadow-sm;
  svg { font-size: 22px; }
  &--primary { color: #3b82f6; }
  &--success { color: #22c55e; }
  &--warning { color: #f59e0b; }
  &--info { color: #06b6d4; }
}

.bm-stat-change {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  padding: 4px 10px;
  border-radius: $radius-full;
  font-size: 12px;
  font-weight: 600;
  svg { font-size: 14px; }
  &--positive { background: rgba(34, 197, 94, 0.15); color: #16a34a; }
  &--negative { background: rgba(239, 68, 68, 0.15); color: #dc2626; }
}

.bm-stat-value {
  font-size: 32px;
  font-weight: 700;
  color: var(--color-text);
  line-height: 1;
  margin-bottom: 6px;
  letter-spacing: -0.5px;
}

.bm-stat-label {
  font-size: 14px;
  font-weight: 600;
  color: var(--color-text-secondary);
  margin-bottom: 16px;
}

.bm-stat-substats {
  display: flex;
  gap: 16px;
  padding-top: 12px;
  border-top: 1px solid rgba(0, 0, 0, 0.08);
}

.bm-stat-substat {
  flex: 1;
  text-align: center;

  &-value { display: block; font-size: 15px; font-weight: 700; color: var(--color-text); }
  &-label { display: block; font-size: 11px; font-weight: 500; color: var(--color-text-muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
}

// ═══════════════════════════════════════════════════════════
// Today's Summary Bar
// ═══════════════════════════════════════════════════════════

.bm-today-summary {
  display: flex;
  align-items: center;
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-light);
  border-radius: $radius-lg;
  padding: $spacing-md $spacing-lg;
  margin-bottom: $spacing-lg;
  gap: $spacing-lg;
  overflow-x: auto;
}

.bm-today-item {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 160px;
}

.bm-today-icon {
  font-size: 24px;
  color: var(--color-primary);
  flex-shrink: 0;
}

.bm-today-info {
  flex: 1;
  min-width: 0;
}

.bm-today-value {
  display: block;
  font-size: 20px;
  font-weight: 700;
  color: var(--color-text);
  line-height: 1.2;
}

.bm-today-label {
  display: block;
  font-size: 12px;
  color: var(--color-text-muted);
  white-space: nowrap;
}

.bm-today-change {
  font-size: 12px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: $radius-full;
  flex-shrink: 0;

  &.positive { background: rgba(34, 197, 94, 0.12); color: #16a34a; }
  &.negative { background: rgba(239, 68, 68, 0.12); color: #dc2626; }
}

.bm-today-divider {
  width: 1px;
  height: 36px;
  background: var(--color-border);
  flex-shrink: 0;
}

// ═══════════════════════════════════════════════════════════
// Application Pipeline
// ═══════════════════════════════════════════════════════════

.bm-pipeline-card {
  margin-bottom: $spacing-lg;
}

.bm-pipeline {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: $spacing-lg;
  overflow-x: auto;
}

.bm-pipeline-stage {
  display: flex;
  align-items: center;
  gap: 8px;
  flex: 1;
  min-width: 100px;
}

.bm-pipeline-bar-wrapper {
  width: 100%;
  height: 8px;
  background: var(--color-border-light);
  border-radius: 4px;
  overflow: hidden;
}

.bm-pipeline-bar {
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease;
}

.bm-pipeline-info {
  text-align: center;
  min-width: 60px;
  flex-shrink: 0;
}

.bm-pipeline-count {
  display: block;
  font-size: 16px;
  font-weight: 700;
  line-height: 1.2;
}

.bm-pipeline-label {
  display: block;
  font-size: 10px;
  font-weight: 500;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  white-space: nowrap;
}

.bm-pipeline-arrow {
  font-size: 16px;
  color: var(--color-text-muted);
  flex-shrink: 0;
  opacity: 0.5;
}

// ═══════════════════════════════════════════════════════════
// Revenue Analytics
// ═══════════════════════════════════════════════════════════

.bm-revenue-card {
  margin-bottom: 0;
}

.bm-revenue-legend {
  display: flex;
  align-items: center;
  gap: 16px;
}

.bm-revenue-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--color-text-secondary);
  font-weight: 500;
}

.bm-legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 2px;
  flex-shrink: 0;
}

.bm-revenue-chart {
  display: flex;
  gap: 12px;
  padding: $spacing-lg;
  padding-bottom: $spacing-sm;
  height: 240px;
}

.bm-revenue-y-axis {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  font-size: 11px;
  color: var(--color-text-muted);
  font-weight: 500;
  padding-bottom: 24px;
  flex-shrink: 0;
  width: 50px;
  text-align: right;
}

.bm-revenue-bars {
  flex: 1;
  display: flex;
  align-items: flex-end;
  gap: 12px;
  border-left: 1px solid var(--color-border-light);
  border-bottom: 1px solid var(--color-border-light);
  padding: 0 8px;
}

.bm-revenue-bar-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.bm-revenue-bar-container {
  display: flex;
  align-items: flex-end;
  gap: 4px;
  width: 100%;
  height: 100%;
  justify-content: center;
}

.bm-revenue-bar {
  width: 40%;
  max-width: 28px;
  border-radius: 4px 4px 0 0;
  transition: height 0.5s ease;
  position: relative;

  &--actual {
    background: var(--color-primary);

    &:hover {
      opacity: 0.9;
      .bm-revenue-bar-tooltip { opacity: 1; transform: translateY(-4px); }
    }
  }

  &--target {
    background: #e2e8f0;
    opacity: 0.6;
  }
}

.bm-revenue-bar-tooltip {
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%) translateY(0);
  background: var(--color-text);
  color: white;
  font-size: 10px;
  font-weight: 600;
  padding: 3px 8px;
  border-radius: 4px;
  white-space: nowrap;
  opacity: 0;
  transition: all 0.2s ease;
  pointer-events: none;
}

.bm-revenue-bar-label {
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
}

.bm-revenue-summary {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1px;
  background: var(--color-border-light);
  border-top: 1px solid var(--color-border-light);

  @media (max-width: 640px) { grid-template-columns: repeat(2, 1fr); }
}

.bm-revenue-summary-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 14px;
  background: var(--color-card-bg);
  text-align: center;
}

.bm-revenue-summary-label {
  font-size: 11px;
  font-weight: 500;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-bottom: 4px;
}

.bm-revenue-summary-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--color-text);

  &.success { color: #16a34a; }
}

// ═══════════════════════════════════════════════════════════
// Traffic Chart
// ═══════════════════════════════════════════════════════════

.bm-traffic-legend {
  display: flex;
  align-items: center;
  gap: 12px;
}

.bm-traffic-legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  color: var(--color-text-secondary);
  font-weight: 500;
}

.bm-traffic-chart {
  display: flex;
  align-items: flex-end;
  gap: 4px;
  padding: $spacing-lg;
  height: 240px;
  border-bottom: 1px solid var(--color-border-light);
}

.bm-traffic-bar-group {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 6px;
  min-width: 0;
}

.bm-traffic-bar-container {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  width: 100%;
  height: 100%;
  justify-content: center;
}

.bm-traffic-bar {
  width: 45%;
  max-width: 16px;
  border-radius: 3px 3px 0 0;
  transition: height 0.5s ease, opacity 0.2s ease;
  cursor: pointer;

  &--visitors {
    background: #3b82f6;
    &:hover { opacity: 0.8; }
  }

  &--apps {
    background: #10b981;
    &:hover { opacity: 0.8; }
  }
}

.bm-traffic-hour {
  font-size: 9px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  white-space: nowrap;
}

.bm-traffic-summary {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1px;
  background: var(--color-border-light);
}

.bm-traffic-stat {
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 12px;
  background: var(--color-card-bg);
  text-align: center;
}

.bm-traffic-stat-value {
  font-size: 16px;
  font-weight: 700;
  color: var(--color-text);
}

.bm-traffic-stat-label {
  font-size: 10px;
  font-weight: 500;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-top: 2px;
}

// ═══════════════════════════════════════════════════════════
// Service Overview (Tabbed)
// ═══════════════════════════════════════════════════════════

.bm-overview-tabs {
  display: flex;
  gap: 4px;
  background: var(--color-background-secondary);
  border-radius: $radius-md;
  padding: 3px;
}

.bm-overview-tab {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 14px;
  font-size: 12px;
  font-weight: 500;
  color: var(--color-text-secondary);
  background: transparent;
  border: none;
  border-radius: $radius-sm;
  cursor: pointer;
  transition: all 0.2s ease;

  svg { font-size: 14px; }

  &:hover { color: var(--color-text); }

  &.active {
    background: var(--color-card-bg);
    color: var(--color-primary);
    font-weight: 600;
    box-shadow: $shadow-sm;
  }
}

.bm-overview-row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: $spacing-lg;
  margin-bottom: $spacing-lg;

  @media (max-width: 900px) { grid-template-columns: 1fr; }
}

.bm-overview-table {
  padding: 0;
}

.bm-overview-table-header {
  display: grid;
  grid-template-columns: 12px 1fr 60px 80px;
  gap: 10px;
  padding: 10px 16px;
  background: var(--color-background-secondary);
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.bm-overview-table-row {
  display: grid;
  grid-template-columns: 12px 1fr 60px 80px;
  gap: 10px;
  padding: 10px 16px;
  border-bottom: 1px solid var(--color-border-light);
  font-size: 13px;
  align-items: center;
  transition: background 0.15s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-overview-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.bm-overview-name {
  font-weight: 500;
  color: var(--color-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.bm-overview-count {
  text-align: right;
  font-size: 13px;
  color: var(--color-text-secondary);
  font-weight: 500;

  &--active {
    color: var(--color-primary);
    font-weight: 700;
  }
}

// ═══════════════════════════════════════════════════════════
// Payment Overview
// ═══════════════════════════════════════════════════════════

.bm-payment-overview {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: $spacing-md;
  padding: $spacing-lg;

  @media (max-width: 1200px) { grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 640px) { grid-template-columns: 1fr; }
}

.bm-payment-card {
  display: flex;
  gap: 16px;
  padding: $spacing-lg;
  border-left: 4px solid;
  border-radius: $radius-md;
  background: var(--color-background-secondary);
  transition: all 0.2s ease;

  &:hover {
    transform: translateY(-2px);
    box-shadow: $shadow-md;
  }
}

.bm-payment-icon-wrap {
  width: 48px;
  height: 48px;
  border-radius: $radius-lg;
  @include flex-center;
  flex-shrink: 0;
  svg { font-size: 24px; }
}

.bm-payment-info { flex: 1; min-width: 0; }

.bm-payment-name {
  display: block;
  font-size: 12px;
  font-weight: 600;
  color: var(--color-primary);
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.bm-payment-amount {
  display: block;
  font-size: 20px;
  font-weight: 700;
  color: var(--color-text);
  margin-bottom: 8px;
}

.bm-payment-substats {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}

.bm-payment-sub {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 11px;
  color: var(--color-text-secondary);

  strong { color: var(--color-text); }
}

.bm-payment-sub-dot {
  width: 6px;
  height: 6px;
  border-radius: 50%;
  flex-shrink: 0;
}

// ═══════════════════════════════════════════════════════════
// Grievance Tracker
// ═══════════════════════════════════════════════════════════

.bm-grievance-summary-badge {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
}

.bm-grievance-resolved {
  font-weight: 700;
  color: #16a34a;
}

.bm-grievance-total {
  color: var(--color-text-muted);
}

.bm-grievance-overview {
  display: flex;
  gap: $spacing-xl;
  padding: $spacing-lg;
  align-items: center;

  @media (max-width: 768px) {
    flex-direction: column;
  }
}

.bm-grievance-donut {
  position: relative;
  width: 140px;
  height: 140px;
  flex-shrink: 0;
}

.bm-donut-svg {
  width: 100%;
  height: 100%;
}

.bm-donut-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
}

.bm-donut-value {
  display: block;
  font-size: 24px;
  font-weight: 800;
  color: #16a34a;
  line-height: 1;
}

.bm-donut-label {
  display: block;
  font-size: 10px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-top: 2px;
}

.bm-grievance-categories {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.bm-grievance-category {}

.bm-grievance-cat-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.bm-grievance-cat-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

.bm-grievance-cat-name {
  flex: 1;
  font-size: 13px;
  font-weight: 500;
  color: var(--color-text);
}

.bm-grievance-cat-count {
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-secondary);
}

.bm-grievance-bar-wrap {
  height: 6px;
  background: var(--color-border-light);
  border-radius: 3px;
  overflow: hidden;
}

.bm-grievance-bar {
  height: 100%;
  border-radius: 3px;
  transition: width 0.5s ease;
}

// ═══════════════════════════════════════════════════════════
// Citizen Satisfaction
// ═══════════════════════════════════════════════════════════

.bm-satisfaction-score {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 14px;
  font-weight: 700;
  color: #f59e0b;
}

.bm-satisfaction-star {
  font-size: 18px;
  color: #f59e0b;
}

.bm-satisfaction-overview {
  padding: $spacing-md $spacing-lg;
}

.bm-satisfaction-bars {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

.bm-satisfaction-bar-item {
  display: flex;
  align-items: center;
  gap: 10px;
}

.bm-satisfaction-bar-label {
  font-size: 11px;
  font-weight: 600;
  width: 60px;
  text-transform: uppercase;
  letter-spacing: 0.3px;

  &.positive { color: #22c55e; }
  &.neutral { color: #f59e0b; }
  &.negative { color: #ef4444; }
}

.bm-satisfaction-bar-wrap {
  flex: 1;
  height: 8px;
  background: var(--color-border-light);
  border-radius: 4px;
  overflow: hidden;
}

.bm-satisfaction-bar {
  height: 100%;
  border-radius: 4px;
  transition: width 0.5s ease;
}

.bm-satisfaction-bar-count {
  font-size: 13px;
  font-weight: 700;
  color: var(--color-text);
  width: 24px;
  text-align: right;
}

// Feedback List
.bm-feedback-list {
  display: flex;
  flex-direction: column;
  border-top: 1px solid var(--color-border-light);
}

.bm-feedback-item {
  display: flex;
  gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.02); }
}

.bm-feedback-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  @include flex-center;
  color: white;
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
}

.bm-feedback-content {
  flex: 1;
  min-width: 0;
}

.bm-feedback-header {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 2px;
}

.bm-feedback-name {
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text);
}

.bm-feedback-service {
  font-size: 10px;
  font-weight: 600;
  padding: 1px 6px;
  background: rgba(var(--color-primary-rgb), 0.1);
  color: var(--color-primary);
  border-radius: $radius-sm;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.bm-feedback-comment {
  font-size: 12px;
  color: var(--color-text-secondary);
  margin: 0 0 4px;
  line-height: 1.4;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.bm-feedback-meta {
  display: flex;
  align-items: center;
  gap: 8px;
}

.bm-feedback-stars {
  display: inline-flex;
  align-items: center;
  gap: 1px;

  svg {
    font-size: 12px;
    color: var(--color-border);

    &.filled {
      color: #f59e0b;
      fill: #f59e0b;
    }
  }
}

.bm-feedback-date {
  font-size: 11px;
  color: var(--color-text-muted);
}

// ═══════════════════════════════════════════════════════════
// Pending Approvals
// ═══════════════════════════════════════════════════════════

.bm-badge-count {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: 24px;
  height: 24px;
  padding: 0 8px;
  background: rgba(239, 68, 68, 0.12);
  color: #dc2626;
  border-radius: $radius-full;
  font-size: 12px;
  font-weight: 700;
}

.bm-approvals-list {
  display: flex;
  flex-direction: column;
}

.bm-approval-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;
  cursor: pointer;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-approval-left {
  display: flex;
  align-items: center;
  gap: 12px;
  flex: 1;
  min-width: 0;
}

.bm-approval-urgency {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  @include flex-center;
  flex-shrink: 0;

  svg { font-size: 16px; }

  &--urgent { background: rgba(239, 68, 68, 0.12); color: #ef4444; }
  &--normal { background: rgba(245, 158, 11, 0.12); color: #f59e0b; }
  &--low { background: rgba(148, 163, 184, 0.12); color: #94a3b8; }
}

.bm-approval-info { flex: 1; min-width: 0; }

.bm-approval-title {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.bm-approval-meta {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 12px;
  color: var(--color-text-secondary);
  margin-top: 2px;
}

.bm-approval-type {
  font-size: 10px;
  font-weight: 600;
  padding: 1px 6px;
  background: rgba(var(--color-primary-rgb), 0.1);
  color: var(--color-primary);
  border-radius: $radius-sm;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.bm-approval-right {
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 2px;
  flex-shrink: 0;
}

.bm-approval-amount {
  font-size: 14px;
  font-weight: 700;
  color: var(--color-text);
}

.bm-approval-date {
  font-size: 11px;
  color: var(--color-text-muted);
}

.bm-card-footer {
  padding: 10px 16px;
  border-top: 1px solid var(--color-border-light);
  text-align: center;
}

// ═══════════════════════════════════════════════════════════
// Upcoming Events
// ═══════════════════════════════════════════════════════════

.bm-events-list {
  display: flex;
  flex-direction: column;
}

.bm-event-item {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-event-date-badge {
  width: 48px;
  height: 48px;
  border-radius: $radius-md;
  @include flex-center;
  flex-direction: column;
  flex-shrink: 0;
  gap: 0;
}

.bm-event-day {
  font-size: 18px;
  font-weight: 800;
  line-height: 1;
}

.bm-event-month {
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  line-height: 1.2;
}

.bm-event-info {
  flex: 1;
  min-width: 0;
}

.bm-event-title {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text);
  margin-bottom: 4px;
}

.bm-event-meta {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  color: var(--color-text-secondary);

  svg { font-size: 14px; flex-shrink: 0; }
}

.bm-event-priority {
  font-size: 10px;
  font-weight: 700;
  padding: 1px 6px;
  border-radius: $radius-full;
  text-transform: uppercase;
  letter-spacing: 0.3px;

  &--high { background: rgba(239, 68, 68, 0.12); color: #ef4444; }
  &--medium { background: rgba(245, 158, 11, 0.12); color: #f59e0b; }
  &--low { background: rgba(148, 163, 184, 0.12); color: #94a3b8; }
}

.bm-event-type-dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  flex-shrink: 0;
}

// ═══════════════════════════════════════════════════════════
// Main Content Grid (existing)
// ═══════════════════════════════════════════════════════════

.bm-content-main {
  display: grid;
  grid-template-columns: 1.5fr 1fr;
  gap: $spacing-lg;
  margin-bottom: $spacing-lg;

  @media (max-width: 1024px) { grid-template-columns: 1fr; }
}

.bm-content-left, .bm-content-right {
  display: flex;
  flex-direction: column;
  gap: $spacing-lg;
}

// Glass Card
.bm-card {
  background: var(--glass-bg);
  backdrop-filter: var(--glass-blur);
  -webkit-backdrop-filter: var(--glass-blur);
  border: 1px solid var(--color-border-light);
  border-radius: $radius-lg;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &:hover { box-shadow: var(--shadow-lg); }
  &--compact .bm-card-header { padding: $spacing-sm $spacing-lg; }
}

.bm-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: $spacing-md $spacing-lg;
  border-bottom: 1px solid var(--color-border-light);
  background: rgba(255, 255, 255, 0.5);
  gap: 12px;
}

.bm-card-title {
  font-size: 15px;
  font-weight: 600;
  color: var(--color-text);
  margin: 0;
  display: flex;
  align-items: center;
  gap: 8px;

  &::before {
    content: '';
    width: 4px;
    height: 16px;
    background: linear-gradient(180deg, var(--color-primary), var(--color-accent));
    border-radius: 2px;
    flex-shrink: 0;
  }
}

.bm-link-btn {
  font-size: 12px;
  color: var(--color-primary);
  background: none;
  border: none;
  cursor: pointer;
  padding: 4px 10px;
  border-radius: $radius-full;
  transition: all 0.15s ease;
  display: inline-flex;
  align-items: center;
  gap: 4px;
  white-space: nowrap;

  &:hover { background: rgba(var(--color-primary-rgb), 0.1); }
}

// Services Table
.bm-services-table { padding: 0; }

.bm-services-header {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 80px;
  gap: 12px;
  padding: 12px 16px;
  background: var(--color-background-secondary);
  font-size: 11px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.bm-services-row {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 80px;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--color-border-light);
  cursor: pointer;
  transition: background 0.2s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-service-name { font-weight: 500; color: var(--color-text); }
.bm-service-apps, .bm-service-revenue { font-size: 14px; color: var(--color-text-secondary); }

.bm-service-trend {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-size: 13px;
  font-weight: 500;
  svg { font-size: 14px; }
  &.positive { color: #16a34a; }
  &.negative { color: #dc2626; }
}

// States Grid
.bm-states-grid {
  display: flex;
  flex-direction: column;
  gap: 1px;
  background: var(--color-border-light);
}

.bm-state-card {
  padding: 16px;
  background: var(--color-card-bg);
  cursor: pointer;
  transition: background 0.2s ease;
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-state-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.bm-state-code {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 36px;
  height: 36px;
  background: linear-gradient(135deg, var(--color-primary), #6366f1);
  color: white;
  font-size: 12px;
  font-weight: 700;
  border-radius: $radius-md;
}

.bm-state-name { font-size: 15px; font-weight: 600; color: var(--color-text); }

.bm-state-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
  margin-bottom: 12px;
}

.bm-state-stat {
  text-align: center;
  padding: 8px;
  background: var(--color-background-secondary);
  border-radius: $radius-sm;

  &-value { display: block; font-size: 15px; font-weight: 700; color: var(--color-text); &.bm-state-success { color: #16a34a; } }
  &-label { display: block; font-size: 10px; font-weight: 500; color: var(--color-text-muted); text-transform: uppercase; letter-spacing: 0.5px; margin-top: 2px; }
}

.bm-state-progress {
  height: 4px;
  background: var(--color-border-light);
  border-radius: 2px;
  overflow: hidden;

  &-bar { height: 100%; background: linear-gradient(90deg, #3b82f6, #10b981); border-radius: 2px; transition: width 0.3s ease; }
}

// Quick Actions
.bm-actions-grid { display: flex; flex-direction: column; }

.bm-quick-action {
  display: flex;
  align-items: center;
  gap: $spacing-md;
  padding: $spacing-md $spacing-lg;
  background: transparent;
  border: none;
  border-bottom: 1px solid var(--color-border-light);
  cursor: pointer;
  text-align: left;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;

  &::before {
    content: '';
    position: absolute;
    left: 0; top: 0; bottom: 0;
    width: 3px;
    background: linear-gradient(180deg, var(--color-primary), var(--color-accent));
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); padding-left: calc($spacing-lg + 4px); &::before { opacity: 1; } }
}

.bm-action-icon {
  width: 40px; height: 40px;
  border-radius: $radius-md;
  @include flex-center;
  padding: 6px;
  flex-shrink: 0;
  transition: all 0.2s ease;
  font-size: 18px;

  .bm-quick-action:hover & { transform: scale(1.05); box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.2); }
}

.bm-action-content { flex: 1; min-width: 0; }
.bm-action-label { display: block; font-size: 14px; font-weight: 500; color: var(--color-text); margin-bottom: 2px; }
.bm-action-desc { display: block; font-size: 12px; color: var(--color-text-secondary); }

.bm-action-arrow {
  font-size: 16px;
  color: var(--color-primary);
  opacity: 0;
  transform: translateX(-8px);
  transition: all 0.2s ease;
  .bm-quick-action:hover & { opacity: 1; transform: translateX(0); }
}

// Activity List
.bm-activity-list { display: flex; flex-direction: column; }

.bm-activity-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: $spacing-md;
  padding: $spacing-md $spacing-lg;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.2s ease;
  cursor: pointer;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.02); }
}

.bm-activity-info { flex: 1; min-width: 0; }
.bm-activity-title { display: block; font-size: 13px; font-weight: 500; color: var(--color-text); margin-bottom: 4px; }
.bm-activity-meta { display: flex; align-items: center; gap: 8px; font-size: 12px; color: var(--color-text-secondary); }
.bm-activity-applicant { &::after { content: '·'; margin-left: 8px; color: var(--color-text-muted); } }
.bm-activity-date { color: var(--color-text-muted); }

// Status Badge
.bm-status {
  font-size: 11px;
  font-weight: 600;
  padding: 4px 10px;
  border-radius: $radius-full;
  text-transform: capitalize;
  letter-spacing: 0.3px;
  white-space: nowrap;

  &--warning { background: linear-gradient(135deg, rgba(245, 158, 11, 0.15), rgba(245, 158, 11, 0.1)); color: #d97706; }
  &--success { background: linear-gradient(135deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.1)); color: #16a34a; }
  &--primary { background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.1)); color: #2563eb; }
  &--danger { background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(239, 68, 68, 0.1)); color: #dc2626; }
  &--info { background: linear-gradient(135deg, rgba(6, 182, 212, 0.15), rgba(6, 182, 212, 0.1)); color: #0891b2; }
}

// ═══════════════════════════════════════════════════════════
// Staff Leaderboard
// ═══════════════════════════════════════════════════════════

.bm-leaderboard {
  display: flex;
  flex-direction: column;
}

.bm-leaderboard-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-leaderboard-rank {
  width: 28px;
  text-align: center;
  flex-shrink: 0;
}

.bm-leaderboard-medal {
  font-size: 18px;
  line-height: 1;
}

.bm-leaderboard-num {
  font-size: 13px;
  font-weight: 700;
  color: var(--color-text-muted);
}

.bm-leaderboard-avatar {
  width: 36px;
  height: 36px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--color-primary), #6366f1);
  @include flex-center;
  color: white;
  font-size: 12px;
  font-weight: 700;
  flex-shrink: 0;
}

.bm-leaderboard-info {
  flex: 1;
  min-width: 0;
}

.bm-leaderboard-name {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text);
}

.bm-staff-status-dot {
  width: 7px;
  height: 7px;
  border-radius: 50%;
  flex-shrink: 0;

  &--online { background: #22c55e; }
  &--busy { background: #f59e0b; }
  &--offline { background: #94a3b8; }
}

.bm-leaderboard-role {
  display: block;
  font-size: 11px;
  color: var(--color-text-secondary);
  margin-top: 1px;
}

.bm-leaderboard-stats {
  display: flex;
  gap: 16px;
  flex-shrink: 0;

  @media (max-width: 640px) { display: none; }
}

.bm-leaderboard-stat {
  text-align: center;
  min-width: 50px;
}

.bm-leaderboard-stat-value {
  display: block;
  font-size: 13px;
  font-weight: 700;
  color: var(--color-text);
}

.bm-leaderboard-stat-label {
  display: block;
  font-size: 10px;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-top: 1px;
}

.bm-leaderboard-rating {
  display: inline-flex;
  align-items: center;
  gap: 2px;
  color: #f59e0b !important;

  svg { font-size: 12px; }
}

// ═══════════════════════════════════════════════════════════
// Recent Documents
// ═══════════════════════════════════════════════════════════

.bm-recent-docs {
  display: flex;
  flex-direction: column;
}

.bm-doc-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 12px 16px;
  border-bottom: 1px solid var(--color-border-light);
  transition: background 0.15s ease;
  cursor: pointer;

  &:last-child { border-bottom: none; }
  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-doc-icon {
  width: 40px;
  height: 40px;
  border-radius: $radius-md;
  @include flex-center;
  flex-shrink: 0;

  svg { font-size: 20px; }
}

.bm-doc-info {
  flex: 1;
  min-width: 0;
}

.bm-doc-name {
  display: block;
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.bm-doc-meta {
  display: block;
  font-size: 11px;
  color: var(--color-text-secondary);
  margin-top: 2px;
}

.bm-doc-size {
  font-size: 12px;
  font-weight: 500;
  color: var(--color-text-muted);
  flex-shrink: 0;
}

// ═══════════════════════════════════════════════════════════
// Top Districts
// ═══════════════════════════════════════════════════════════

.bm-districts-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1px;
  background: var(--color-border-light);

  @media (max-width: 1200px) { grid-template-columns: repeat(3, 1fr); }
  @media (max-width: 900px) { grid-template-columns: repeat(2, 1fr); }
  @media (max-width: 640px) { grid-template-columns: 1fr; }
}

.bm-district-card {
  padding: 16px;
  background: var(--color-card-bg);
  position: relative;
  transition: all 0.2s ease;
  cursor: pointer;

  &:hover { background: rgba(var(--color-primary-rgb), 0.03); }
}

.bm-district-rank-badge {
  position: absolute;
  top: 10px;
  right: 10px;
  font-size: 11px;
  font-weight: 800;
  color: var(--color-primary);
  background: rgba(var(--color-primary-rgb), 0.1);
  padding: 2px 8px;
  border-radius: $radius-full;
}

.bm-district-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 12px;
}

.bm-district-icon {
  width: 36px;
  height: 36px;
  border-radius: $radius-md;
  background: rgba(var(--color-primary-rgb), 0.1);
  color: var(--color-primary);
  @include flex-center;
  flex-shrink: 0;

  svg { font-size: 18px; }
}

.bm-district-name {
  display: block;
  font-size: 14px;
  font-weight: 700;
  color: var(--color-text);
}

.bm-district-state {
  display: block;
  font-size: 11px;
  color: var(--color-text-secondary);
}

.bm-district-stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 8px;
  margin-bottom: 10px;
}

.bm-district-stat {
  padding: 6px;
  background: var(--color-background-secondary);
  border-radius: $radius-sm;
  text-align: center;
}

.bm-district-stat-label {
  display: block;
  font-size: 9px;
  font-weight: 600;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.bm-district-stat-value {
  display: block;
  font-size: 14px;
  font-weight: 700;
  color: var(--color-text);
  margin-top: 2px;
}

.bm-district-growth {
  display: flex;
  align-items: center;
  gap: 4px;
  font-size: 12px;
  font-weight: 600;
  color: #16a34a;

  svg { font-size: 14px; }
}

// ═══════════════════════════════════════════════════════════
// Support Center Card
// ═══════════════════════════════════════════════════════════

.bm-support-content {
  padding: $spacing-lg;
}

.bm-support-status {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: $spacing-md;
  background: rgba(34, 197, 94, 0.06);
  border: 1px solid rgba(34, 197, 94, 0.15);
  border-radius: $radius-md;
  margin-bottom: $spacing-md;
}

.bm-support-status-icon {
  font-size: 36px;
  &.online { color: #22c55e; }
}

.bm-support-status-label {
  display: block;
  font-size: 12px;
  color: var(--color-text-secondary);
  font-weight: 500;
}

.bm-support-available {
  display: block;
  font-size: 18px;
  font-weight: 700;
  color: #16a34a;
  letter-spacing: 1px;
}

.bm-support-info-row {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: $spacing-sm 0;
  border-bottom: 1px solid var(--color-border-light);

  &:last-of-type { border-bottom: none; }

  > svg {
    font-size: 20px;
    color: var(--color-primary);
    flex-shrink: 0;
  }
}

.bm-support-info-title {
  display: block;
  font-size: 12px;
  color: var(--color-text-muted);
  font-weight: 500;
}

.bm-support-info-desc {
  display: block;
  font-size: 13px;
  color: var(--color-text);
  font-weight: 500;
}

.bm-support-phone {
  font-size: 16px;
  font-weight: 700;
  color: var(--color-primary) !important;
}

.bm-support-quick-stats {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: $spacing-md;
  padding-top: $spacing-md;
  border-top: 1px solid var(--color-border-light);
}

.bm-support-quick-stat {
  text-align: center;
  padding: $spacing-sm;
  background: var(--color-background-secondary);
  border-radius: $radius-sm;
}

.bm-support-quick-value {
  display: block;
  font-size: 16px;
  font-weight: 700;
  color: var(--color-text);
}

.bm-support-quick-label {
  display: block;
  font-size: 10px;
  font-weight: 500;
  color: var(--color-text-muted);
  text-transform: uppercase;
  letter-spacing: 0.3px;
  margin-top: 2px;
}

.bm-support-note {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-top: $spacing-md;
  padding: $spacing-sm $spacing-md;
  background: rgba(245, 158, 11, 0.08);
  border-radius: $radius-sm;
  font-size: 12px;
  color: #d97706;

  svg { font-size: 16px; flex-shrink: 0; }
}

// ═══════════════════════════════════════════════════════════
// Login History Table
// ═══════════════════════════════════════════════════════════

.bm-login-history-card {
  margin-bottom: $spacing-lg;
}

.bm-login-table-wrapper {
  overflow-x: auto;
  @include custom-scrollbar;
}

.bm-login-table {
  width: 100%;
  border-collapse: collapse;

  thead tr {
    background: var(--color-background-secondary);
  }

  th {
    padding: 12px 16px;
    text-align: left;
    font-size: 11px;
    font-weight: 700;
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
    white-space: nowrap;
  }

  td {
    padding: 14px 16px;
    font-size: 13px;
    color: var(--color-text-secondary);
    border-bottom: 1px solid var(--color-border-light);
    white-space: nowrap;
  }

  tbody tr {
    transition: background 0.15s ease;
    &:hover { background: rgba(var(--color-primary-rgb), 0.02); }
    &:last-child td { border-bottom: none; }
  }
}

.bm-login-date {
  font-weight: 500;
  color: var(--color-text) !important;
}

.bm-login-device {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  svg { font-size: 16px; color: var(--color-primary); }
}

.bm-login-location {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  svg { font-size: 14px; color: var(--color-text-muted); }
}

.bm-login-ip {
  padding: 3px 8px;
  background: rgba(239, 68, 68, 0.1);
  color: #dc2626;
  border-radius: $radius-sm;
  font-size: 12px;
  font-weight: 600;
}

// ═══════════════════════════════════════════════════════════
// System Health Grid
// ═══════════════════════════════════════════════════════════

.bm-system-health-status {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 12px;
  font-weight: 600;
  color: #16a34a;
}

.bm-health-pulse {
  width: 8px;
  height: 8px;
  background: #22c55e;
  border-radius: 50%;
  animation: pulse 2s infinite;
}

.bm-health-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 1px;
  background: var(--color-border-light);

  @media (max-width: 768px) { grid-template-columns: repeat(2, 1fr); }
}

.bm-health-item {
  display: flex;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: var(--color-card-bg);
}

.bm-health-icon {
  width: 36px; height: 36px;
  border-radius: $radius-md;
  @include flex-center;
  padding: 6px;
  font-size: 18px;

  &--success { background: rgba(34, 197, 94, 0.1); color: #22c55e; }
  &--warning { background: rgba(245, 158, 11, 0.1); color: #f59e0b; }
  &--danger { background: rgba(239, 68, 68, 0.1); color: #ef4444; }
}

.bm-health-info { flex: 1; }
.bm-health-label { display: block; font-size: 11px; font-weight: 500; color: var(--color-text-muted); text-transform: uppercase; letter-spacing: 0.5px; }
.bm-health-value { display: block; font-size: 16px; font-weight: 700; color: var(--color-text); margin-top: 2px; }

// ═══════════════════════════════════════════════════════════
// Dark Mode Overrides
// ═══════════════════════════════════════════════════════════

body.dark-mode {
  .bm-page-title {
    background: linear-gradient(135deg, var(--color-text) 0%, #60a5fa 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .bm-header-wave {
    background: rgba(59, 130, 246, 0.15);
    color: #93c5fd;
  }

  .bm-stat-card {
    background: var(--color-background-secondary) !important;
    &:hover { box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3); }
  }

  .bm-stat-substats { border-top-color: rgba(255, 255, 255, 0.1); }
  .bm-stat-icon { background: rgba(255, 255, 255, 0.1); }

  .bm-card { background: var(--color-background-secondary); }
  .bm-card-header { background: var(--color-background); }
  .bm-services-header, .bm-overview-table-header { background: var(--color-background); }

  .bm-state-card, .bm-health-item, .bm-district-card, .bm-revenue-summary-item, .bm-traffic-stat { background: var(--color-background-secondary); }
  .bm-states-grid, .bm-health-grid, .bm-districts-grid, .bm-revenue-summary, .bm-traffic-summary { background: var(--color-border); }

  .bm-live-indicator { background: rgba(34, 197, 94, 0.15); border-color: rgba(34, 197, 94, 0.3); }

  .bm-today-summary { background: var(--color-background-secondary); border-color: var(--color-border); }
  .bm-announcements-ticker { background: var(--color-background-secondary); border-color: var(--color-border); }

  .bm-payment-card { background: var(--color-background); }

  .bm-wallet-summary-card { background: linear-gradient(135deg, #162544, #0a1628); }

  .bm-login-table thead tr { background: var(--color-background); }
  .bm-login-table td { border-bottom-color: var(--color-border); }

  .bm-support-status { background: rgba(34, 197, 94, 0.1); border-color: rgba(34, 197, 94, 0.2); }
  .bm-support-quick-stat { background: var(--color-background); }

  .bm-revenue-bar--target { background: rgba(255, 255, 255, 0.15); }
  .bm-revenue-bar-tooltip { background: #e2e8f0; color: #1e293b; }

  .bm-district-stat { background: var(--color-background); }
  .bm-state-stat { background: var(--color-background); }

  .bm-overview-tabs { background: var(--color-background); }
  .bm-overview-tab.active { background: var(--color-background-secondary); }

  .bm-grievance-bar-wrap { background: var(--color-border); }
  .bm-satisfaction-bar-wrap { background: var(--color-border); }

  .bm-feedback-item:hover { background: rgba(255, 255, 255, 0.02); }
}
