<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharat Mithra - National Command Center</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #ffffff;
            --secondary-bg: #f8f9fa;
            --card-bg: #ffffff;
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --primary-light: #eff6ff;
            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;
            --success: #10b981;
            --success-light: #ecfdf5;
            --warning: #f59e0b;
            --warning-light: #fffbeb;
            --danger: #ef4444;
            --danger-light: #fef2f2;
            --info: #3b82f6;
            --text-primary: #080b12;
            --text-secondary: #464b56;
            --text-muted: #757b86;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        body {
            font-family: 'SF Pro Display', 'Segoe UI', 'Roboto', 'Helvetica Neue', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--primary-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            font-size: 15px;
        }

        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--gray-100);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--gray-300);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gray-400);
        }

        .header {
            background: var(--primary-bg);
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: var(--shadow-sm);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 1.5rem;
            max-width: 1920px;
            margin: 0 auto;
            height: 60px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            border-radius: 28px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            box-shadow: var(--shadow-md);
            img {
                height: 45px;
            }
        }

        .logo-text h1 {
            font-size: 1.25rem;
            font-weight: 600;
            color: var(--text-primary);
            letter-spacing: -0.3px;
        }

        .logo-text p {
            font-size: 0.7rem;
            color: var(--text-secondary);
            margin-top: -3px;
            letter-spacing: 0.3px;
            font-weight: 500;
        }

        .header-stats {
            display: flex;
            gap: 0.5rem;
        }

        .header-stat {
            padding: 0.5rem 0.875rem;
            background: var(--gray-50);
            border-radius: 6px;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            border: 1px solid var(--gray-200);
            transition: all 0.2s ease;
        }

        .header-stat:hover {
            background: white;
            box-shadow: var(--shadow-sm);
        }

        .header-stat-value {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .header-stat-label {
            font-size: 0.7rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.75rem;
            background: var(--gray-50);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            border: 1px solid var(--gray-200);
        }

        .user-profile:hover {
            background: var(--gray-100);
        }

        .user-avatar {
            width: 32px;
            height: 32px;
            background: var(--primary-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            color: white;
            font-size: 0.8rem;
        }

        .nav-container {
            background: var(--primary-bg);
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            width: 100%;
            top: 60px;
            z-index: 999;
        }

        .nav {
            display: flex;
            max-width: 1920px;
            margin: 0 auto;
            overflow-x: auto;
            scrollbar-width: none;
        }

        .nav::-webkit-scrollbar {
            display: none;
        }

        .nav-item {
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            color: var(--text-secondary);
            border-bottom: 2px solid transparent;
            transition: all 0.2s ease;
            white-space: nowrap;
            font-weight: 500;
            font-size: 0.875rem;
            position: relative;
        }

        .nav-item:hover {
            color: var(--text-primary);
            background: var(--gray-50);
        }

        .nav-item.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
            background: transparent;
        }

        .nav-badge {
            position: absolute;
            top: 8px;
            right: 8px;
            background: var(--danger);
            color: white;
            font-size: 0.65rem;
            padding: 2px 5px;
            border-radius: 10px;
            font-weight: 600;
        }

        .breadcrumbs {
            padding: 0.65rem 1.5rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            position: fixed;
            width: 100%;
            top: 107px;
            z-index: 998;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.8rem;
        }

        .breadcrumb-item {
            color: var(--text-secondary);
            cursor: pointer;
            transition: color 0.2s ease;
            font-weight: 500;
        }

        .breadcrumb-item:hover {
            color: var(--primary-color);
        }

        .breadcrumb-separator {
            color: var(--text-muted);
        }

        .breadcrumb-current {
            color: var(--text-primary);
            font-weight: 600;
        }

        .main-container {
            margin-top: 150px;
            min-height: calc(100vh - 150px);
        }

        .content-wrapper {
            max-width: 1920px;
            margin: 0 auto;
            padding: 1.5rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .stat-card {
            background: linear-gradient(135deg, #cafce5 0%, #c5f5e8 100%);
            border-radius: 12px;
            padding: 1.25rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 100%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }

        .stat-card:hover::before {
            opacity: 1;
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 0.5rem;
        }

        .stat-icon {
            width: 42px;
            height: 42px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.35rem;
            box-shadow: var(--shadow-sm);
        }

        .stat-value {
            font-size: 2.25rem;
            font-weight: 700;
            margin: 0.5rem 0;
            color: var(--text-primary);
            letter-spacing: -0.5px;
        }

        .stat-label {
            color: var(--text-secondary);
            font-size: 0.95rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
        }

        .stat-details {
            display: flex;
            gap: 1rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .stat-detail {
            flex: 1;
        }

        .stat-detail-value {
            font-weight: 700;
            color: var(--primary-color);
            font-size: 1.1rem;
        }

        .stat-detail-label {
            font-size: 0.75rem;
            font-weight: 500;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .stat-trend {
            display: flex;
            align-items: center;
            gap: 0.25rem;
            padding: 0.3rem 0.75rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .stat-trend.up {
            background: var(--success-light);
            color: var(--success);
        }

        .stat-trend.down {
            background: var(--danger-light);
            color: var(--danger);
        }

        .live-indicator {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 1rem;
            background: var(--success-light);
            border-radius: 20px;
            font-size: 0.8rem;
            color: var(--success);
            font-weight: 600;
            border: 1px solid var(--success);
        }

        .live-indicator::before {
            content: '';
            width: 8px;
            height: 8px;
            background: var(--success);
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { 
                box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.7);
                transform: scale(1);
            }
            50% { 
                box-shadow: 0 0 0 8px rgba(16, 185, 129, 0);
                transform: scale(1.1);
            }
        }

        .state-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.25rem;
            margin-bottom: 1.5rem;
        }

        .state-card {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .state-card::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: linear-gradient(135deg, var(--primary-light) 0%, transparent 100%);
            border-radius: 0 0 0 100%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .state-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary-color);
        }

        .state-card:hover::after {
            opacity: 1;
        }

        .state-name {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .state-stats {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .state-stat-item {
            text-align: center;
            padding: 0.875rem;
            background: var(--gray-50);
            border-radius: 8px;
            transition: all 0.2s ease;
        }

        .state-stat-item:hover {
            background: var(--primary-light);
        }

        .state-stat-value {
            font-size: 1.35rem;
            font-weight: 700;
            color: var(--primary-color);
        }

        .state-stat-label {
            font-size: 0.7rem;
            color: var(--text-muted);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-top: 0.25rem;
            font-weight: 600;
        }

        .badge {
            padding: 0.35rem 0.875rem;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.35rem;
        }

        .badge-success { background: var(--success-light); color: var(--success); }
        .badge-warning { background: var(--warning-light); color: var(--warning); }
        .badge-info { background: var(--primary-light); color: var(--primary-color); }
        .badge-danger { background: var(--danger-light); color: var(--danger); }

        .btn {
            padding: 0.6rem 1.25rem;
            border: none;
            border-radius: 6px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-hover);
            transform: translateY(-1px);
            box-shadow: var(--shadow-md);
        }

        .btn-secondary {
            background: white;
            color: var(--text-primary);
            border: 1px solid var(--gray-300);
        }

        .btn-secondary:hover {
            background: var(--gray-50);
        }

        .btn-icon {
            width: 36px;
            height: 36px;
            padding: 0;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .search-filter-bar {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 300px;
            padding: 0.75rem 1rem 0.75rem 2.5rem;
            background: white;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px var(--primary-light);
        }

        .filter-select {
            padding: 0.75rem 1rem;
            background: white;
            border: 1px solid var(--gray-300);
            border-radius: 8px;
            min-width: 140px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s ease;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: var(--shadow-xl);
            animation: modalSlideIn 0.3s ease;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--gray-50);
        }

        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .modal-body {
            padding: 1.5rem;
        }

        .modal-footer {
            padding: 1rem 1.5rem;
            border-top: 1px solid var(--gray-200);
            display: flex;
            justify-content: flex-end;
            gap: 0.75rem;
            background: var(--gray-50);
        }

        .chart-container {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.25rem;
        }

        .chart-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .chart-placeholder {
            height: 350px;
            background: var(--gray-50);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            color: var(--text-muted);
            border: 2px dashed var(--gray-300);
        }

        .data-table-container {
            background: white;
            border: 1px solid var(--gray-200);
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
        }

        .table-header {
            padding: 1.25rem;
            background: var(--gray-50);
            border-bottom: 1px solid var(--gray-200);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .table-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table th {
            background: var(--gray-50);
            padding: 1rem;
            text-align: left;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-table td {
            padding: 1rem;
            border-bottom: 1px solid var(--gray-200);
            font-size: 0.9rem;
        }

        .data-table tr:hover {
            background: var(--gray-50);
        }

        @media (max-width: 768px) {
            .header-stats { display: none; }
            .dashboard-grid { grid-template-columns: 1fr; }
            .state-grid { grid-template-columns: 1fr; }
            .search-filter-bar { flex-direction: column; }
            .search-input { min-width: 100%; }
            .modal-content { width: 95%; }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <div class="logo-icon"><img src="/logox1.png" alt=""></div>
                <div class="logo-text">
                    <h1>Bharat Mithra</h1>
                    <p>National Command Center - India</p>
                </div>
            </div>

            <div class="header-stats">
                <div class="header-stat">
                    <div class="header-stat-value">36</div>
                    <div class="header-stat-label">States/UTs</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value">756</div>
                    <div class="header-stat-label">Districts</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value">2.62 L</div>
                    <div class="header-stat-label">GPs</div>
                </div>
                <div class="header-stat">
                    <div class="header-stat-value">2.85 L</div>
                    <div class="header-stat-label">Agents</div>
                </div>
            </div>

            <div class="header-actions">
                <button class="btn btn-secondary btn-icon" title="Notifications">üîî</button>
                <select class="filter-select" style="min-width: 100px;">
                    <option>English</option>
                    <option>‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
                </select>
                <div class="user-profile">
                    <div class="user-avatar">NA</div>
                    <div>
                        <div style="font-weight: 600;">National Admin</div>
                        <div style="font-size: 0.75rem; color: var(--text-muted);">Super Admin</div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <nav class="nav-container">
        <div class="nav">
            <div class="nav-item active" onclick="showSection('dashboard')">Dashboard</div>
            <div class="nav-item" onclick="showSection('states')">States & UTs<span class="nav-badge">36</span></div>
            <div class="nav-item" onclick="showSection('hierarchy')">Hierarchy</div>
            <div class="nav-item" onclick="showSection('districts')">Districts<span class="nav-badge">756</span></div>
            <div class="nav-item" onclick="showSection('staff')">Staff</div>
            <div class="nav-item" onclick="showSection('agents')">Agents</div>
            <div class="nav-item" onclick="showSection('finance')">Finance</div>
            <div class="nav-item" onclick="showSection('operations')">Operations</div>
            <div class="nav-item" onclick="showSection('services')">Services</div>
            <div class="nav-item" onclick="showSection('analytics')">Analytics</div>
            <div class="nav-item" onclick="showSection('reports')">Reports</div>
            <div class="nav-item" onclick="showSection('settings')">Settings</div>
        </div>
    </nav>

    <div class="breadcrumbs">
        <span class="breadcrumb-item" onclick="showSection('dashboard')">Home</span>
        <span class="breadcrumb-separator">‚Ä∫</span>
        <span class="breadcrumb-current" id="breadcrumbCurrent">Dashboard</span>
    </div>

    <div class="main-container">
        <div class="content-wrapper">
            
            <!-- Dashboard Section -->
            <section id="dashboardSection">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2 style="font-size: 1.75rem; font-weight: 600;">National Overview - Republic of India</h2>
                    <div class="live-indicator">System Live</div>
                </div>

                <div class="dashboard-grid">
                    <div class="stat-card" onclick="showSection('states')">
                        <div class="stat-header">
                            <div class="stat-icon">üó∫Ô∏è</div>
                            <div class="stat-trend up">‚Üë 100%</div>
                        </div>
                        <div class="stat-value">36</div>
                        <div class="stat-label">States & Union Territories</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">28</div>
                                <div class="stat-detail-label">States</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">8</div>
                                <div class="stat-detail-label">UTs</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">756</div>
                                <div class="stat-detail-label">Districts</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card" onclick="showSection('agents')">
                        <div class="stat-header">
                            <div class="stat-icon">üë•</div>
                            <div class="stat-trend up">‚Üë 4.2%</div>
                        </div>
                        <div class="stat-value">2.85 L</div>
                        <div class="stat-label">Active Agents Nationwide</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">18.5K</div>
                                <div class="stat-detail-label">New (30 days)</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">42.3K</div>
                                <div class="stat-detail-label">Low Credit</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">8,456</div>
                                <div class="stat-detail-label">Vacant GPs</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card" onclick="showSection('services')">
                        <div class="stat-header">
                            <div class="stat-icon">üìù</div>
                            <div class="stat-trend up">‚Üë 11.8%</div>
                        </div>
                        <div class="stat-value">85.6 Lakh</div>
                        <div class="stat-label">Monthly Applications</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">2.85 L</div>
                                <div class="stat-detail-label">Daily Average</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">93.7%</div>
                                <div class="stat-detail-label">Success Rate</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">2.6 days</div>
                                <div class="stat-detail-label">Avg Processing</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card" onclick="showSection('finance')">
                        <div class="stat-header">
                            <div class="stat-icon">üí∞</div>
                            <div class="stat-trend up">‚Üë 14.2%</div>
                        </div>
                        <div class="stat-value">‚Çπ428 Cr</div>
                        <div class="stat-label">Monthly Revenue (National)</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">‚Çπ14.3 Cr</div>
                                <div class="stat-detail-label">Daily Average</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">‚Çπ85.6 Cr</div>
                                <div class="stat-detail-label">Agent Commission</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">‚Çπ28.5 Cr</div>
                                <div class="stat-detail-label">Platform Fee</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card" onclick="showSection('staff')">
                        <div class="stat-header">
                            <div class="stat-icon">üë®‚Äçüíº</div>
                            <div class="stat-trend up">‚Üë 2.8%</div>
                        </div>
                        <div class="stat-value">46,523</div>
                        <div class="stat-label">Total Staff (National)</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">28,540</div>
                                <div class="stat-detail-label">Case Workers</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">9,456</div>
                                <div class="stat-detail-label">Telecallers</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">3,892</div>
                                <div class="stat-detail-label">Managers</div>
                            </div>
                        </div>
                    </div>

                    <div class="stat-card" onclick="showSection('operations')">
                        <div class="stat-header">
                            <div class="stat-icon">‚ö°</div>
                            <div class="stat-trend up">‚Üë 0.1%</div>
                        </div>
                        <div class="stat-value">99.6%</div>
                        <div class="stat-label">National System Uptime</div>
                        <div class="stat-details">
                            <div class="stat-detail">
                                <div class="stat-detail-value">178ms</div>
                                <div class="stat-detail-label">Avg Response</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">36/36</div>
                                <div class="stat-detail-label">States Online</div>
                            </div>
                            <div class="stat-detail">
                                <div class="stat-detail-value">234</div>
                                <div class="stat-detail-label">Open Tickets</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Performance Charts -->
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem; margin-top: 2rem;">
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">State-wise Application Volume</h3>
                            <button class="btn btn-secondary">Export</button>
                        </div>
                        <div class="chart-placeholder">
                            <div>üìä Interactive State Performance Chart</div>
                        </div>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3 class="chart-title">National Revenue Trend (30 Days)</h3>
                            <button class="btn btn-secondary">Details</button>
                        </div>
                        <div class="chart-placeholder">
                            <div>üìà Revenue Growth Analytics</div>
                        </div>
                    </div>
                </div>

                <!-- Top Performing States -->
                <div class="data-table-container" style="margin-top: 2rem;">
                    <div class="table-header">
                        <h3 class="table-title">Top 10 Performing States - October 2024</h3>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn btn-secondary">Export</button>
                            <button class="btn btn-primary" onclick="showSection('states')">View All States</button>
                        </div>
                    </div>
                    <table class="data-table">
                        <thead>
                            <tr>
                                <th>Rank</th>
                                <th>State/UT</th>
                                <th>Districts</th>
                                <th>Active Agents</th>
                                <th>Monthly Applications</th>
                                <th>Revenue</th>
                                <th>Success Rate</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="topStatesTable">
                            <!-- Will be populated by JavaScript -->
                        </tbody>
                    </table>
                </div>
            </section>

            <!-- States Section -->
            <section id="statesSection" style="display: none;">
                <h2 style="margin-bottom: 2rem;">States & Union Territories Management</h2>
                
                <div class="search-filter-bar">
                    <div style="position: relative; flex: 1;">
                        <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üîç</span>
                        <input type="text" class="search-input" placeholder="Search states, UTs, capitals..." id="stateSearch">
                    </div>
                    <select class="filter-select" id="regionFilter" onchange="filterStates()">
                        <option value="all">All Regions</option>
                        <option value="north">North India</option>
                        <option value="south">South India</option>
                        <option value="east">East India</option>
                        <option value="west">West India</option>
                        <option value="northeast">North East</option>
                        <option value="central">Central India</option>
                    </select>
                    <select class="filter-select" id="typeFilter" onchange="filterStates()">
                        <option value="all">All Types</option>
                        <option value="state">States Only</option>
                        <option value="ut">Union Territories</option>
                    </select>
                    <select class="filter-select" id="performanceFilter" onchange="filterStates()">
                        <option value="all">All Performance</option>
                        <option value="high">High (90%+)</option>
                        <option value="average">Average (80-90%)</option>
                        <option value="low">Needs Attention</option>
                    </select>
                    <button class="btn btn-primary">üìä Export Report</button>
                </div>

                <div class="state-grid" id="stateGrid">
                    <!-- States will be populated by JavaScript -->
                </div>
            </section>

            <!-- Other Sections Placeholder -->
<!-- Replace the existing hierarchySection with this complete code -->

<section id="hierarchySection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">National Hierarchy Structure</h2>
            <p style="color: var(--text-secondary);">Comprehensive Administrative Structure of India</p>
        </div>
        <div style="display: flex; gap: 0.5rem;">
            <button class="btn btn-secondary" onclick="collapseAllNodes()">Collapse All</button>
            <button class="btn btn-secondary" onclick="expandAllNodes()">Expand All</button>
            <button class="btn btn-primary" onclick="exportHierarchy()">Export Structure</button>
        </div>
    </div>

    <!-- Hierarchy Stats Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üáÆüá≥</div>
            </div>
            <div class="stat-value" style="color: white;">1</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Nation</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">Republic</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Type</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">India</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Name</div>
                </div>
            </div>
        </div>
        
        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üèõÔ∏è</div>
            </div>
            <div class="stat-value">36</div>
            <div class="stat-label">States & UTs</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">28</div>
                    <div class="stat-detail-label">States</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">8</div>
                    <div class="stat-detail-label">UTs</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üè¢</div>
            </div>
            <div class="stat-value">756</div>
            <div class="stat-label">Districts</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">21</div>
                    <div class="stat-detail-label">Avg/State</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">75</div>
                    <div class="stat-detail-label">Max (UP)</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üèòÔ∏è</div>
            </div>
            <div class="stat-value">7,045</div>
            <div class="stat-label">Blocks/Tehsils</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">5,924</div>
                    <div class="stat-detail-label">Blocks</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">1,121</div>
                    <div class="stat-detail-label">Tehsils</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üè°</div>
            </div>
            <div class="stat-value">2.62 L</div>
            <div class="stat-label">Gram Panchayats</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">6.49 L</div>
                    <div class="stat-detail-label">Villages</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">347</div>
                    <div class="stat-detail-label">Avg/District</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Search and Filter Bar -->
    <div class="search-filter-bar" style="margin-bottom: 2rem;">
        <div style="position: relative; flex: 1;">
            <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üîç</span>
            <input type="text" class="search-input" placeholder="Search any level: State, District, Block, GP..." id="hierarchySearch" onkeyup="searchHierarchy()">
        </div>
        <select class="filter-select" id="hierarchyLevelFilter" onchange="filterHierarchyLevel()">
            <option value="all">All Levels</option>
            <option value="state">States/UTs Only</option>
            <option value="district">Districts Only</option>
            <option value="block">Blocks Only</option>
            <option value="gp">GPs Only</option>
        </select>
        <select class="filter-select" id="hierarchyViewMode" onchange="changeHierarchyView()">
            <option value="tree">Tree View</option>
            <option value="table">Table View</option>
            <option value="map">Map View</option>
        </select>
    </div>

    <!-- Main Hierarchy Container -->
    <div id="hierarchyContainer">
        <!-- Tree View -->
        <div id="treeView" class="hierarchy-tree-container">
            <div class="tree-node root-node">
                <div class="node-content" onclick="toggleNode(this)">
                    <span class="node-toggle">‚ñº</span>
                    <span class="node-icon">üáÆüá≥</span>
                    <span class="node-title">Republic of India</span>
                    <span class="node-badge">National Command</span>
                    <span class="node-stats">36 States/UTs | 756 Districts | 2.62L GPs</span>
                </div>
                <div class="node-children" id="stateNodes">
                    <!-- States will be dynamically added here -->
                </div>
            </div>
        </div>

        <!-- Table View (Initially Hidden) -->
        <div id="tableView" style="display: none;">
            <div class="data-table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Name</th>
                            <th>Parent</th>
                            <th>Districts</th>
                            <th>Blocks</th>
                            <th>GPs</th>
                            <th>Population</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="hierarchyTableBody">
                        <!-- Data will be populated dynamically -->
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Map View (Initially Hidden) -->
        <div id="mapView" style="display: none;">
            <div class="chart-container" style="height: 600px;">
                <div class="chart-placeholder">
                    <div>üó∫Ô∏è Interactive India Map - Click on any state to drill down</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Hierarchy Path Breadcrumb -->
    <div class="hierarchy-path" id="hierarchyPath" style="margin-top: 2rem; padding: 1rem; background: var(--gray-50); border-radius: 8px; display: none;">
        <span style="font-weight: 600; margin-right: 1rem;">Current Path:</span>
        <span id="pathContent"></span>
    </div>

    <!-- Detail Modal for Node Information -->
    <div class="modal" id="hierarchyDetailModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="hierarchyModalTitle">Hierarchy Details</h2>
                <button class="btn btn-secondary btn-icon" onclick="closeHierarchyModal()">‚úï</button>
            </div>
            <div class="modal-body" id="hierarchyModalBody">
                <!-- Content will be populated dynamically -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeHierarchyModal()">Close</button>
                <button class="btn btn-primary" onclick="drillDownHierarchy()">View Details</button>
            </div>
        </div>
    </div>
</section>

<style>
/* Hierarchy Specific Styles */
.hierarchy-tree-container {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
    overflow-x: auto;
    min-height: 500px;
}

.tree-node {
    margin: 0.5rem 0;
}

.node-content {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    border: 1px solid var(--gray-200);
}

.node-content:hover {
    background: white;
    box-shadow: var(--shadow-md);
    border-color: var(--primary-color);
}

.root-node > .node-content {
    background: linear-gradient(135deg, var(--primary-light) 0%, rgba(37, 99, 235, 0.1) 100%);
    border: 2px solid var(--primary-color);
    font-weight: 600;
}

.node-toggle {
    font-size: 0.8rem;
    width: 20px;
    transition: transform 0.2s;
    color: var(--text-muted);
}

.node-toggle.collapsed {
    transform: rotate(-90deg);
}

.node-icon {
    font-size: 1.2rem;
}

.node-title {
    flex: 1;
    font-weight: 500;
    color: var(--text-primary);
}

.node-badge {
    padding: 0.25rem 0.75rem;
    background: var(--primary-color);
    color: white;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
}

.node-stats {
    color: var(--text-muted);
    font-size: 0.85rem;
}

.node-children {
    margin-left: 2rem;
    margin-top: 0.5rem;
    border-left: 2px solid var(--gray-200);
    padding-left: 1rem;
    transition: all 0.3s ease;
}

.node-children.collapsed {
    display: none;
}

.state-node .node-content {
    background: white;
}

.district-node .node-content {
    background: var(--gray-50);
    padding: 0.6rem 0.875rem;
}

.block-node .node-content {
    background: white;
    padding: 0.5rem 0.75rem;
    font-size: 0.9rem;
}

.gp-node .node-content {
    background: var(--gray-50);
    padding: 0.4rem 0.625rem;
    font-size: 0.85rem;
}

.hierarchy-path {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.path-item {
    color: var(--primary-color);
    cursor: pointer;
    transition: color 0.2s;
}

.path-item:hover {
    color: var(--primary-hover);
    text-decoration: underline;
}

.path-separator {
    color: var(--text-muted);
}

/* Loading Animation */
.loading-node {
    padding: 0.5rem;
    text-align: center;
    color: var(--text-muted);
    font-style: italic;
}

@keyframes spin {
    to { transform: rotate(360deg); }
}

.loading-spinner {
    display: inline-block;
    width: 16px;
    height: 16px;
    border: 2px solid var(--gray-300);
    border-top-color: var(--primary-color);
    border-radius: 50%;
    animation: spin 0.6s linear infinite;
    margin-right: 0.5rem;
}
</style>

<script>
// Comprehensive hierarchy data structure
const hierarchyData = {
    national: {
        name: "Republic of India",
        capital: "New Delhi",
        states: 28,
        uts: 8,
        districts: 756,
        blocks: 7045,
        gps: 262000,
        population: 1410000000
    },
    states: {
        'Andhra Pradesh': {
            districts: {
                'Visakhapatnam': { blocks: 43, gps: 689, population: 4290589 },
                'East Godavari': { blocks: 64, gps: 1077, population: 5154296 },
                'Guntur': { blocks: 57, gps: 729, population: 4889230 },
                'Krishna': { blocks: 50, gps: 676, population: 4517398 },
                'Kurnool': { blocks: 54, gps: 892, population: 4053463 },
                'Prakasam': { blocks: 56, gps: 1025, population: 3397448 },
                'Nellore': { blocks: 46, gps: 906, population: 2963557 },
                'Chittoor': { blocks: 66, gps: 1540, population: 4174064 },
                'YSR Kadapa': { blocks: 51, gps: 829, population: 2882469 },
                'Anantapur': { blocks: 63, gps: 964, population: 4081148 },
                'West Godavari': { blocks: 48, gps: 570, population: 3936966 },
                'Srikakulam': { blocks: 38, gps: 1641, population: 2703114 },
                'Vizianagaram': { blocks: 34, gps: 1081, population: 2344474 }
            }
        },
        'Arunachal Pradesh': {
            districts: {
                'Tawang': { blocks: 3, gps: 60, population: 49977 },
                'West Kameng': { blocks: 6, gps: 193, population: 87397 },
                'East Kameng': { blocks: 4, gps: 123, population: 78413 },
                'Papum Pare': { blocks: 5, gps: 175, population: 176573 },
                'Lower Subansiri': { blocks: 8, gps: 312, population: 83030 },
                'Upper Subansiri': { blocks: 6, gps: 251, population: 83448 },
                'West Siang': { blocks: 7, gps: 240, population: 112274 },
                'Upper Siang': { blocks: 4, gps: 59, population: 35320 },
                'East Siang': { blocks: 8, gps: 125, population: 99214 },
                'Dibang Valley': { blocks: 5, gps: 61, population: 8004 },
                'Lower Dibang Valley': { blocks: 7, gps: 85, population: 54080 },
                'Anjaw': { blocks: 4, gps: 48, population: 21089 },
                'Lohit': { blocks: 6, gps: 110, population: 145726 },
                'Changlang': { blocks: 4, gps: 86, population: 148226 },
                'Tirap': { blocks: 6, gps: 138, population: 111975 },
                'Longding': { blocks: 5, gps: 65, population: 60000 }
            }
        },
        'Assam': {
            districts: {
                'Dhubri': { blocks: 12, gps: 558, population: 1949258 },
                'Goalpara': { blocks: 8, gps: 415, population: 1008183 },
                'Barpeta': { blocks: 11, gps: 647, population: 1693622 },
                'Morigaon': { blocks: 5, gps: 393, population: 957423 },
                'Nagaon': { blocks: 18, gps: 1289, population: 2823768 },
                'Sonitpur': { blocks: 14, gps: 1028, population: 1924110 },
                'Lakhimpur': { blocks: 9, gps: 828, population: 1042137 },
                'Dhemaji': { blocks: 5, gps: 483, population: 686133 },
                'Tinsukia': { blocks: 7, gps: 430, population: 1327929 },
                'Dibrugarh': { blocks: 7, gps: 373, population: 1326335 },
                'Sivasagar': { blocks: 9, gps: 541, population: 1151050 },
                'Jorhat': { blocks: 8, gps: 397, population: 1092256 },
                'Golaghat': { blocks: 8, gps: 476, population: 1066888 },
                'Karbi Anglong': { blocks: 11, gps: 466, population: 956313 },
                'Dima Hasao': { blocks: 4, gps: 133, population: 214102 },
                'Cachar': { blocks: 15, gps: 525, population: 1736617 },
                'Karimganj': { blocks: 7, gps: 329, population: 1228686 },
                'Hailakandi': { blocks: 5, gps: 239, population: 659296 },
                'Bongaigaon': { blocks: 5, gps: 282, population: 738804 },
                'Chirang': { blocks: 3, gps: 180, population: 482162 },
                'Baksa': { blocks: 10, gps: 449, population: 950075 },
                'Udalguri': { blocks: 6, gps: 415, population: 831668 },
                'Darrang': { blocks: 6, gps: 414, population: 928500 },
                'Kamrup': { blocks: 13, gps: 650, population: 1517542 },
                'Kamrup Metropolitan': { blocks: 3, gps: 52, population: 1253938 },
                'Nalbari': { blocks: 10, gps: 525, population: 771639 },
                'Kokrajhar': { blocks: 10, gps: 268, population: 887142 }
            }
        },
        'Bihar': {
            districts: {
                'Patna': { blocks: 23, gps: 344, population: 5838465 },
                'Nalanda': { blocks: 20, gps: 249, population: 2877653 },
                'Bhojpur': { blocks: 14, gps: 226, population: 2728407 },
                'Buxar': { blocks: 11, gps: 110, population: 1706352 },
                'Rohtas': { blocks: 19, gps: 228, population: 2959918 },
                'Kaimur': { blocks: 11, gps: 126, population: 1626384 },
                'Gaya': { blocks: 24, gps: 332, population: 4391418 },
                'Jehanabad': { blocks: 7, gps: 102, population: 1125313 },
                'Arwal': { blocks: 5, gps: 74, population: 700843 },
                'Nawada': { blocks: 14, gps: 226, population: 2219146 },
                'Aurangabad': { blocks: 20, gps: 198, population: 2540073 },
                'Saran': { blocks: 20, gps: 296, population: 3951862 },
                'Siwan': { blocks: 19, gps: 293, population: 3330464 },
                'Gopalganj': { blocks: 14, gps: 226, population: 2562012 },
                'Muzaffarpur': { blocks: 16, gps: 387, population: 4801062 },
                'East Champaran': { blocks: 27, gps: 404, population: 5099371 },
                'West Champaran': { blocks: 18, gps: 315, population: 3935042 },
                'Sitamarhi': { blocks: 17, gps: 275, population: 3423574 },
                'Sheohar': { blocks: 5, gps: 53, population: 656246 },
                'Vaishali': { blocks: 16, gps: 290, population: 3495021 },
                'Darbhanga': { blocks: 18, gps: 329, population: 3937385 },
                'Madhubani': { blocks: 21, gps: 399, population: 4487379 },
                'Samastipur': { blocks: 20, gps: 380, population: 4261566 },
                'Munger': { blocks: 9, gps: 109, population: 1367765 },
                'Begusarai': { blocks: 18, gps: 229, population: 2970541 },
                'Sheikhpura': { blocks: 6, gps: 53, population: 636342 },
                'Lakhisarai': { blocks: 7, gps: 80, population: 1000912 },
                'Jamui': { blocks: 10, gps: 172, population: 1760405 }
            }
        },
        'Chhattisgarh': {
            districts: {
                'Raipur': { blocks: 15, gps: 545, population: 4063872 },
                'Bilaspur': { blocks: 10, gps: 707, population: 2663629 },
                'Durg': { blocks: 12, gps: 695, population: 3343872 },
                'Rajnandgaon': { blocks: 9, gps: 782, population: 1537133 },
                'Surguja': { blocks: 19, gps: 604, population: 840352 },
                'Koriya': { blocks: 5, gps: 224, population: 658917 },
                'Jashpur': { blocks: 8, gps: 444, population: 851669 },
                'Raigarh': { blocks: 9, gps: 730, population: 1493984 },
                'Korba': { blocks: 5, gps: 365, population: 1206563 },
                'Janjgir-Champa': { blocks: 9, gps: 555, population: 1619707 },
                'Bastar': { blocks: 11, gps: 270, population: 834375 },
                'Dantewada': { blocks: 4, gps: 124, population: 533638 },
                'Kanker': { blocks: 7, gps: 366, population: 748941 },
                'Kondagaon': { blocks: 5, gps: 256, population: 578326 },
                'Sukma': { blocks: 5, gps: 110, population: 250159 },
                'Bijapur': { blocks: 4, gps: 155, population: 255180 },
                'Narayanpur': { blocks: 2, gps: 107, population: 139820 },
                'Kabirdham': { blocks: 4, gps: 326, population: 822526 },
                'Mahasamund': { blocks: 5, gps: 493, population: 1032754 },
                'Dhamtari': { blocks: 4, gps: 334, population: 799781 },
                'Gariaband': { blocks: 5, gps: 367, population: 597653 },
                'Balod': { blocks: 5, gps: 346, population: 826165 },
                'Bemetara': { blocks: 4, gps: 392, population: 795759 },
                'Baloda Bazar': { blocks: 5, gps: 365, population: 1078911 },
                'Mungeli': { blocks: 3, gps: 262, population: 701707 },
                'Surajpur': { blocks: 6, gps: 428, population: 789043 },
                'Balrampur': { blocks: 6, gps: 403, population: 730491 }
            }
        },
        'Goa': {
            districts: {
                'North Goa': { blocks: 6, gps: 100, population: 818008 },
                'South Goa': { blocks: 5, gps: 91, population: 640537 }
            }
        },
        'Gujarat': {
            districts: {
                'Ahmedabad': { blocks: 11, gps: 599, population: 7214225 },
                'Surat': { blocks: 10, gps: 654, population: 6081322 },
                'Vadodara': { blocks: 12, gps: 800, population: 4165626 },
                'Rajkot': { blocks: 14, gps: 851, population: 3804558 },
                'Gandhinagar': { blocks: 4, gps: 216, population: 1391753 },
                'Bhavnagar': { blocks: 11, gps: 795, population: 2880365 },
                'Jamnagar': { blocks: 7, gps: 750, population: 2160119 },
                'Junagadh': { blocks: 14, gps: 949, population: 2743082 },
                'Kutch': { blocks: 10, gps: 947, population: 2092371 },
                'Patan': { blocks: 9, gps: 517, population: 1343734 },
                'Mehsana': { blocks: 10, gps: 612, population: 2035064 },
                'Sabarkantha': { blocks: 13, gps: 710, population: 2428589 },
                'Banaskantha': { blocks: 14, gps: 1249, population: 3120506 },
                'Anand': { blocks: 8, gps: 350, population: 2092745 },
                'Kheda': { blocks: 10, gps: 655, population: 2299885 },
                'Panchmahal': { blocks: 11, gps: 654, population: 2390776 },
                'Dahod': { blocks: 8, gps: 694, population: 2127086 },
                'Mahisagar': { blocks: 6, gps: 612, population: 994624 },
                'Valsad': { blocks: 6, gps: 376, population: 1705678 },
                'Navsari': { blocks: 6, gps: 376, population: 1329672 },
                'Surat Rural': { blocks: 7, gps: 394, population: 3083698 },
                'Tapi': { blocks: 7, gps: 523, population: 807022 },
                'Dang': { blocks: 3, gps: 311, population: 228291 },
                'Narmada': { blocks: 4, gps: 222, population: 590297 },
                'Bharuch': { blocks: 9, gps: 558, population: 1551019 },
                'Amreli': { blocks: 11, gps: 613, population: 1514190 },
                'Porbandar': { blocks: 3, gps: 186, population: 585449 },
                'Gir Somnath': { blocks: 6, gps: 345, population: 880469 },
                'Devbhumi Dwarka': { blocks: 4, gps: 237, population: 752484 },
                'Botad': { blocks: 4, gps: 250, population: 655003 },
                'Aravalli': { blocks: 6, gps: 450, population: 771890 },
                'Morbi': { blocks: 5, gps: 230, population: 960329 },
                'Chhota Udepur': { blocks: 6, gps: 587, population: 1071831 }
            }
        },
        'Haryana': {
            districts: {
                'Gurugram': { blocks: 4, gps: 195, population: 1514432 },
                'Faridabad': { blocks: 3, gps: 138, population: 1809733 },
                'Hisar': { blocks: 9, gps: 302, population: 1743931 },
                'Rohtak': { blocks: 5, gps: 142, population: 1061204 },
                'Panipat': { blocks: 5, gps: 186, population: 1205437 },
                'Karnal': { blocks: 5, gps: 419, population: 1505324 },
                'Sonipat': { blocks: 7, gps: 339, population: 1450001 },
                'Yamunanagar': { blocks: 7, gps: 474, population: 1214205 },
                'Panchkula': { blocks: 5, gps: 263, population: 561293 },
                'Bhiwani': { blocks: 8, gps: 442, population: 1634445 },
                'Ambala': { blocks: 3, gps: 243, population: 1128350 },
                'Jind': { blocks: 8, gps: 306, population: 1334152 },
                'Sirsa': { blocks: 7, gps: 342, population: 1295189 },
                'Fatehabad': { blocks: 3, gps: 175, population: 942011 },
                'Rewari': { blocks: 5, gps: 362, population: 900332 },
                'Mahendragarh': { blocks: 8, gps: 370, population: 922088 },
                'Jhajjar': { blocks: 5, gps: 251, population: 958405 },
                'Kaithal': { blocks: 5, gps: 277, population: 1074304 },
                'Kurukshetra': { blocks: 7, gps: 393, population: 964655 },
                'Nuh': { blocks: 5, gps: 431, population: 1089263 },
                'Palwal': { blocks: 7, gps: 283, population: 1042708 },
                'Charkhi Dadri': { blocks: 3, gps: 119, population: 502276 }
            }
        },
        'Himachal Pradesh': {
            districts: {
                'Shimla': { blocks: 10, gps: 363, population: 813384 },
                'Kangra': { blocks: 15, gps: 760, population: 1507223 },
                'Mandi': { blocks: 10, gps: 473, population: 999777 },
                'Hamirpur': { blocks: 5, gps: 229, population: 454768 },
                'Una': { blocks: 5, gps: 235, population: 521057 },
                'Chamba': { blocks: 7, gps: 283, population: 518844 },
                'Bilaspur': { blocks: 3, gps: 151, population: 382056 },
                'Solan': { blocks: 5, gps: 211, population: 576670 },
                'Sirmaur': { blocks: 6, gps: 228, population: 530164 },
                'Kullu': { blocks: 5, gps: 204, population: 437474 },
                'Kinnaur': { blocks: 3, gps: 65, population: 84121 },
                'Lahaul-Spiti': { blocks: 2, gps: 41, population: 31564 }
            }
        },
        'Jharkhand': {
            districts: {
                'Ranchi': { blocks: 18, gps: 303, population: 2914253 },
                'Dhanbad': { blocks: 10, gps: 192, population: 2684487 },
                'Jamshedpur': { blocks: 13, gps: 284, population: 2291032 },
                'Bokaro': { blocks: 9, gps: 186, population: 2062330 },
                'Giridih': { blocks: 13, gps: 358, population: 2445474 },
                'Hazaribagh': { blocks: 16, gps: 302, population: 1734495 },
                'Palamu': { blocks: 12, gps: 162, population: 1939869 },
                'Dumka': { blocks: 10, gps: 208, population: 1321442 },
                'Deoghar': { blocks: 10, gps: 261, population: 1492073 },
                'Garhwa': { blocks: 7, gps: 146, population: 1322387 },
                'Godda': { blocks: 8, gps: 173, population: 1313551 },
                'Jamtara': { blocks: 4, gps: 118, population: 791042 },
                'Khunti': { blocks: 6, gps: 87, population: 531885 },
                'Koderma': { blocks: 5, gps: 57, population: 716259 },
                'Latehar': { blocks: 9, gps: 138, population: 726978 },
                'Lohardaga': { blocks: 5, gps: 71, population: 461790 },
                'Pakur': { blocks: 6, gps: 103, population: 900422 },
                'Ramgarh': { blocks: 6, gps: 78, population: 949443 },
                'Sahibganj': { blocks: 9, gps: 178, population: 1150567 },
                'Seraikela Kharsawan': { blocks: 8, gps: 133, population: 1065390 },
                'Simdega': { blocks: 10, gps: 104, population: 599578 },
                'West Singhbhum': { blocks: 18, gps: 190, population: 1502338 },
                'Chatra': { blocks: 12, gps: 154, population: 1042366 }
            }
        },
        'Karnataka': {
            districts: {
                'Bangalore': { blocks: 4, gps: 105, population: 9621551 },
                'Mysore': { blocks: 9, gps: 472, population: 3001127 },
                'Belgaum': { blocks: 10, gps: 485, population: 4779661 },
                'Gulbarga': { blocks: 7, gps: 261, population: 2566326 },
                'Mangalore': { blocks: 5, gps: 203, population: 2089649 },
                'Bellary': { blocks: 7, gps: 194, population: 2452595 },
                'Tumkur': { blocks: 10, gps: 326, population: 2678980 },
                'Bidar': { blocks: 5, gps: 171, population: 1703300 },
                'Raichur': { blocks: 5, gps: 161, population: 1928812 },
                'Shimoga': { blocks: 7, gps: 226, population: 1752753 },
                'Chitradurga': { blocks: 6, gps: 185, population: 1659456 },
                'Davanagere': { blocks: 6, gps: 197, population: 1945497 },
                'Kolar': { blocks: 5, gps: 156, population: 1536401 },
                'Hassan': { blocks: 8, gps: 258, population: 1776421 },
                'Dharwad': { blocks: 5, gps: 127, population: 1847023 },
                'Uttara Kannada': { blocks: 11, gps: 208, population: 1437169 },
                'Haveri': { blocks: 7, gps: 208, population: 1597668 },
                'Kodagu': { blocks: 3, gps: 95, population: 554519 },
                'Mandya': { blocks: 7, gps: 233, population: 1805769 },
                'Chikmagalur': { blocks: 7, gps: 226, population: 1137961 },
                'Udupi': { blocks: 3, gps: 155, population: 1177361 },
                'Bagalkot': { blocks: 6, gps: 162, population: 1889752 },
                'Bijapur': { blocks: 5, gps: 199, population: 2177331 },
                'Gadag': { blocks: 5, gps: 119, population: 1064570 },
                'Chamarajanagar': { blocks: 4, gps: 120, population: 1020791 },
                'Koppal': { blocks: 4, gps: 139, population: 1389920 },
                'Ramanagara': { blocks: 4, gps: 120, population: 1082636 },
                'Chikkaballapur': { blocks: 6, gps: 156, population: 1255104 },
                'Yadgir': { blocks: 3, gps: 117, population: 1174271 },
                'Vijayapura': { blocks: 5, gps: 199, population: 2177331 }
            }
        },
        'Kerala': {
            districts: {
                'Thiruvananthapuram': { blocks: 12, gps: 73, population: 3301427 },
                'Kollam': { blocks: 11, gps: 70, population: 2635375 },
                'Pathanamthitta': { blocks: 8, gps: 53, population: 1197412 },
                'Alappuzha': { blocks: 12, gps: 72, population: 2127789 },
                'Kottayam': { blocks: 11, gps: 71, population: 1974551 },
                'Idukki': { blocks: 8, gps: 52, population: 1108974 },
                'Ernakulam': { blocks: 14, gps: 82, population: 3282388 },
                'Thrissur': { blocks: 17, gps: 92, population: 3121200 },
                'Palakkad': { blocks: 13, gps: 90, population: 2809934 },
                'Malappuram': { blocks: 15, gps: 102, population: 4112920 },
                'Kozhikode': { blocks: 12, gps: 77, population: 3086293 },
                'Wayanad': { blocks: 4, gps: 25, population: 817420 },
                'Kannur': { blocks: 11, gps: 71, population: 2523003 },
                'Kasaragod': { blocks: 6, gps: 38, population: 1307375 }
            }
        },
        'Madhya Pradesh': {
            districts: {
                'Bhopal': { blocks: 2, gps: 86, population: 2371061 },
                'Indore': { blocks: 4, gps: 335, population: 3276697 },
                'Jabalpur': { blocks: 7, gps: 535, population: 2463289 },
                'Gwalior': { blocks: 4, gps: 286, population: 2032036 },
                'Ujjain': { blocks: 6, gps: 293, population: 1986864 },
                'Sagar': { blocks: 11, gps: 579, population: 2378458 },
                'Dewas': { blocks: 6, gps: 288, population: 1563715 },
                'Satna': { blocks: 10, gps: 655, population: 2228935 },
                'Ratlam': { blocks: 6, gps: 290, population: 1455069 },
                'Rewa': { blocks: 9, gps: 675, population: 2365106 },
                'Morena': { blocks: 7, gps: 476, population: 1965970 },
                'Bhind': { blocks: 9, gps: 465, population: 1703005 },
                'Shivpuri': { blocks: 8, gps: 615, population: 1726050 },
                'Vidisha': { blocks: 10, gps: 657, population: 1458875 },
                'Chhindwara': { blocks: 11, gps: 807, population: 2090922 },
                'Balaghat': { blocks: 10, gps: 497, population: 1701698 },
                'Mandsaur': { blocks: 8, gps: 343, population: 1340411 },
                'Khargone': { blocks: 9, gps: 639, population: 1873046 },
                'Khandwa': { blocks: 6, gps: 403, population: 1310061 },
                'Hoshangabad': { blocks: 8, gps: 464, population: 1241350 },
                'Narsinghpur': { blocks: 6, gps: 291, population: 1091854 },
                'Dhar': { blocks: 8, gps: 716, population: 2185793 },
                'Jhabua': { blocks: 6, gps: 314, population: 1025048 },
                'Neemuch': { blocks: 4, gps: 144, population: 826067 },
                'Shajapur': { blocks: 8, gps: 394, population: 1512681 },
                'Mandla': { blocks: 9, gps: 478, population: 1054905 },
                'Seoni': { blocks: 8, gps: 479, population: 1379131 },
                'Rajgarh': { blocks: 8, gps: 681, population: 1545814 },
                'Raisen': { blocks: 8, gps: 586, population: 1331597 },
                'Sehore': { blocks: 5, gps: 218, population: 1311332 },
                'Betul': { blocks: 10, gps: 457, population: 1575362 },
                'Harda': { blocks: 3, gps: 151, population: 570465 },
                'Damoh': { blocks: 7, gps: 382, population: 1264219 },
                'Guna': { blocks: 8, gps: 431, population: 1241519 },
                'Ashoknagar': { blocks: 5, gps: 318, population: 845071 },
                'Sheopur': { blocks: 3, gps: 199, population: 687861 },
                'Datia': { blocks: 3, gps: 243, population: 786754 },
                'Tikamgarh': { blocks: 6, gps: 378, population: 1445166 },
                'Chhatarpur': { blocks: 8, gps: 476, population: 1762375 },
                'Panna': { blocks: 5, gps: 396, population: 1016520 },
                'Katni': { blocks: 6, gps: 327, population: 1292042 },
                'Umaria': { blocks: 4, gps: 235, population: 644758 },
                'Anuppur': { blocks: 4, gps: 254, population: 749237 },
                'Shahdol': { blocks: 5, gps: 383, population: 1066063 },
                'Sidhi': { blocks: 5, gps: 581, population: 1127033 },
                'Singrauli': { blocks: 3, gps: 402, population: 1178273 },
                'Alirajpur': { blocks: 6, gps: 250, population: 728999 },
                'Barwani': { blocks: 7, gps: 371, population: 1385881 },
                'Burhanpur': { blocks: 2, gps: 146, population: 757847 },
                'Dindori': { blocks: 7, gps: 323, population: 704524 },
                'Agar Malwa': { blocks: 4, gps: 232, population: 421556 },
                'Niwari': { blocks: 3, gps: 222, population: 404807 }
            }
        },
        'Maharashtra': {
            districts: {
                'Mumbai': { blocks: 0, gps: 0, population: 12442373 },
                'Pune': { blocks: 14, gps: 1866, population: 9429408 },
                'Nagpur': { blocks: 14, gps: 1964, population: 4653570 },
                'Thane': { blocks: 13, gps: 951, population: 11060148 },
                'Nashik': { blocks: 15, gps: 1932, population: 6107187 },
                'Ahmednagar': { blocks: 14, gps: 1462, population: 4543159 },
                'Solapur': { blocks: 11, gps: 1021, population: 4317756 },
                'Jalgaon': { blocks: 15, gps: 1513, population: 4229917 },
                'Kolhapur': { blocks: 12, gps: 1049, population: 3876001 },
                'Aurangabad': { blocks: 9, gps: 1355, population: 3701282 },
                'Nanded': { blocks: 16, gps: 1294, population: 3361292 },
                'Latur': { blocks: 10, gps: 948, population: 2454196 },
                'Satara': { blocks: 11, gps: 1507, population: 3003741 },
                'Sangli': { blocks: 10, gps: 724, population: 2822143 },
                'Parbhani': { blocks: 9, gps: 698, population: 1836086 },
                'Jalna': { blocks: 8, gps: 970, population: 1959046 },
                'Beed': { blocks: 11, gps: 1368, population: 2585049 },
                'Osmanabad': { blocks: 8, gps: 731, population: 1657576 },
                'Buldhana': { blocks: 13, gps: 1053, population: 2586258 },
                'Akola': { blocks: 7, gps: 910, population: 1813906 },
                'Washim': { blocks: 6, gps: 725, population: 1197160 },
                'Amravati': { blocks: 14, gps: 1632, population: 2888445 },
                'Yavatmal': { blocks: 16, gps: 1782, population: 2772348 },
                'Wardha': { blocks: 8, gps: 469, population: 1300774 },
                'Chandrapur': { blocks: 15, gps: 1787, population: 2204307 },
                'Bhandara': { blocks: 7, gps: 878, population: 1200334 },
                'Gadchiroli': { blocks: 12, gps: 468, population: 1072942 },
                'Gondia': { blocks: 8, gps: 954, population: 1322507 },
                'Raigad': { blocks: 15, gps: 1856, population: 2634200 },
                'Ratnagiri': { blocks: 9, gps: 848, population: 1615069 },
                'Sindhudurg': { blocks: 8, gps: 378, population: 849651 },
                'Dhule': { blocks: 4, gps: 502, population: 2050862 },
                'Nandurbar': { blocks: 6, gps: 535, population: 1648295 },
                'Mumbai Suburban': { blocks: 0, gps: 0, population: 9356962 },
                'Palghar': { blocks: 8, gps: 557, population: 2990116 },
                'Hingoli': { blocks: 5, gps: 710, population: 1177345 }
            }
        },
        'Manipur': {
            districts: {
                'Imphal East': { blocks: 4, gps: 0, population: 456113 },
                'Imphal West': { blocks: 4, gps: 0, population: 517992 },
                'Thoubal': { blocks: 3, gps: 0, population: 422168 },
                'Bishnupur': { blocks: 3, gps: 0, population: 237399 },
                'Churachandpur': { blocks: 5, gps: 81, population: 274143 },
                'Chandel': { blocks: 6, gps: 30, population: 144182 },
                'Ukhrul': { blocks: 8, gps: 24, population: 183115 },
                'Senapati': { blocks: 9, gps: 19, population: 479148 },
                'Tamenglong': { blocks: 4, gps: 13, population: 140143 },
                'Jiribam': { blocks: 2, gps: 0, population: 43709 },
                'Kangpokpi': { blocks: 9, gps: 0, population: 193744 },
                'Kakching': { blocks: 2, gps: 0, population: 135481 },
                'Tengnoupal': { blocks: 3, gps: 4, population: 60948 },
                'Pherzawl': { blocks: 3, gps: 0, population: 47250 },
                'Noney': { blocks: 4, gps: 0, population: 36259 },
                'Kamjong': { blocks: 4, gps: 0, population: 45616 }
            }
        },
        'Meghalaya': {
            districts: {
                'East Khasi Hills': { blocks: 8, gps: 118, population: 825922 },
                'West Khasi Hills': { blocks: 6, gps: 169, population: 383461 },
                'South West Khasi Hills': { blocks: 5, gps: 104, population: 110152 },
                'Ri Bhoi': { blocks: 3, gps: 94, population: 258840 },
                'East Garo Hills': { blocks: 5, gps: 293, population: 317917 },
                'West Garo Hills': { blocks: 8, gps: 348, population: 643291 },
                'North Garo Hills': { blocks: 3, gps: 119, population: 118325 },
                'South Garo Hills': { blocks: 3, gps: 143, population: 142334 },
                'South West Garo Hills': { blocks: 3, gps: 155, population: 172495 },
                'East Jaintia Hills': { blocks: 4, gps: 84, population: 122436 },
                'West Jaintia Hills': { blocks: 2, gps: 66, population: 272185 }
            }
        },
        'Mizoram': {
            districts: {
                'Aizawl': { blocks: 5, gps: 83, population: 400309 },
                'Champhai': { blocks: 4, gps: 79, population: 125745 },
                'Kolasib': { blocks: 3, gps: 40, population: 83955 },
                'Lawngtlai': { blocks: 4, gps: 168, population: 117894 },
                'Lunglei': { blocks: 4, gps: 167, population: 161428 },
                'Mamit': { blocks: 3, gps: 84, population: 86364 },
                'Saiha': { blocks: 3, gps: 61, population: 56574 },
                'Serchhip': { blocks: 2, gps: 47, population: 64937 },
                'Khawzawl': { blocks: 1, gps: 13, population: 30000 },
                'Hnahthial': { blocks: 1, gps: 20, population: 20000 },
                'Saitual': { blocks: 2, gps: 27, population: 25000 }
            }
        },
        'Nagaland': {
            districts: {
                'Kohima': { blocks: 3, gps: 132, population: 270063 },
                'Dimapur': { blocks: 3, gps: 153, population: 379769 },
                'Mokokchung': { blocks: 5, gps: 121, population: 193171 },
                'Zunheboto': { blocks: 3, gps: 182, population: 140757 },
                'Tuensang': { blocks: 5, gps: 125, population: 196596 },
                'Wokha': { blocks: 3, gps: 114, population: 166239 },
                'Mon': { blocks: 5, gps: 139, population: 250260 },
                'Phek': { blocks: 3, gps: 113, population: 163294 },
                'Kiphire': { blocks: 2, gps: 99, population: 74033 },
                'Longleng': { blocks: 2, gps: 59, population: 50593 },
                'Peren': { blocks: 3, gps: 88, population: 95219 }
            }
        },
        'Odisha': {
            districts: {
                'Bhubaneswar': { blocks: 1, gps: 31, population: 837737 },
                'Cuttack': { blocks: 14, gps: 373, population: 2624470 },
                'Puri': { blocks: 11, gps: 230, population: 1698730 },
                'Balasore': { blocks: 12, gps: 289, population: 2320529 },
                'Mayurbhanj': { blocks: 26, gps: 382, population: 2519738 },
                'Ganjam': { blocks: 22, gps: 475, population: 3529031 },
                'Koraput': { blocks: 14, gps: 226, population: 1379647 },
                'Kalahandi': { blocks: 13, gps: 273, population: 1576869 },
                'Sambalpur': { blocks: 9, gps: 148, population: 1041099 },
                'Sundargarh': { blocks: 17, gps: 262, population: 2093437 },
                'Keonjhar': { blocks: 13, gps: 286, population: 1801733 },
                'Dhenkanal': { blocks: 8, gps: 199, population: 1192811 },
                'Angul': { blocks: 8, gps: 211, population: 1273821 },
                'Nayagarh': { blocks: 8, gps: 172, population: 962789 },
                'Khurda': { blocks: 10, gps: 168, population: 2251673 },
                'Jagatsinghpur': { blocks: 8, gps: 194, population: 1136971 },
                'Jajpur': { blocks: 10, gps: 297, population: 1827192 },
                'Kendrapara': { blocks: 9, gps: 230, population: 1440361 },
                'Bargarh': { blocks: 12, gps: 248, population: 1481255 },
                'Jharsuguda': { blocks: 5, gps: 78, population: 579505 },
                'Bolangir': { blocks: 14, gps: 285, population: 1651656 },
                'Nuapada': { blocks: 5, gps: 109, population: 610382 },
                'Sonepur': { blocks: 6, gps: 96, population: 610183 },
                'Boudh': { blocks: 3, gps: 75, population: 441162 },
                'Nabarangpur': { blocks: 10, gps: 169, population: 1220946 },
                'Rayagada': { blocks: 11, gps: 171, population: 967911 },
                'Malkangiri': { blocks: 7, gps: 108, population: 613192 },
                'Gajapati': { blocks: 7, gps: 129, population: 577817 },
                'Kandhamal': { blocks: 12, gps: 153, population: 733110 },
                'Deogarh': { blocks: 3, gps: 60, population: 312520 }
            }
        },
        'Punjab': {
            districts: {
                'Ludhiana': { blocks: 12, gps: 901, population: 3498739 },
                'Amritsar': { blocks: 11, gps: 646, population: 2490656 },
                'Jalandhar': { blocks: 10, gps: 498, population: 2193590 },
                'Patiala': { blocks: 9, gps: 924, population: 1895686 },
                'Bathinda': { blocks: 10, gps: 285, population: 1388525 },
                'Sangrur': { blocks: 9, gps: 584, population: 1655169 },
                'Gurdaspur': { blocks: 8, gps: 1112, population: 1621725 },
                'Pathankot': { blocks: 2, gps: 151, population: 676598 },
                'Firozpur': { blocks: 8, gps: 383, population: 1029862 },
                'Fazilka': { blocks: 3, gps: 131, population: 638365 },
                'Moga': { blocks: 5, gps: 345, population: 995746 },
                'Muktsar': { blocks: 4, gps: 234, population: 902702 },
                'Faridkot': { blocks: 2, gps: 165, population: 617508 },
                'Kapurthala': { blocks: 5, gps: 335, population: 815168 },
                'Hoshiarpur': { blocks: 10, gps: 1417, population: 1586625 },
                'Rupnagar': { blocks: 4, gps: 617, population: 684627 },
                'Mohali': { blocks: 3, gps: 359, population: 994628 },
                'Tarn Taran': { blocks: 8, gps: 419, population: 1119627 },
                'Barnala': { blocks: 3, gps: 138, population: 595527 },
                'Fatehgarh Sahib': { blocks: 5, gps: 401, population: 600163 },
                'Mansa': { blocks: 5, gps: 243, population: 769751 },
                'Shaheed Bhagat Singh Nagar': { blocks: 4, gps: 469, population: 612310 },
                'Malerkotla': { blocks: 3, gps: 194, population: 429754 }
            }
        },
        'Rajasthan': {
            districts: {
                'Jaipur': { blocks: 16, gps: 490, population: 6663971 },
                'Jodhpur': { blocks: 7, gps: 340, population: 3687165 },
                'Udaipur': { blocks: 17, gps: 566, population: 3068420 },
                'Kota': { blocks: 5, gps: 226, population: 1951014 },
                'Bikaner': { blocks: 8, gps: 188, population: 2363937 },
                'Ajmer': { blocks: 9, gps: 470, population: 2583052 },
                'Alwar': { blocks: 14, gps: 491, population: 3674179 },
                'Bharatpur': { blocks: 10, gps: 353, population: 2548462 },
                'Bhilwara': { blocks: 12, gps: 397, population: 2408523 },
                'Sikar': { blocks: 11, gps: 417, population: 2677333 },
                'Pali': { blocks: 10, gps: 310, population: 2037573 },
                'Sri Ganganagar': { blocks: 9, gps: 267, population: 1969168 },
                'Hanumangarh': { blocks: 7, gps: 254, population: 1774692 },
                'Barmer': { blocks: 8, gps: 236, population: 2603751 },
                'Jaisalmer': { blocks: 3, gps: 126, population: 669919 },
                'Jalore': { blocks: 9, gps: 189, population: 1828730 },
                'Nagaur': { blocks: 12, gps: 429, population: 3307743 },
                'Churu': { blocks: 8, gps: 248, population: 2039547 },
                'Jhunjhunu': { blocks: 8, gps: 360, population: 2137045 },
                'Tonk': { blocks: 7, gps: 247, population: 1421326 },
                'Bundi': { blocks: 5, gps: 157, population: 1110906 },
                'Sawai Madhopur': { blocks: 8, gps: 263, population: 1335551 },
                'Karauli': { blocks: 6, gps: 222, population: 1458248 },
                'Dholpur': { blocks: 5, gps: 133, population: 1206516 },
                'Dausa': { blocks: 8, gps: 242, population: 1634409 },
                'Baran': { blocks: 8, gps: 234, population: 1222755 },
                'Jhalawar': { blocks: 8, gps: 248, population: 1411129 },
                'Dungarpur': { blocks: 10, gps: 193, population: 1388552 },
                'Banswara': { blocks: 8, gps: 345, population: 1797485 },
                'Chittorgarh': { blocks: 11, gps: 335, population: 1544338 },
                'Rajsamand': { blocks: 7, gps: 266, population: 1156597 },
                'Sirohi': { blocks: 5, gps: 121, population: 1036346 },
                'Pratapgarh': { blocks: 5, gps: 201, population: 867848 }
            }
        },
        'Sikkim': {
            districts: {
                'East Sikkim': { blocks: 3, gps: 51, population: 283583 },
                'West Sikkim': { blocks: 2, gps: 54, population: 136299 },
                'North Sikkim': { blocks: 1, gps: 35, population: 43709 },
                'South Sikkim': { blocks: 1, gps: 37, population: 146850 }
            }
        },
        'Tamil Nadu': {
            districts: {
                'Chennai': { blocks: 10, gps: 0, population: 4646732 },
                'Coimbatore': { blocks: 12, gps: 286, population: 3458045 },
                'Madurai': { blocks: 13, gps: 420, population: 3038252 },
                'Tiruchirappalli': { blocks: 14, gps: 403, population: 2722290 },
                'Salem': { blocks: 20, gps: 385, population: 3482056 },
                'Tirunelveli': { blocks: 19, gps: 425, population: 3077233 },
                'Vellore': { blocks: 20, gps: 745, population: 3936331 },
                'Erode': { blocks: 14, gps: 225, population: 2251744 },
                'Thoothukkudi': { blocks: 12, gps: 403, population: 1750176 },
                'Kanchipuram': { blocks: 13, gps: 648, population: 3998252 },
                'Kanyakumari': { blocks: 9, gps: 95, population: 1870374 },
                'Thanjavur': { blocks: 14, gps: 431, population: 2405890 },
                'Dindigul': { blocks: 14, gps: 306, population: 2159775 },
                'Cuddalore': { blocks: 13, gps: 683, population: 2605914 },
                'Tiruppur': { blocks: 13, gps: 265, population: 2479052 },
                'Villupuram': { blocks: 22, gps: 1098, population: 3458873 },
                'Namakkal': { blocks: 15, gps: 322, population: 1726601 },
                'Nagapattinam': { blocks: 11, gps: 434, population: 1616450 },
                'Dharmapuri': { blocks: 8, gps: 252, population: 1506843 },
                'Krishnagiri': { blocks: 10, gps: 352, population: 1883731 },
                'Thiruvarur': { blocks: 10, gps: 435, population: 1264277 },
                'Sivaganga': { blocks: 12, gps: 521, population: 1339101 },
                'Virudhunagar': { blocks: 11, gps: 450, population: 1942288 },
                'Ramanathapuram': { blocks: 11, gps: 429, population: 1353445 },
                'The Nilgiris': { blocks: 6, gps: 56, population: 735394 },
                'Perambalur': { blocks: 4, gps: 162, population: 565223 },
                'Ariyalur': { blocks: 6, gps: 201, population: 754894 },
                'Karur': { blocks: 8, gps: 158, population: 1064493 },
                'Pudukkottai': { blocks: 13, gps: 497, population: 1618345 },
                'Tiruvannamalai': { blocks: 18, gps: 860, population: 2464875 },
                'Tiruvallur': { blocks: 14, gps: 816, population: 3728104 },
                'Theni': { blocks: 8, gps: 133, population: 1245899 },
                'Kallakurichi': { blocks: 13, gps: 412, population: 1370281 },
                'Chengalpattu': { blocks: 8, gps: 356, population: 2556244 },
                'Tirupathur': { blocks: 6, gps: 270, population: 1111812 },
                'Ranipet': { blocks: 6, gps: 290, population: 1210277 },
                'Tenkasi': { blocks: 8, gps: 269, population: 1407627 },
                'Mayiladuthurai': { blocks: 6, gps: 295, population: 918356 }
            }
        },
        'Telangana': {
            districts: {
                'Hyderabad': { blocks: 0, gps: 0, population: 3943323 },
                'Rangareddy': { blocks: 27, gps: 1038, population: 5296741 },
                'Medchal-Malkajgiri': { blocks: 12, gps: 308, population: 2440073 },
                'Warangal Urban': { blocks: 5, gps: 125, population: 1135707 },
                'Warangal Rural': { blocks: 16, gps: 460, population: 1004577 },
                'Karimnagar': { blocks: 16, gps: 241, population: 1005711 },
                'Nizamabad': { blocks: 36, gps: 772, population: 1571022 },
                'Khammam': { blocks: 21, gps: 600, population: 1401639 },
                'Nalgonda': { blocks: 31, gps: 740, population: 1618416 },
                'Mahbubnagar': { blocks: 16, gps: 577, population: 2023825 },
                'Adilabad': { blocks: 18, gps: 464, population: 708972 },
                'Komaram Bheem Asifabad': { blocks: 8, gps: 239, population: 515812 },
                'Mancherial': { blocks: 4, gps: 126, population: 807037 },
                'Nirmal': { blocks: 19, gps: 340, population: 709415 },
                'Jagtial': { blocks: 18, gps: 365, population: 983414 },
                'Peddapalli': { blocks: 14, gps: 243, population: 795332 },
                'Kamareddy': { blocks: 22, gps: 451, population: 1033707 },
                'Rajanna Sircilla': { blocks: 13, gps: 325, population: 552037 },
                'Medak': { blocks: 20, gps: 442, population: 767428 },
                'Siddipet': { blocks: 22, gps: 522, population: 1012065 },
                'Jangaon': { blocks: 13, gps: 376, population: 566376 },
                'Jayashankar Bhupalpally': { blocks: 19, gps: 463, population: 698876 },
                'Mahabubabad': { blocks: 16, gps: 291, population: 774549 },
                'Bhadradri Kothagudem': { blocks: 24, gps: 333, population: 1069261 },
                'Sangareddy': { blocks: 26, gps: 624, population: 1527628 },
                'Vikarabad': { blocks: 17, gps: 662, population: 927140 },
                'Nagarkurnool': { blocks: 20, gps: 661, population: 893308 },
                'Wanaparthy': { blocks: 14, gps: 300, population: 577758 },
                'Jogulamba Gadwal': { blocks: 11, gps: 325, population: 609990 },
                'Narayanpet': { blocks: 11, gps: 290, population: 630593 },
                'Suryapet': { blocks: 23, gps: 485, population: 1099560 },
                'Yadadri Bhuvanagiri': { blocks: 12, gps: 382, population: 693105 },
                'Mulugu': { blocks: 9, gps: 152, population: 294562 }
            }
        },
        'Tripura': {
            districts: {
                'West Tripura': { blocks: 9, gps: 161, population: 1725739 },
                'Sepahijala': { blocks: 5, gps: 111, population: 484233 },
                'Khowai': { blocks: 6, gps: 77, population: 327391 },
                'Gomati': { blocks: 8, gps: 151, population: 441538 },
                'South Tripura': { blocks: 9, gps: 165, population: 433737 },
                'Dhalai': { blocks: 6, gps: 95, population: 378230 },
                'North Tripura': { blocks: 3, gps: 70, population: 415946 },
                'Unakoti': { blocks: 3, gps: 45, population: 276506 }
            }
        },
        'Uttar Pradesh': {
            districts: {
                'Lucknow': { blocks: 8, gps: 813, population: 4589838 },
                'Kanpur Nagar': { blocks: 6, gps: 687, population: 4581268 },
                'Ghaziabad': { blocks: 4, gps: 489, population: 4681645 },
                'Agra': { blocks: 15, gps: 636, population: 4418797 },
                'Meerut': { blocks: 12, gps: 663, population: 3443689 },
                'Varanasi': { blocks: 8, gps: 1327, population: 3676841 },
                'Allahabad': { blocks: 20, gps: 2802, population: 5954391 },
                'Bareilly': { blocks: 15, gps: 1819, population: 4448359 },
                'Aligarh': { blocks: 12, gps: 1208, population: 3673889 },
                'Moradabad': { blocks: 13, gps: 1424, population: 4772006 },
                'Saharanpur': { blocks: 11, gps: 1972, population: 3466382 },
                'Gorakhpur': { blocks: 19, gps: 3322, population: 4440895 },
                'Noida': { blocks: 3, gps: 348, population: 637272 },
                'Firozabad': { blocks: 9, gps: 567, population: 2498156 },
                'Jhansi': { blocks: 8, gps: 469, population: 1998603 },
                'Muzaffarnagar': { blocks: 11, gps: 1034, population: 4143512 },
                'Mathura': { blocks: 10, gps: 685, population: 2547184 },
                'Budaun': { blocks: 18, gps: 1895, population: 3681896 },
                'Rampur': { blocks: 6, gps: 569, population: 2335819 },
                'Shahjahanpur': { blocks: 18, gps: 2080, population: 3006538 },
                'Farrukhabad': { blocks: 7, gps: 530, population: 1885204 },
                'Mainpuri': { blocks: 9, gps: 541, population: 1868529 },
                'Hapur': { blocks: 3, gps: 288, population: 1338211 },
                'Etah': { blocks: 15, gps: 868, population: 1774480 },
                'Sambhal': { blocks: 10, gps: 978, population: 2199774 },
                'Amroha': { blocks: 6, gps: 608, population: 1840221 },
                'Hardoi': { blocks: 19, gps: 2163, population: 4092845 },
                'Azamgarh': { blocks: 22, gps: 3986, population: 4613913 },
                'Ballia': { blocks: 17, gps: 2368, population: 3239774 },
                'Basti': { blocks: 14, gps: 3117, population: 2464464 },
                'Deoria': { blocks: 16, gps: 2530, population: 3100946 },
                'Gonda': { blocks: 16, gps: 2784, population: 3433919 },
                'Jaunpur': { blocks: 21, gps: 3619, population: 4494204 },
                'Ghazipur': { blocks: 16, gps: 3376, population: 3620268 },
                'Kushinagar': { blocks: 14, gps: 2481, population: 3564544 },
                'Maharajganj': { blocks: 12, gps: 2033, population: 2684703 },
                'Mau': { blocks: 9, gps: 1662, population: 2205968 },
                'Pratapgarh': { blocks: 17, gps: 2674, population: 3209141 },
                'Sant Kabir Nagar': { blocks: 9, gps: 1649, population: 1715183 },
                'Siddharth Nagar': { blocks: 14, gps: 2204, population: 2559297 },
                'Sultanpur': { blocks: 17, gps: 2120, population: 3797117 },
                'Bahraich': { blocks: 14, gps: 2467, population: 3487731 },
                'Barabanki': { blocks: 15, gps: 2640, population: 3260699 },
                'Faizabad': { blocks: 11, gps: 2202, population: 2470996 },
                'Lakhimpur Kheri': { blocks: 15, gps: 2260, population: 4021243 },
                'Raebareli': { blocks: 18, gps: 2660, population: 3405559 },
                'Sitapur': { blocks: 19, gps: 2403, population: 4483992 },
                'Unnao': { blocks: 16, gps: 1897, population: 3108367 },
                'Balrampur': { blocks: 9, gps: 1598, population: 2148665 },
                'Shravasti': { blocks: 5, gps: 901, population: 1117361 },
                'Banda': { blocks: 8, gps: 505, population: 1799410 },
                'Chitrakoot': { blocks: 5, gps: 438, population: 991730 },
                'Hamirpur': { blocks: 7, gps: 560, population: 1104285 },
                'Jalaun': { blocks: 9, gps: 564, population: 1689974 },
                'Lalitpur': { blocks: 6, gps: 352, population: 1221592 },
                'Mahoba': { blocks: 4, gps: 235, population: 875958 },
                'Auraiya': { blocks: 7, gps: 658, population: 1379545 },
                'Etawah': { blocks: 8, gps: 692, population: 1581810 },
                'Kannauj': { blocks: 7, gps: 616, population: 1656616 },
                'Kanpur Dehat': { blocks: 10, gps: 857, population: 1796184 },
                'Bijnor': { blocks: 11, gps: 1021, population: 3682713 },
                'Chandauli': { blocks: 9, gps: 1637, population: 1952756 },
                'Kaushambi': { blocks: 8, gps: 883, population: 1599596 },
                'Mirzapur': { blocks: 12, gps: 931, population: 2496970 },
                'Sant Ravidas Nagar': { blocks: 6, gps: 947, population: 1578213 },
                'Sonbhadra': { blocks: 8, gps: 471, population: 1862559 },
                'Amethi': { blocks: 5, gps: 775, population: 1336031 },
                'Baghpat': { blocks: 6, gps: 331, population: 1303048 },
                'Bulandshahr': { blocks: 16, gps: 1238, population: 3499171 },
                'Hathras': { blocks: 7, gps: 452, population: 1564708 },
                'Kasganj': { blocks: 8, gps: 604, population: 1438156 },
                'Pilibhit': { blocks: 7, gps: 805, population: 2031007 },
                'Shamli': { blocks: 3, gps: 388, population: 1273578 }
            }
        },
        'Uttarakhand': {
            districts: {
                'Dehradun': { blocks: 7, gps: 764, population: 1696694 },
                'Haridwar': { blocks: 6, gps: 610, population: 1890422 },
                'Tehri Garhwal': { blocks: 10, gps: 1069, population: 618931 },
                'Pauri Garhwal': { blocks: 15, gps: 1234, population: 687271 },
                'Uttarkashi': { blocks: 6, gps: 400, population: 330086 },
                'Chamoli': { blocks: 9, gps: 475, population: 391605 },
                'Rudraprayag': { blocks: 3, gps: 311, population: 242285 },
                'Almora': { blocks: 11, gps: 1147, population: 622506 },
                'Bageshwar': { blocks: 3, gps: 341, population: 259898 },
                'Champawat': { blocks: 4, gps: 416, population: 259648 },
                'Nainital': { blocks: 8, gps: 1142, population: 954605 },
                'Pithoragarh': { blocks: 8, gps: 682, population: 483439 },
                'Udham Singh Nagar': { blocks: 7, gps: 635, population: 1648902 }
            }
        },
        'West Bengal': {
            districts: {
                'Kolkata': { blocks: 0, gps: 0, population: 4486679 },
                'North 24 Parganas': { blocks: 22, gps: 200, population: 10009781 },
                'South 24 Parganas': { blocks: 29, gps: 312, population: 8161961 },
                'Howrah': { blocks: 14, gps: 157, population: 4850029 },
                'Hooghly': { blocks: 18, gps: 210, population: 5519145 },
                'East Midnapore': { blocks: 25, gps: 223, population: 5095875 },
                'West Midnapore': { blocks: 29, gps: 290, population: 5913457 },
                'Murshidabad': { blocks: 26, gps: 254, population: 7103807 },
                'Nadia': { blocks: 17, gps: 187, population: 5167600 },
                'Bardhaman': { blocks: 31, gps: 277, population: 7717563 },
                'Jalpaiguri': { blocks: 13, gps: 146, population: 3872846 },
                'Darjeeling': { blocks: 12, gps: 134, population: 1846823 },
                'Cooch Behar': { blocks: 12, gps: 128, population: 2819086 },
                'North Dinajpur': { blocks: 9, gps: 99, population: 3007134 },
                'South Dinajpur': { blocks: 8, gps: 65, population: 1676276 },
                'Malda': { blocks: 15, gps: 146, population: 3988845 },
                'Bankura': { blocks: 22, gps: 190, population: 3596674 },
                'Purulia': { blocks: 20, gps: 170, population: 2930115 },
                'Birbhum': { blocks: 19, gps: 167, population: 3502404 },
                'Alipurduar': { blocks: 6, gps: 66, population: 1700000 },
                'Jhargram': { blocks: 8, gps: 124, population: 1136548 },
                'Kalimpong': { blocks: 3, gps: 42, population: 251642 },
                'Paschim Bardhaman': { blocks: 2, gps: 8, population: 2882031 },
                'Purba Bardhaman': { blocks: 31, gps: 269, population: 4835532 }
            }
        },
        'Andaman and Nicobar': {
            districts: {
                'South Andaman': { blocks: 3, gps: 33, population: 238142 },
                'North and Middle Andaman': { blocks: 3, gps: 28, population: 105597 },
                'Nicobar': { blocks: 2, gps: 16, population: 36842 }
            }
        },
        'Chandigarh': {
            districts: {
                'Chandigarh': { blocks: 1, gps: 0, population: 1055450 }
            }
        },
        'DNH and DD': {
            districts: {
                'Dadra and Nagar Haveli': { blocks: 1, gps: 20, population: 343709 },
                'Daman': { blocks: 2, gps: 2, population: 191173 },
                'Diu': { blocks: 1, gps: 1, population: 52074 }
            }
        },
        'Delhi': {
            districts: {
                'Central Delhi': { blocks: 0, gps: 0, population: 582320 },
                'East Delhi': { blocks: 0, gps: 0, population: 1709346 },
                'New Delhi': { blocks: 0, gps: 0, population: 142004 },
                'North Delhi': { blocks: 0, gps: 0, population: 887978 },
                'North East Delhi': { blocks: 0, gps: 0, population: 2241624 },
                'North West Delhi': { blocks: 0, gps: 0, population: 3656539 },
                'Shahdara': { blocks: 0, gps: 0, population: 1116156 },
                'South Delhi': { blocks: 0, gps: 0, population: 2731929 },
                'South East Delhi': { blocks: 0, gps: 0, population: 1419596 },
                'South West Delhi': { blocks: 0, gps: 0, population: 2292958 },
                'West Delhi': { blocks: 0, gps: 0, population: 2543243 }
            }
        },
        'Jammu and Kashmir': {
            districts: {
                'Srinagar': { blocks: 4, gps: 136, population: 1236829 },
                'Jammu': { blocks: 9, gps: 385, population: 1529958 },
                'Anantnag': { blocks: 7, gps: 361, population: 1078692 },
                'Baramulla': { blocks: 15, gps: 522, population: 1008039 },
                'Kupwara': { blocks: 11, gps: 363, population: 870354 },
                'Budgam': { blocks: 8, gps: 281, population: 753745 },
                'Pulwama': { blocks: 5, gps: 192, population: 560440 },
                'Shopian': { blocks: 4, gps: 127, population: 266215 },
                'Kulgam': { blocks: 3, gps: 110, population: 424483 },
                'Bandipora': { blocks: 5, gps: 128, population: 392232 },
                'Ganderbal': { blocks: 4, gps: 86, population: 297446 },
                'Kathua': { blocks: 5, gps: 307, population: 616435 },
                'Samba': { blocks: 4, gps: 179, population: 318898 },
                'Udhampur': { blocks: 8, gps: 234, population: 554985 },
                'Reasi': { blocks: 8, gps: 128, population: 314667 },
                'Rajouri': { blocks: 9, gps: 193, population: 642415 },
                'Poonch': { blocks: 6, gps: 179, population: 476835 },
                'Doda': { blocks: 11, gps: 287, population: 409936 },
                'Kishtwar': { blocks: 7, gps: 114, population: 230696 },
                'Ramban': { blocks: 5, gps: 107, population: 283713 }
            }
        },
        'Ladakh': {
            districts: {
                'Leh': { blocks: 5, gps: 0, population: 133487 },
                'Kargil': { blocks: 3, gps: 0, population: 140802 }
            }
        },
        'Lakshadweep': {
            districts: {
                'Lakshadweep': { blocks: 1, gps: 0, population: 64473 }
            }
        },
        'Puducherry': {
            districts: {
                'Puducherry': { blocks: 2, gps: 90, population: 946600 },
                'Karaikal': { blocks: 1, gps: 44, population: 200222 },
                'Mahe': { blocks: 1, gps: 1, population: 41816 },
                'Yanam': { blocks: 1, gps: 1, population: 55626 }
            }
        }
    }
};

// Initialize hierarchy on load
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('hierarchySection')) {
        initializeHierarchy();
    }
});

function initializeHierarchy() {
    populateStateNodes();
    populateHierarchyTable();
}

function populateStateNodes() {
    const stateNodesContainer = document.getElementById('stateNodes');
    if (!stateNodesContainer) return;
    
    Object.entries(hierarchyData.states).forEach(([stateName, stateData]) => {
        const stateNode = createStateNode(stateName, stateData);
        stateNodesContainer.appendChild(stateNode);
    });
}

function createStateNode(stateName, stateData) {
    const totalGPs = Object.values(stateData.districts).reduce((sum, d) => sum + d.gps, 0);
    const totalBlocks = Object.values(stateData.districts).reduce((sum, d) => sum + d.blocks, 0);
    
    const node = document.createElement('div');
    node.className = 'tree-node state-node';
    node.innerHTML = `
        <div class="node-content" onclick="toggleNode(this)">
            <span class="node-toggle">‚ñ∂</span>
            <span class="node-icon">üèõÔ∏è</span>
            <span class="node-title">${stateName}</span>
            <span class="node-badge" style="background: var(--success); color: white;">State</span>
            <span class="node-stats">${Object.keys(stateData.districts).length} Districts | ${totalBlocks} Blocks | ${totalGPs.toLocaleString()} GPs</span>
        </div>
        <div class="node-children collapsed" id="districts-${stateName.replace(/\s/g, '-')}">
            <div class="loading-node"><span class="loading-spinner"></span>Loading districts...</div>
        </div>
    `;
    
    return node;
}

function toggleNode(element) {
    const toggle = element.querySelector('.node-toggle');
    const children = element.nextElementSibling;
    
    if (children.classList.contains('collapsed')) {
        children.classList.remove('collapsed');
        toggle.textContent = '‚ñº';
        
        // Load districts if not already loaded
        if (children.querySelector('.loading-node')) {
            const stateName = element.querySelector('.node-title').textContent;
            loadDistricts(stateName, children);
        }
    } else {
        children.classList.add('collapsed');
        toggle.textContent = '‚ñ∂';
    }
}

function loadDistricts(stateName, container) {
    // Simulate loading delay
    setTimeout(() => {
        container.innerHTML = '';
        const stateData = hierarchyData.states[stateName];
        
        if (stateData && stateData.districts) {
            Object.entries(stateData.districts).forEach(([districtName, districtData]) => {
                const districtNode = createDistrictNode(districtName, districtData, stateName);
                container.appendChild(districtNode);
            });
        }
    }, 300);
}

function createDistrictNode(districtName, districtData, stateName) {
    const node = document.createElement('div');
    node.className = 'tree-node district-node';
    node.innerHTML = `
        <div class="node-content" onclick="toggleNode(this)">
            <span class="node-toggle">‚ñ∂</span>
            <span class="node-icon">üè¢</span>
            <span class="node-title">${districtName}</span>
            <span class="node-stats">${districtData.blocks} Blocks | ${districtData.gps} GPs | Pop: ${(districtData.population/1000000).toFixed(2)}M</span>
        </div>
        <div class="node-children collapsed">
            <div class="loading-node">Click to load blocks...</div>
        </div>
    `;
    
    return node;
}

function collapseAllNodes() {
    document.querySelectorAll('.node-children').forEach(child => {
        child.classList.add('collapsed');
    });
    document.querySelectorAll('.node-toggle').forEach(toggle => {
        toggle.textContent = '‚ñ∂';
    });
}

function expandAllNodes() {
    const rootChildren = document.querySelector('.root-node .node-children');
    if (rootChildren) {
        rootChildren.classList.remove('collapsed');
        document.querySelector('.root-node .node-toggle').textContent = '‚ñº';
        
        // Load all states but keep districts collapsed
        rootChildren.querySelectorAll('.state-node').forEach(stateNode => {
            const toggle = stateNode.querySelector('.node-toggle');
            const children = stateNode.querySelector('.node-children');
            if (children && children.querySelector('.loading-node')) {
                const stateName = stateNode.querySelector('.node-title').textContent;
                loadDistricts(stateName, children);
            }
        });
    }
}

function changeHierarchyView() {
    const viewMode = document.getElementById('hierarchyViewMode').value;
    
    document.getElementById('treeView').style.display = viewMode === 'tree' ? 'block' : 'none';
    document.getElementById('tableView').style.display = viewMode === 'table' ? 'block' : 'none';
    document.getElementById('mapView').style.display = viewMode === 'map' ? 'block' : 'none';
    
    if (viewMode === 'table') {
        populateHierarchyTable();
    }
}

function populateHierarchyTable() {
    const tbody = document.getElementById('hierarchyTableBody');
    if (!tbody) return;
    
    tbody.innerHTML = '';
    
    Object.entries(hierarchyData.states).forEach(([stateName, stateData]) => {
        const totalGPs = Object.values(stateData.districts).reduce((sum, d) => sum + d.gps, 0);
        const totalBlocks = Object.values(stateData.districts).reduce((sum, d) => sum + d.blocks, 0);
        const totalPopulation = Object.values(stateData.districts).reduce((sum, d) => sum + d.population, 0);
        
        const stateRow = document.createElement('tr');
        stateRow.style.fontWeight = '600';
        stateRow.style.background = 'var(--gray-50)';
        stateRow.innerHTML = `
            <td>State</td>
            <td>${stateName}</td>
            <td>India</td>
            <td>${Object.keys(stateData.districts).length}</td>
            <td>${totalBlocks}</td>
            <td>${totalGPs.toLocaleString()}</td>
            <td>${(totalPopulation/1000000).toFixed(2)}M</td>
            <td>
                <button class="btn btn-secondary" onclick="viewHierarchyDetails('${stateName}')">View</button>
            </td>
        `;
        tbody.appendChild(stateRow);
    });
}

function searchHierarchy() {
    const searchTerm = document.getElementById('hierarchySearch').value.toLowerCase();
    // Implement search functionality
}

function filterHierarchyLevel() {
    const level = document.getElementById('hierarchyLevelFilter').value;
    // Implement filter functionality
}

function viewHierarchyDetails(name) {
    document.getElementById('hierarchyModalTitle').textContent = `${name} - Complete Hierarchy`;
    document.getElementById('hierarchyDetailModal').classList.add('active');
}

function closeHierarchyModal() {
    document.getElementById('hierarchyDetailModal').classList.remove('active');
}

function drillDownHierarchy() {
    // Implement drill down functionality
}

function exportHierarchy() {
    alert('Exporting hierarchy structure...');
}
</script>








<!-- district -->
<!-- Replace the existing districtsSection with this complete code -->

<section id="districtsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">All Districts Management</h2>
            <p style="color: var(--text-secondary);">Comprehensive management of 756 districts across India</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="activeDistrictsCount">756</span> Active
            </div>
            <button class="btn btn-secondary" onclick="downloadDistrictReport()">üìä Download Report</button>
            <button class="btn btn-primary" onclick="showAddDistrictModal()">+ Add District</button>
        </div>
    </div>

    <!-- District Analytics Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üè¢</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 2 New</div>
            </div>
            <div class="stat-value" style="color: white;">756</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Total Districts</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">718</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">In States</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">38</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">In UTs</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìä</div>
                <div class="stat-trend up">‚Üë 8.5%</div>
            </div>
            <div class="stat-value">93.2%</div>
            <div class="stat-label">District Coverage</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">704</div>
                    <div class="stat-detail-label">With Agents</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">52</div>
                    <div class="stat-detail-label">Pending</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üë•</div>
                <div class="stat-trend up">‚Üë 12.3%</div>
            </div>
            <div class="stat-value">378</div>
            <div class="stat-label">Avg Agents/District</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2,150</div>
                    <div class="stat-detail-label">Max (Mumbai)</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">15</div>
                    <div class="stat-detail-label">Min (Lakshadweep)</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üè°</div>
            </div>
            <div class="stat-value">347</div>
            <div class="stat-label">Avg GPs/District</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">3,986</div>
                    <div class="stat-detail-label">Max (Azamgarh)</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">0</div>
                    <div class="stat-detail-label">Min (Urban)</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìù</div>
                <div class="stat-trend up">‚Üë 15.8%</div>
            </div>
            <div class="stat-value">1.13L</div>
            <div class="stat-label">Avg Applications/District</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">89.4%</div>
                    <div class="stat-detail-label">Success Rate</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">2.8 days</div>
                    <div class="stat-detail-label">Avg Processing</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">‚ö°</div>
            </div>
            <div class="stat-value">742</div>
            <div class="stat-label">Districts Online</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">14</div>
                    <div class="stat-detail-label">Offline</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">98.1%</div>
                    <div class="stat-detail-label">Uptime</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Search and Filter Bar -->
    <div class="district-filter-container" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem;">
        <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
            <div style="position: relative; flex: 2;">
                <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üîç</span>
                <input type="text" class="search-input" placeholder="Search by district name, state, code..." id="districtSearch" onkeyup="searchDistricts()" style="width: 100%;">
            </div>
            <select class="filter-select" id="stateFilter" onchange="filterDistricts()">
                <option value="all">All States/UTs</option>
                <optgroup label="States">
                    <option value="Andhra Pradesh">Andhra Pradesh</option>
                    <option value="Arunachal Pradesh">Arunachal Pradesh</option>
                    <option value="Assam">Assam</option>
                    <option value="Bihar">Bihar</option>
                    <option value="Chhattisgarh">Chhattisgarh</option>
                    <option value="Goa">Goa</option>
                    <option value="Gujarat">Gujarat</option>
                    <option value="Haryana">Haryana</option>
                    <option value="Himachal Pradesh">Himachal Pradesh</option>
                    <option value="Jharkhand">Jharkhand</option>
                    <option value="Karnataka">Karnataka</option>
                    <option value="Kerala">Kerala</option>
                    <option value="Madhya Pradesh">Madhya Pradesh</option>
                    <option value="Maharashtra">Maharashtra</option>
                    <option value="Manipur">Manipur</option>
                    <option value="Meghalaya">Meghalaya</option>
                    <option value="Mizoram">Mizoram</option>
                    <option value="Nagaland">Nagaland</option>
                    <option value="Odisha">Odisha</option>
                    <option value="Punjab">Punjab</option>
                    <option value="Rajasthan">Rajasthan</option>
                    <option value="Sikkim">Sikkim</option>
                    <option value="Tamil Nadu">Tamil Nadu</option>
                    <option value="Telangana">Telangana</option>
                    <option value="Tripura">Tripura</option>
                    <option value="Uttar Pradesh">Uttar Pradesh</option>
                    <option value="Uttarakhand">Uttarakhand</option>
                    <option value="West Bengal">West Bengal</option>
                </optgroup>
                <optgroup label="Union Territories">
                    <option value="Andaman and Nicobar">Andaman & Nicobar</option>
                    <option value="Chandigarh">Chandigarh</option>
                    <option value="DNH and DD">DNH and DD</option>
                    <option value="Delhi">Delhi</option>
                    <option value="Jammu and Kashmir">Jammu & Kashmir</option>
                    <option value="Ladakh">Ladakh</option>
                    <option value="Lakshadweep">Lakshadweep</option>
                    <option value="Puducherry">Puducherry</option>
                </optgroup>
            </select>
            <select class="filter-select" id="performanceFilter" onchange="filterDistricts()">
                <option value="all">All Performance</option>
                <option value="high">High (90%+)</option>
                <option value="medium">Medium (70-90%)</option>
                <option value="low">Low (<70%)</option>
            </select>
        </div>
        
        <div style="display: flex; gap: 1rem; align-items: center;">
            <select class="filter-select" id="populationFilter" onchange="filterDistricts()">
                <option value="all">All Population</option>
                <option value="metro">Metro (>5M)</option>
                <option value="large">Large (2-5M)</option>
                <option value="medium">Medium (1-2M)</option>
                <option value="small">Small (<1M)</option>
            </select>
            <select class="filter-select" id="coverageFilter" onchange="filterDistricts()">
                <option value="all">All Coverage</option>
                <option value="full">Full Coverage</option>
                <option value="partial">Partial Coverage</option>
                <option value="none">No Coverage</option>
            </select>
            <select class="filter-select" id="sortBy" onchange="sortDistricts()">
                <option value="name">Sort by Name</option>
                <option value="state">Sort by State</option>
                <option value="population">Sort by Population</option>
                <option value="agents">Sort by Agents</option>
                <option value="gps">Sort by GPs</option>
                <option value="applications">Sort by Applications</option>
            </select>
            <button class="btn btn-secondary" onclick="clearFilters()">Clear Filters</button>
        </div>
    </div>

    <!-- View Mode Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <button class="view-tab active" onclick="changeDistrictView('grid')" id="gridViewTab">
            <span>üìä</span> Grid View
        </button>
        <button class="view-tab" onclick="changeDistrictView('table')" id="tableViewTab">
            <span>üìã</span> Table View
        </button>
        <button class="view-tab" onclick="changeDistrictView('map')" id="mapViewTab">
            <span>üó∫Ô∏è</span> Map View
        </button>
        <button class="view-tab" onclick="changeDistrictView('analytics')" id="analyticsViewTab">
            <span>üìà</span> Analytics View
        </button>
    </div>

    <!-- Grid View -->
    <div id="districtGridView" class="district-grid">
        <!-- Districts will be populated here -->
    </div>

    <!-- Table View -->
    <div id="districtTableView" style="display: none;">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th onclick="sortTable(0)">District ‚Üï</th>
                        <th onclick="sortTable(1)">State/UT ‚Üï</th>
                        <th onclick="sortTable(2)">Blocks ‚Üï</th>
                        <th onclick="sortTable(3)">GPs ‚Üï</th>
                        <th onclick="sortTable(4)">Population ‚Üï</th>
                        <th onclick="sortTable(5)">Agents ‚Üï</th>
                        <th onclick="sortTable(6)">Applications ‚Üï</th>
                        <th onclick="sortTable(7)">Revenue ‚Üï</th>
                        <th onclick="sortTable(8)">Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="districtTableBody">
                    <!-- Table rows will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Map View -->
    <div id="districtMapView" style="display: none;">
        <div class="chart-container" style="height: 600px;">
            <div class="chart-placeholder">
                <div>üó∫Ô∏è Interactive District Map - Click on any district for details</div>
            </div>
        </div>
    </div>

    <!-- Analytics View -->
    <div id="districtAnalyticsView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Top 20 Districts by Population</h3>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üìä Population Distribution Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">District Performance Heatmap</h3>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üó∫Ô∏è Performance Heatmap</div>
                </div>
            </div>
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Agent Distribution by District</h3>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üìà Agent Coverage Analysis</div>
                </div>
            </div>
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Revenue Contribution</h3>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üí∞ Revenue Analytics</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <div class="pagination-container" id="districtPagination" style="display: flex; justify-content: center; align-items: center; gap: 0.5rem; margin-top: 2rem;">
        <button class="btn btn-secondary" onclick="previousPage()">Previous</button>
        <div id="pageNumbers" style="display: flex; gap: 0.25rem;">
            <!-- Page numbers will be generated here -->
        </div>
        <button class="btn btn-secondary" onclick="nextPage()">Next</button>
        <span style="margin-left: 1rem; color: var(--text-muted);">
            Showing <span id="showingCount">20</span> of <span id="totalCount">756</span> districts
        </span>
    </div>
</section>

<!-- District Detail Modal -->
<div class="modal" id="districtDetailModal">
    <div class="modal-content" style="max-width: 1400px;">
        <div class="modal-header">
            <h2 class="modal-title" id="districtModalTitle">District Details</h2>
            <button class="btn btn-secondary btn-icon" onclick="closeDistrictModal()">‚úï</button>
        </div>
        <div class="modal-body">
            <div id="districtModalContent">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeDistrictModal()">Close</button>
            <button class="btn btn-primary" onclick="openDistrictDashboard()">Open District Dashboard</button>
        </div>
    </div>
</div>

<style>
/* Districts Section Specific Styles */
.district-filter-container {
    box-shadow: var(--shadow-sm);
}

.view-tab {
    padding: 0.75rem 1.5rem;
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
    color: var(--text-secondary);
}

.view-tab:hover {
    background: var(--gray-50);
    border-color: var(--primary-color);
}

.view-tab.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

.district-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    gap: 1.25rem;
}

.district-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.25rem;
    transition: all 0.3s ease;
    cursor: pointer;
}

.district-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.district-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 1rem;
}

.district-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.district-state {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 0.25rem;
}

.district-stats-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1rem 0;
}

.district-stat {
    background: var(--gray-50);
    padding: 0.625rem;
    border-radius: 6px;
    text-align: center;
    transition: background 0.2s;
}

.district-stat:hover {
    background: var(--primary-light);
}

.district-stat-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
}

.district-stat-label {
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-top: 0.125rem;
}

.district-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: 1rem;
    border-top: 1px solid var(--gray-200);
}

.status-indicator {
    display: flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.35rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
}

.status-indicator.online {
    background: var(--success-light);
    color: var(--success);
}

.status-indicator.offline {
    background: var(--danger-light);
    color: var(--danger);
}

.status-indicator::before {
    content: '';
    width: 6px;
    height: 6px;
    border-radius: 50%;
    background: currentColor;
}

.pagination-container button {
    min-width: 40px;
    height: 40px;
    padding: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.page-number {
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 1px solid var(--gray-300);
    background: white;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
}

.page-number:hover {
    background: var(--gray-50);
    border-color: var(--primary-color);
}

.page-number.active {
    background: var(--primary-color);
    color: white;
    border-color: var(--primary-color);
}

/* Performance indicators */
.performance-bar {
    height: 4px;
    background: var(--gray-200);
    border-radius: 2px;
    overflow: hidden;
    margin-top: 0.5rem;
}

.performance-fill {
    height: 100%;
    transition: width 0.3s ease;
}

.performance-high { background: var(--success); }
.performance-medium { background: var(--warning); }
.performance-low { background: var(--danger); }
</style>

<script>
// Complete districts data (using the hierarchy data structure)
let allDistricts = [];
let currentPage = 1;
const itemsPerPage = 20;
let filteredDistricts = [];
let currentView = 'grid';

// Initialize districts data from hierarchy
function initializeDistrictsData() {
    allDistricts = [];
    let districtId = 1;
    
    Object.entries(hierarchyData.states).forEach(([stateName, stateData]) => {
        Object.entries(stateData.districts).forEach(([districtName, districtData]) => {
            allDistricts.push({
                id: districtId++,
                name: districtName,
                state: stateName,
                blocks: districtData.blocks,
                gps: districtData.gps,
                population: districtData.population,
                agents: Math.floor(districtData.population / 5000), // Approximate
                applications: Math.floor(districtData.population / 50), // Approximate
                revenue: (districtData.population / 1000000 * 0.5).toFixed(2), // Approximate
                coverage: Math.random() > 0.1 ? 'full' : Math.random() > 0.3 ? 'partial' : 'none',
                status: Math.random() > 0.05 ? 'online' : 'offline',
                performance: Math.random() * 30 + 70 // 70-100% range
            });
        });
    });
    
    filteredDistricts = [...allDistricts];
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('districtsSection')) {
        initializeDistrictsData();
        renderDistricts();
    }
});

// Render districts based on current view
function renderDistricts() {
    if (currentView === 'grid') {
        renderGridView();
    } else if (currentView === 'table') {
        renderTableView();
    }
    renderPagination();
}

// Render grid view
function renderGridView() {
    const container = document.getElementById('districtGridView');
    if (!container) return;
    
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const districtsToShow = filteredDistricts.slice(startIndex, endIndex);
    
    container.innerHTML = '';
    
    districtsToShow.forEach(district => {
        const card = document.createElement('div');
        card.className = 'district-card';
        card.setAttribute('data-district-id', district.id);
        
        const performanceClass = district.performance >= 90 ? 'high' : 
                                district.performance >= 70 ? 'medium' : 'low';
        
        card.innerHTML = `
            <div class="district-header">
                <div>
                    <div class="district-name">${district.name}</div>
                    <div class="district-state">${district.state}</div>
                </div>
                <div class="status-indicator ${district.status}">
                    ${district.status === 'online' ? 'Active' : 'Offline'}
                </div>
            </div>
            
            <div class="district-stats-grid">
                <div class="district-stat">
                    <div class="district-stat-value">${district.blocks}</div>
                    <div class="district-stat-label">Blocks</div>
                </div>
                <div class="district-stat">
                    <div class="district-stat-value">${district.gps.toLocaleString()}</div>
                    <div class="district-stat-label">GPs</div>
                </div>
                <div class="district-stat">
                    <div class="district-stat-value">${(district.population/1000000).toFixed(2)}M</div>
                    <div class="district-stat-label">Population</div>
                </div>
                <div class="district-stat">
                    <div class="district-stat-value">${district.agents.toLocaleString()}</div>
                    <div class="district-stat-label">Agents</div>
                </div>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.35rem;">
                    <span style="font-size: 0.75rem; color: var(--text-muted);">Performance</span>
                    <span style="font-size: 0.75rem; font-weight: 600; color: var(--text-primary);">${district.performance.toFixed(1)}%</span>
                </div>
                <div class="performance-bar">
                    <div class="performance-fill performance-${performanceClass}" style="width: ${district.performance}%"></div>
                </div>
            </div>
            
            <div class="district-footer">
                <div>
                    <div style="font-size: 0.75rem; color: var(--text-muted);">Monthly Revenue</div>
                    <div style="font-weight: 600; color: var(--success);">‚Çπ${district.revenue} Cr</div>
                </div>
                <button class="btn btn-secondary" onclick="viewDistrictDetails(${district.id})">View Details</button>
            </div>
        `;
        
        container.appendChild(card);
    });
}

// Render table view
function renderTableView() {
    const tbody = document.getElementById('districtTableBody');
    if (!tbody) return;
    
    const startIndex = (currentPage - 1) * itemsPerPage;
    const endIndex = startIndex + itemsPerPage;
    const districtsToShow = filteredDistricts.slice(startIndex, endIndex);
    
    tbody.innerHTML = '';
    
    districtsToShow.forEach((district, index) => {
        const row = document.createElement('tr');
        const statusBadge = district.status === 'online' ? 
            '<span class="badge badge-success">Online</span>' : 
            '<span class="badge badge-danger">Offline</span>';
        
        row.innerHTML = `
            <td style="font-weight: 600;">${district.name}</td>
            <td>${district.state}</td>
            <td>${district.blocks}</td>
            <td>${district.gps.toLocaleString()}</td>
            <td>${(district.population/1000000).toFixed(2)}M</td>
            <td>${district.agents.toLocaleString()}</td>
            <td>${(district.applications/1000).toFixed(0)}K</td>
            <td style="font-weight: 600; color: var(--success);">‚Çπ${district.revenue} Cr</td>
            <td>${statusBadge}</td>
            <td>
                <button class="btn btn-secondary" onclick="viewDistrictDetails(${district.id})">View</button>
            </td>
        `;
        
        tbody.appendChild(row);
    });
}

// Change view mode
function changeDistrictView(view) {
    currentView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(view + 'ViewTab').classList.add('active');
    
    // Show/hide views
    document.getElementById('districtGridView').style.display = view === 'grid' ? 'grid' : 'none';
    document.getElementById('districtTableView').style.display = view === 'table' ? 'block' : 'none';
    document.getElementById('districtMapView').style.display = view === 'map' ? 'block' : 'none';
    document.getElementById('districtAnalyticsView').style.display = view === 'analytics' ? 'block' : 'none';
    document.getElementById('districtPagination').style.display = (view === 'map' || view === 'analytics') ? 'none' : 'flex';
    
    if (view === 'grid' || view === 'table') {
        renderDistricts();
    }
}

// Search districts
function searchDistricts() {
    const searchTerm = document.getElementById('districtSearch').value.toLowerCase();
    
    filteredDistricts = allDistricts.filter(district => 
        district.name.toLowerCase().includes(searchTerm) ||
        district.state.toLowerCase().includes(searchTerm)
    );
    
    currentPage = 1;
    renderDistricts();
    updateCounts();
}

// Filter districts
function filterDistricts() {
    const stateFilter = document.getElementById('stateFilter').value;
    const performanceFilter = document.getElementById('performanceFilter').value;
    const populationFilter = document.getElementById('populationFilter').value;
    const coverageFilter = document.getElementById('coverageFilter').value;
    
    filteredDistricts = allDistricts.filter(district => {
        let matchState = stateFilter === 'all' || district.state === stateFilter;
        
        let matchPerformance = performanceFilter === 'all' ||
            (performanceFilter === 'high' && district.performance >= 90) ||
            (performanceFilter === 'medium' && district.performance >= 70 && district.performance < 90) ||
            (performanceFilter === 'low' && district.performance < 70);
        
        let matchPopulation = populationFilter === 'all' ||
            (populationFilter === 'metro' && district.population > 5000000) ||
            (populationFilter === 'large' && district.population >= 2000000 && district.population <= 5000000) ||
            (populationFilter === 'medium' && district.population >= 1000000 && district.population < 2000000) ||
            (populationFilter === 'small' && district.population < 1000000);
        
        let matchCoverage = coverageFilter === 'all' || district.coverage === coverageFilter;
        
        return matchState && matchPerformance && matchPopulation && matchCoverage;
    });
    
    currentPage = 1;
    renderDistricts();
    updateCounts();
}

// Sort districts
function sortDistricts() {
    const sortBy = document.getElementById('sortBy').value;
    
    filteredDistricts.sort((a, b) => {
        switch(sortBy) {
            case 'name': return a.name.localeCompare(b.name);
            case 'state': return a.state.localeCompare(b.state);
            case 'population': return b.population - a.population;
            case 'agents': return b.agents - a.agents;
            case 'gps': return b.gps - a.gps;
            case 'applications': return b.applications - a.applications;
            default: return 0;
        }
    });
    
    renderDistricts();
}

// Clear all filters
function clearFilters() {
    document.getElementById('districtSearch').value = '';
    document.getElementById('stateFilter').value = 'all';
    document.getElementById('performanceFilter').value = 'all';
    document.getElementById('populationFilter').value = 'all';
    document.getElementById('coverageFilter').value = 'all';
    document.getElementById('sortBy').value = 'name';
    
    filteredDistricts = [...allDistricts];
    currentPage = 1;
    renderDistricts();
    updateCounts();
}

// Pagination functions
function renderPagination() {
    const totalPages = Math.ceil(filteredDistricts.length / itemsPerPage);
    const pageNumbers = document.getElementById('pageNumbers');
    
    if (!pageNumbers) return;
    
    pageNumbers.innerHTML = '';
    
    // Show max 5 page numbers
    let startPage = Math.max(1, currentPage - 2);
    let endPage = Math.min(totalPages, startPage + 4);
    
    if (endPage - startPage < 4) {
        startPage = Math.max(1, endPage - 4);
    }
    
    for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('div');
        pageBtn.className = 'page-number' + (i === currentPage ? ' active' : '');
        pageBtn.textContent = i;
        pageBtn.onclick = () => goToPage(i);
        pageNumbers.appendChild(pageBtn);
    }
    
    updateCounts();
}

function goToPage(page) {
    currentPage = page;
    renderDistricts();
}

function previousPage() {
    if (currentPage > 1) {
        currentPage--;
        renderDistricts();
    }
}

function nextPage() {
    const totalPages = Math.ceil(filteredDistricts.length / itemsPerPage);
    if (currentPage < totalPages) {
        currentPage++;
        renderDistricts();
    }
}

// Update counts display
function updateCounts() {
    const startIndex = (currentPage - 1) * itemsPerPage + 1;
    const endIndex = Math.min(startIndex + itemsPerPage - 1, filteredDistricts.length);
    
    document.getElementById('showingCount').textContent = `${startIndex}-${endIndex}`;
    document.getElementById('totalCount').textContent = filteredDistricts.length;
    document.getElementById('activeDistrictsCount').textContent = 
        filteredDistricts.filter(d => d.status === 'online').length;
}

// View district details
function viewDistrictDetails(districtId) {
    const district = allDistricts.find(d => d.id === districtId);
    if (!district) return;
    
    document.getElementById('districtModalTitle').textContent = `${district.name} District - ${district.state}`;
    
    const modalContent = document.getElementById('districtModalContent');
    modalContent.innerHTML = `
        <div class="dashboard-grid" style="margin-bottom: 2rem;">
            <div class="stat-card">
                <div class="stat-icon">üè¢</div>
                <div class="stat-value">${district.blocks}</div>
                <div class="stat-label">Total Blocks</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üè°</div>
                <div class="stat-value">${district.gps.toLocaleString()}</div>
                <div class="stat-label">Gram Panchayats</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üë•</div>
                <div class="stat-value">${(district.population/1000000).toFixed(2)}M</div>
                <div class="stat-label">Population</div>
            </div>
            <div class="stat-card">
                <div class="stat-icon">üíº</div>
                <div class="stat-value">${district.agents.toLocaleString()}</div>
                <div class="stat-label">Active Agents</div>
            </div>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Performance Metrics</h3>
                <div class="chart-placeholder" style="height: 250px;">
                    <div>üìä Performance Analytics</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Revenue Trend</h3>
                <div class="chart-placeholder" style="height: 250px;">
                    <div>üìà Revenue Growth</div>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('districtDetailModal').classList.add('active');
}

// Close modal
function closeDistrictModal() {
    document.getElementById('districtDetailModal').classList.remove('active');
}

// Other functions
function openDistrictDashboard() {
    alert('Opening district dashboard...');
}

function showAddDistrictModal() {
    alert('Add new district functionality...');
}

function downloadDistrictReport() {
    alert('Downloading district report...');
}

// Table sorting
function sortTable(columnIndex) {
    // Implement table column sorting
    console.log('Sorting by column:', columnIndex);
}
</script>


<!-- staff -->
<!-- Replace the existing staffSection with this complete code -->

<section id="staffSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">National Staff Management</h2>
            <p style="color: var(--text-secondary);">Manage 46,523 employees across all states and departments</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="activeStaffCount">44,892</span> Active
            </div>
            <button class="btn btn-secondary" onclick="exportStaffData()">üìä Export Data</button>
            <button class="btn btn-primary" onclick="showAddStaffModal()">+ Add Staff</button>
        </div>
    </div>

    <!-- Staff Overview Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üë•</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 2.8%</div>
            </div>
            <div class="stat-value" style="color: white;">46,523</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Total Staff Nationwide</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">44,892</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Active</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">1,631</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">On Leave</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üíº</div>
                <div class="stat-trend up">‚Üë 3.5%</div>
            </div>
            <div class="stat-value">28,540</div>
            <div class="stat-label">Case Workers</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">92.3%</div>
                    <div class="stat-detail-label">Attendance</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">125</div>
                    <div class="stat-detail-label">Avg Cases/Month</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìû</div>
                <div class="stat-trend up">‚Üë 1.2%</div>
            </div>
            <div class="stat-value">9,456</div>
            <div class="stat-label">Telecallers</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">94.5%</div>
                    <div class="stat-detail-label">Active Rate</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">280</div>
                    <div class="stat-detail-label">Calls/Day Avg</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üë®‚Äçüíº</div>
            </div>
            <div class="stat-value">3,892</div>
            <div class="stat-label">Managers & Supervisors</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2,145</div>
                    <div class="stat-detail-label">District Level</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">1,747</div>
                    <div class="stat-detail-label">State Level</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üíª</div>
            </div>
            <div class="stat-value">2,450</div>
            <div class="stat-label">Technical Staff</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">1,850</div>
                    <div class="stat-detail-label">IT Support</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">600</div>
                    <div class="stat-detail-label">Developers</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üè¢</div>
                <div class="stat-trend down">‚Üì 0.5%</div>
            </div>
            <div class="stat-value">2,185</div>
            <div class="stat-label">Administrative Staff</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">850</div>
                    <div class="stat-detail-label">HR Team</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">1,335</div>
                    <div class="stat-detail-label">Support Staff</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Filters and Search -->
    <div class="staff-filter-container" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div style="position: relative;">
                <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üîç</span>
                <input type="text" class="search-input" placeholder="Search by name, ID, email, phone..." id="staffSearch" onkeyup="searchStaff()" style="width: 100%;">
            </div>
            <select class="filter-select" id="departmentFilter" onchange="filterStaff()">
                <option value="all">All Departments</option>
                <option value="case-workers">Case Workers</option>
                <option value="telecallers">Telecallers</option>
                <option value="managers">Managers</option>
                <option value="technical">Technical</option>
                <option value="admin">Administrative</option>
                <option value="field">Field Officers</option>
                <option value="trainers">Trainers</option>
            </select>
            <select class="filter-select" id="stateStaffFilter" onchange="filterStaff()">
                <option value="all">All States/UTs</option>
                <optgroup label="High Staff Count">
                    <option value="UP">Uttar Pradesh (4,850)</option>
                    <option value="MH">Maharashtra (2,850)</option>
                    <option value="WB">West Bengal (1,250)</option>
                    <option value="AP">Andhra Pradesh (1,250)</option>
                </optgroup>
                <optgroup label="All States">
                    <option value="state">View All States...</option>
                </optgroup>
            </select>
            <select class="filter-select" id="statusFilter" onchange="filterStaff()">
                <option value="all">All Status</option>
                <option value="active">Active</option>
                <option value="leave">On Leave</option>
                <option value="training">In Training</option>
                <option value="probation">Probation</option>
                <option value="suspended">Suspended</option>
            </select>
        </div>
        
        <div style="display: grid; grid-template-columns: 1fr 1fr 1fr 1fr 1fr; gap: 1rem;">
            <select class="filter-select" id="experienceFilter" onchange="filterStaff()">
                <option value="all">All Experience</option>
                <option value="0-1">0-1 Years</option>
                <option value="1-3">1-3 Years</option>
                <option value="3-5">3-5 Years</option>
                <option value="5+">5+ Years</option>
            </select>
            <select class="filter-select" id="performanceFilter" onchange="filterStaff()">
                <option value="all">All Performance</option>
                <option value="excellent">Excellent (90%+)</option>
                <option value="good">Good (70-90%)</option>
                <option value="average">Average (50-70%)</option>
                <option value="poor">Needs Improvement</option>
            </select>
            <select class="filter-select" id="shiftFilter" onchange="filterStaff()">
                <option value="all">All Shifts</option>
                <option value="morning">Morning (6AM-2PM)</option>
                <option value="afternoon">Afternoon (2PM-10PM)</option>
                <option value="night">Night (10PM-6AM)</option>
                <option value="flexible">Flexible</option>
            </select>
            <select class="filter-select" id="sortByStaff" onchange="sortStaff()">
                <option value="name">Sort by Name</option>
                <option value="id">Sort by ID</option>
                <option value="joining">Sort by Joining Date</option>
                <option value="performance">Sort by Performance</option>
                <option value="attendance">Sort by Attendance</option>
            </select>
            <button class="btn btn-secondary" onclick="clearStaffFilters()">Clear Filters</button>
        </div>
    </div>

    <!-- View Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <button class="view-tab active" onclick="changeStaffView('cards')" id="cardsViewTab">
            <span>üë§</span> Cards View
        </button>
        <button class="view-tab" onclick="changeStaffView('table')" id="tableStaffViewTab">
            <span>üìã</span> Table View
        </button>
        <button class="view-tab" onclick="changeStaffView('org')" id="orgViewTab">
            <span>üè¢</span> Organization Chart
        </button>
        <button class="view-tab" onclick="changeStaffView('attendance')" id="attendanceViewTab">
            <span>üìÖ</span> Attendance
        </button>
        <button class="view-tab" onclick="changeStaffView('payroll')" id="payrollViewTab">
            <span>üí∞</span> Payroll
        </button>
        <button class="view-tab" onclick="changeStaffView('performance')" id="performanceViewTab">
            <span>üìä</span> Performance
        </button>
    </div>

    <!-- Cards View -->
    <div id="staffCardsView" class="staff-grid">
        <!-- Staff cards will be populated here -->
    </div>

    <!-- Table View -->
    <div id="staffTableView" style="display: none;">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Department</th>
                        <th>Designation</th>
                        <th>Location</th>
                        <th>Phone</th>
                        <th>Email</th>
                        <th>Joining Date</th>
                        <th>Performance</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="staffTableBody">
                    <!-- Table rows will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Organization Chart View -->
    <div id="orgChartView" style="display: none;">
        <div class="chart-container" style="min-height: 600px;">
            <div class="org-chart-header" style="padding: 1.5rem; background: var(--gray-50); border-bottom: 1px solid var(--gray-200);">
                <h3 style="margin-bottom: 0.5rem;">Organizational Structure</h3>
                <p style="color: var(--text-secondary); font-size: 0.9rem;">National ‚Üí State ‚Üí District ‚Üí Block ‚Üí Field Level</p>
            </div>
            <div class="chart-placeholder" style="height: 500px;">
                <div>üè¢ Interactive Organization Chart</div>
            </div>
        </div>
    </div>

    <!-- Attendance View -->
    <div id="attendanceView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
            <div class="attendance-card">
                <h4>Today's Attendance</h4>
                <div class="attendance-stats">
                    <div class="attendance-present">Present: 42,156 (90.8%)</div>
                    <div class="attendance-absent">Absent: 2,367 (5.1%)</div>
                    <div class="attendance-leave">On Leave: 1,631 (3.5%)</div>
                    <div class="attendance-late">Late: 369 (0.8%)</div>
                </div>
            </div>
            <div class="attendance-card">
                <h4>Weekly Average</h4>
                <div class="attendance-stats">
                    <div>Monday: 92.3%</div>
                    <div>Tuesday: 93.1%</div>
                    <div>Wednesday: 92.8%</div>
                    <div>Thursday: 91.5%</div>
                    <div>Friday: 90.2%</div>
                    <div>Saturday: 85.6%</div>
                </div>
            </div>
            <div class="attendance-card">
                <h4>Department Wise</h4>
                <div class="attendance-stats">
                    <div>Case Workers: 91.2%</div>
                    <div>Telecallers: 94.5%</div>
                    <div>Managers: 96.8%</div>
                    <div>Technical: 93.2%</div>
                    <div>Admin: 92.6%</div>
                </div>
            </div>
            <div class="attendance-card">
                <h4>Leave Statistics</h4>
                <div class="attendance-stats">
                    <div>Sick Leave: 456</div>
                    <div>Casual Leave: 823</div>
                    <div>Earned Leave: 234</div>
                    <div>Maternity/Paternity: 118</div>
                </div>
            </div>
        </div>
        
        <div class="data-table-container">
            <div class="table-header">
                <h3 class="table-title">Attendance Details</h3>
                <button class="btn btn-primary">Mark Attendance</button>
            </div>
            <div class="chart-placeholder" style="height: 400px;">
                <div>üìä Detailed Attendance Report</div>
            </div>
        </div>
    </div>

    <!-- Payroll View -->
    <div id="payrollView" style="display: none;">
        <div class="payroll-summary" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div class="chart-container">
                <h3 class="chart-title">Monthly Payroll Summary</h3>
                <div style="padding: 1rem;">
                    <div style="font-size: 2rem; font-weight: 700; color: var(--primary-color);">‚Çπ24.8 Cr</div>
                    <div style="color: var(--text-secondary);">Total Monthly Payroll</div>
                    <div style="margin-top: 1rem;">
                        <div style="display: flex; justify-content: space-between; margin: 0.5rem 0;">
                            <span>Basic Salary:</span>
                            <strong>‚Çπ18.5 Cr</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin: 0.5rem 0;">
                            <span>Allowances:</span>
                            <strong>‚Çπ4.2 Cr</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin: 0.5rem 0;">
                            <span>Incentives:</span>
                            <strong>‚Çπ2.1 Cr</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Department-wise Distribution</h3>
                <div class="chart-placeholder" style="height: 250px;">
                    <div>üìä Payroll Distribution Chart</div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Payroll Processing Status</h3>
                <div style="padding: 1rem;">
                    <div class="badge badge-success" style="margin-bottom: 1rem;">October 2024 Processed</div>
                    <div>
                        <div style="margin: 0.75rem 0;">‚úÖ Salaries Processed: 45,892</div>
                        <div style="margin: 0.75rem 0;">‚è≥ Pending: 631</div>
                        <div style="margin: 0.75rem 0;">‚ùå On Hold: 0</div>
                        <div style="margin: 0.75rem 0;">üìÖ Next Processing: Nov 1, 2024</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance View -->
    <div id="performanceView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Performance Distribution</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä Performance Bell Curve</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Top Performers - October 2024</h3>
                <div style="padding: 1rem;">
                    <div class="top-performer-list">
                        <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.5rem;">
                            ü•á <strong>Rajesh Kumar</strong> - Case Worker, UP (98.5%)
                        </div>
                        <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.5rem;">
                            ü•à <strong>Priya Sharma</strong> - Telecaller, MH (97.8%)
                        </div>
                        <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.5rem;">
                            ü•â <strong>Amit Patel</strong> - Manager, GJ (96.9%)
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <div class="pagination-container" id="staffPagination" style="display: flex; justify-content: center; align-items: center; gap: 0.5rem; margin-top: 2rem;">
        <button class="btn btn-secondary" onclick="previousStaffPage()">Previous</button>
        <div id="staffPageNumbers" style="display: flex; gap: 0.25rem;">
            <!-- Page numbers will be generated here -->
        </div>
        <button class="btn btn-secondary" onclick="nextStaffPage()">Next</button>
        <span style="margin-left: 1rem; color: var(--text-muted);">
            Showing <span id="showingStaffCount">50</span> of <span id="totalStaffCount">46,523</span> staff
        </span>
    </div>
</section>

<!-- Staff Detail Modal -->
<div class="modal" id="staffDetailModal">
    <div class="modal-content" style="max-width: 1200px;">
        <div class="modal-header">
            <h2 class="modal-title" id="staffModalTitle">Staff Details</h2>
            <button class="btn btn-secondary btn-icon" onclick="closeStaffModal()">‚úï</button>
        </div>
        <div class="modal-body">
            <div id="staffModalContent">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeStaffModal()">Close</button>
            <button class="btn btn-primary" onclick="editStaffDetails()">Edit Details</button>
        </div>
    </div>
</div>

<style>
/* Staff Section Specific Styles */
.staff-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.25rem;
}

.staff-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.25rem;
    transition: all 0.3s ease;
    cursor: pointer;
}

.staff-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.staff-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.staff-avatar {
    width: 60px;
    height: 60px;
    background: linear-gradient(135deg, var(--primary-color), var(--primary-hover));
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    color: white;
    font-weight: 600;
}

.staff-info {
    flex: 1;
}

.staff-name {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.staff-designation {
    font-size: 0.85rem;
    color: var(--text-secondary);
}

.staff-id {
    font-size: 0.75rem;
    color: var(--text-muted);
    margin-top: 0.25rem;
}

.staff-status {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
    display: inline-block;
}

.status-active {
    background: var(--success-light);
    color: var(--success);
}

.status-leave {
    background: var(--warning-light);
    color: var(--warning);
}

.status-training {
    background: var(--info);
    color: white;
}

.staff-details {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1rem 0;
    padding: 1rem 0;
    border-top: 1px solid var(--gray-200);
    border-bottom: 1px solid var(--gray-200);
}

.staff-detail-item {
    display: flex;
    flex-direction: column;
}

.detail-label {
    font-size: 0.75rem;
    color: var(--text-muted);
    text-transform: uppercase;
}

.detail-value {
    font-size: 0.9rem;
    font-weight: 500;
    color: var(--text-primary);
    margin-top: 0.125rem;
}

.staff-performance {
    margin-top: 1rem;
}

.performance-meter {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.5rem;
}

.performance-bar {
    flex: 1;
    height: 8px;
    background: var(--gray-200);
    border-radius: 4px;
    overflow: hidden;
}

.performance-fill {
    height: 100%;
    background: var(--success);
    transition: width 0.3s ease;
}

.attendance-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.attendance-card h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.attendance-stats div {
    padding: 0.5rem 0;
    border-bottom: 1px solid var(--gray-100);
    font-size: 0.9rem;
}

.attendance-present {
    color: var(--success);
    font-weight: 600;
}

.attendance-absent {
    color: var(--danger);
}

.attendance-leave {
    color: var(--warning);
}

.attendance-late {
    color: var(--info);
}
</style>

<script>
// Staff data structure
let allStaff = [];
let currentStaffPage = 1;
const staffPerPage = 50;
let filteredStaff = [];
let currentStaffView = 'cards';

// Sample staff data generator
function generateStaffData() {
    const departments = ['Case Workers', 'Telecallers', 'Managers', 'Technical', 'Administrative', 'Field Officers'];
    const states = ['UP', 'MH', 'WB', 'AP', 'TN', 'KA', 'GJ', 'RJ', 'MP', 'BR'];
    const statuses = ['active', 'active', 'active', 'active', 'leave', 'training'];
    const firstNames = ['Rajesh', 'Priya', 'Amit', 'Sunita', 'Vikram', 'Anjali', 'Suresh', 'Kavita', 'Deepak', 'Neha'];
    const lastNames = ['Kumar', 'Sharma', 'Patel', 'Singh', 'Verma', 'Gupta', 'Yadav', 'Mishra', 'Joshi', 'Reddy'];
    
    for (let i = 1; i <= 46523; i++) {
        const department = departments[Math.floor(Math.random() * departments.length)];
        const state = states[Math.floor(Math.random() * states.length)];
        const status = statuses[Math.floor(Math.random() * statuses.length)];
        const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
        const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
        
        allStaff.push({
            id: `BM${String(i).padStart(6, '0')}`,
            name: `${firstName} ${lastName}`,
            department: department,
            designation: getDesignation(department),
            location: `${state}-${Math.floor(Math.random() * 50) + 1}`,
            phone: `+91 ${Math.floor(Math.random() * 9000000000) + 1000000000}`,
            email: `${firstName.toLowerCase()}.${lastName.toLowerCase()}${i}@bharatmithra.gov.in`,
            joiningDate: randomDate(new Date(2020, 0, 1), new Date()),
            performance: Math.floor(Math.random() * 40) + 60,
            attendance: Math.floor(Math.random() * 20) + 80,
            status: status,
            experience: Math.floor(Math.random() * 10),
            salary: getSalary(department)
        });
    }
    
    filteredStaff = [...allStaff];
}

function getDesignation(department) {
    const designations = {
        'Case Workers': ['Senior Case Worker', 'Case Worker', 'Junior Case Worker'],
        'Telecallers': ['Team Lead', 'Senior Telecaller', 'Telecaller'],
        'Managers': ['Regional Manager', 'District Manager', 'Assistant Manager'],
        'Technical': ['Senior Developer', 'Developer', 'IT Support'],
        'Administrative': ['HR Manager', 'Admin Officer', 'Executive Assistant'],
        'Field Officers': ['Field Supervisor', 'Field Officer', 'Field Assistant']
    };
    
    const deptDesignations = designations[department] || ['Staff'];
    return deptDesignations[Math.floor(Math.random() * deptDesignations.length)];
}

function getSalary(department) {
    const salaryRanges = {
        'Case Workers': [25000, 45000],
        'Telecallers': [20000, 35000],
        'Managers': [50000, 150000],
        'Technical': [40000, 120000],
        'Administrative': [30000, 80000],
        'Field Officers': [22000, 40000]
    };
    
    const range = salaryRanges[department] || [20000, 50000];
    return Math.floor(Math.random() * (range[1] - range[0])) + range[0];
}

function randomDate(start, end) {
    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('staffSection')) {
        generateStaffData();
        renderStaff();
    }
});

// Render staff based on current view
function renderStaff() {
    if (currentStaffView === 'cards') {
        renderStaffCards();
    } else if (currentStaffView === 'table') {
        renderStaffTable();
    }
    renderStaffPagination();
}

// Render staff cards
function renderStaffCards() {
    const container = document.getElementById('staffCardsView');
    if (!container) return;
    
    const startIndex = (currentStaffPage - 1) * staffPerPage;
    const endIndex = startIndex + staffPerPage;
    const staffToShow = filteredStaff.slice(startIndex, endIndex);
    
    container.innerHTML = '';
    
    staffToShow.forEach(staff => {
        const card = document.createElement('div');
        card.className = 'staff-card';
        
        const statusClass = `status-${staff.status}`;
        const performanceColor = staff.performance >= 80 ? 'var(--success)' : 
                                staff.performance >= 60 ? 'var(--warning)' : 'var(--danger)';
        
        card.innerHTML = `
            <div class="staff-header">
                <div class="staff-avatar">${staff.name.split(' ').map(n => n[0]).join('')}</div>
                <div class="staff-info">
                    <div class="staff-name">${staff.name}</div>
                    <div class="staff-designation">${staff.designation}</div>
                    <div class="staff-id">ID: ${staff.id}</div>
                </div>
                <div class="staff-status ${statusClass}">${staff.status.toUpperCase()}</div>
            </div>
            
            <div class="staff-details">
                <div class="staff-detail-item">
                    <span class="detail-label">Department</span>
                    <span class="detail-value">${staff.department}</span>
                </div>
                <div class="staff-detail-item">
                    <span class="detail-label">Location</span>
                    <span class="detail-value">${staff.location}</span>
                </div>
                <div class="staff-detail-item">
                    <span class="detail-label">Experience</span>
                    <span class="detail-value">${staff.experience} years</span>
                </div>
                <div class="staff-detail-item">
                    <span class="detail-label">Attendance</span>
                    <span class="detail-value">${staff.attendance}%</span>
                </div>
            </div>
            
            <div class="staff-performance">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span style="font-size: 0.85rem; color: var(--text-muted);">Performance Score</span>
                    <span style="font-weight: 600; color: ${performanceColor}">${staff.performance}%</span>
                </div>
                <div class="performance-bar">
                    <div class="performance-fill" style="width: ${staff.performance}%; background: ${performanceColor}"></div>
                </div>
            </div>
            
            <div style="display: flex; gap: 0.5rem; margin-top: 1rem;">
                <button class="btn btn-secondary" style="flex: 1;" onclick="viewStaffDetails('${staff.id}')">View Details</button>
                <button class="btn btn-primary" style="flex: 1;" onclick="contactStaff('${staff.id}')">Contact</button>
            </div>
        `;
        
        container.appendChild(card);
    });
}

// Render staff table
function renderStaffTable() {
    const tbody = document.getElementById('staffTableBody');
    if (!tbody) return;
    
    const startIndex = (currentStaffPage - 1) * staffPerPage;
    const endIndex = startIndex + staffPerPage;
    const staffToShow = filteredStaff.slice(startIndex, endIndex);
    
    tbody.innerHTML = '';
    
    staffToShow.forEach(staff => {
        const row = document.createElement('tr');
        const statusBadge = `<span class="badge badge-${staff.status === 'active' ? 'success' : staff.status === 'leave' ? 'warning' : 'info'}">${staff.status}</span>`;
        
        row.innerHTML = `
            <td>${staff.id}</td>
            <td style="font-weight: 600;">${staff.name}</td>
            <td>${staff.department}</td>
            <td>${staff.designation}</td>
            <td>${staff.location}</td>
            <td>${staff.phone}</td>
            <td>${staff.email}</td>
            <td>${staff.joiningDate.toLocaleDateString()}</td>
            <td>
                <div class="performance-meter">
                    <span>${staff.performance}%</span>
                    <div class="performance-bar" style="width: 60px;">
                        <div class="performance-fill" style="width: ${staff.performance}%"></div>
                    </div>
                </div>
            </td>
            <td>${statusBadge}</td>
            <td>
                <button class="btn btn-secondary" onclick="viewStaffDetails('${staff.id}')">View</button>
            </td>
        `;
        
        tbody.appendChild(row);
    });
}

// Change view mode
function changeStaffView(view) {
    currentStaffView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(view + 'ViewTab').classList.add('active');
    
    // Show/hide views
    document.getElementById('staffCardsView').style.display = view === 'cards' ? 'grid' : 'none';
    document.getElementById('staffTableView').style.display = view === 'table' ? 'block' : 'none';
    document.getElementById('orgChartView').style.display = view === 'org' ? 'block' : 'none';
    document.getElementById('attendanceView').style.display = view === 'attendance' ? 'block' : 'none';
    document.getElementById('payrollView').style.display = view === 'payroll' ? 'block' : 'none';
    document.getElementById('performanceView').style.display = view === 'performance' ? 'block' : 'none';
    document.getElementById('staffPagination').style.display = (view === 'cards' || view === 'table') ? 'flex' : 'none';
    
    if (view === 'cards' || view === 'table') {
        renderStaff();
    }
}

// Search staff
function searchStaff() {
    const searchTerm = document.getElementById('staffSearch').value.toLowerCase();
    
    filteredStaff = allStaff.filter(staff => 
        staff.name.toLowerCase().includes(searchTerm) ||
        staff.id.toLowerCase().includes(searchTerm) ||
        staff.email.toLowerCase().includes(searchTerm) ||
        staff.phone.includes(searchTerm)
    );
    
    currentStaffPage = 1;
    renderStaff();
}

// Filter staff
function filterStaff() {
    const department = document.getElementById('departmentFilter').value;
    const status = document.getElementById('statusFilter').value;
    const experience = document.getElementById('experienceFilter').value;
    const performance = document.getElementById('performanceFilter').value;
    
    filteredStaff = allStaff.filter(staff => {
        let matchDept = department === 'all' || staff.department === department;
        let matchStatus = status === 'all' || staff.status === status;
        
        let matchExperience = experience === 'all' ||
            (experience === '0-1' && staff.experience <= 1) ||
            (experience === '1-3' && staff.experience > 1 && staff.experience <= 3) ||
            (experience === '3-5' && staff.experience > 3 && staff.experience <= 5) ||
            (experience === '5+' && staff.experience > 5);
        
        let matchPerformance = performance === 'all' ||
            (performance === 'excellent' && staff.performance >= 90) ||
            (performance === 'good' && staff.performance >= 70 && staff.performance < 90) ||
            (performance === 'average' && staff.performance >= 50 && staff.performance < 70) ||
            (performance === 'poor' && staff.performance < 50);
        
        return matchDept && matchStatus && matchExperience && matchPerformance;
    });
    
    currentStaffPage = 1;
    renderStaff();
}

// Sort staff
function sortStaff() {
    const sortBy = document.getElementById('sortByStaff').value;
    
    filteredStaff.sort((a, b) => {
        switch(sortBy) {
            case 'name': return a.name.localeCompare(b.name);
            case 'id': return a.id.localeCompare(b.id);
            case 'joining': return a.joiningDate - b.joiningDate;
            case 'performance': return b.performance - a.performance;
            case 'attendance': return b.attendance - a.attendance;
            default: return 0;
        }
    });
    
    renderStaff();
}

// Clear filters
function clearStaffFilters() {
    document.getElementById('staffSearch').value = '';
    document.getElementById('departmentFilter').value = 'all';
    document.getElementById('statusFilter').value = 'all';
    document.getElementById('experienceFilter').value = 'all';
    document.getElementById('performanceFilter').value = 'all';
    
    filteredStaff = [...allStaff];
    currentStaffPage = 1;
    renderStaff();
}

// Pagination
function renderStaffPagination() {
    const totalPages = Math.ceil(filteredStaff.length / staffPerPage);
    const pageNumbers = document.getElementById('staffPageNumbers');
    
    if (!pageNumbers) return;
    
    pageNumbers.innerHTML = '';
    
    let startPage = Math.max(1, currentStaffPage - 2);
    let endPage = Math.min(totalPages, startPage + 4);
    
    for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('div');
        pageBtn.className = 'page-number' + (i === currentStaffPage ? ' active' : '');
        pageBtn.textContent = i;
        pageBtn.onclick = () => {
            currentStaffPage = i;
            renderStaff();
        };
        pageNumbers.appendChild(pageBtn);
    }
    
    document.getElementById('showingStaffCount').textContent = 
        `${(currentStaffPage - 1) * staffPerPage + 1}-${Math.min(currentStaffPage * staffPerPage, filteredStaff.length)}`;
    document.getElementById('totalStaffCount').textContent = filteredStaff.length;
    document.getElementById('activeStaffCount').textContent = 
        filteredStaff.filter(s => s.status === 'active').length.toLocaleString();
}

function previousStaffPage() {
    if (currentStaffPage > 1) {
        currentStaffPage--;
        renderStaff();
    }
}

function nextStaffPage() {
    const totalPages = Math.ceil(filteredStaff.length / staffPerPage);
    if (currentStaffPage < totalPages) {
        currentStaffPage++;
        renderStaff();
    }
}

// View staff details
function viewStaffDetails(staffId) {
    const staff = allStaff.find(s => s.id === staffId);
    if (!staff) return;
    
    document.getElementById('staffModalTitle').textContent = `${staff.name} - ${staff.designation}`;
    
    const modalContent = document.getElementById('staffModalContent');
    modalContent.innerHTML = `
        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 2rem;">
            <div>
                <div style="display: flex; flex-direction: column; align-items: center;">
                    <div class="staff-avatar" style="width: 120px; height: 120px; font-size: 3rem;">
                        ${staff.name.split(' ').map(n => n[0]).join('')}
                    </div>
                    <h3 style="margin-top: 1rem;">${staff.name}</h3>
                    <p style="color: var(--text-secondary);">${staff.designation}</p>
                    <span class="badge badge-${staff.status === 'active' ? 'success' : 'warning'}">${staff.status.toUpperCase()}</span>
                </div>
            </div>
            <div>
                <h4 style="margin-bottom: 1rem;">Personal Information</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Employee ID</div>
                        <div style="font-weight: 600;">${staff.id}</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Department</div>
                        <div style="font-weight: 600;">${staff.department}</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Location</div>
                        <div style="font-weight: 600;">${staff.location}</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Joining Date</div>
                        <div style="font-weight: 600;">${staff.joiningDate.toLocaleDateString()}</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Phone</div>
                        <div style="font-weight: 600;">${staff.phone}</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Email</div>
                        <div style="font-weight: 600;">${staff.email}</div>
                    </div>
                </div>
                
                <h4 style="margin-bottom: 1rem;">Performance Metrics</h4>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Performance Score</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">${staff.performance}%</div>
                    </div>
                    <div>
                        <div style="color: var(--text-muted); font-size: 0.85rem;">Attendance</div>
                        <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">${staff.attendance}%</div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('staffDetailModal').classList.add('active');
}

// Other functions
function closeStaffModal() {
    document.getElementById('staffDetailModal').classList.remove('active');
}

function editStaffDetails() {
    alert('Edit staff details functionality...');
}

function contactStaff(staffId) {
    alert(`Contacting staff member ${staffId}...`);
}

function showAddStaffModal() {
    alert('Add new staff member functionality...');
}

function exportStaffData() {
    alert('Exporting staff data...');
}
</script>
<!-- Replace the existing agentsSection with this complete code -->

<section id="agentsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">National Agent Network</h2>
            <p style="color: var(--text-secondary);">Managing 2.85 Lakh agents across 2.62 Lakh Gram Panchayats</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="activeAgentsCount">2,67,450</span> Active Now
            </div>
            <button class="btn btn-secondary" onclick="downloadAgentReport()">üìä Export Report</button>
            <button class="btn btn-primary" onclick="showAgentRegistration()">+ Register Agent</button>
        </div>
    </div>

    <!-- Agent Network Statistics -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">ü§ù</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 4.2%</div>
            </div>
            <div class="stat-value" style="color: white;">2.85 L</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Total Agents</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">2.67 L</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Active</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">18,550</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Inactive</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìç</div>
                <div class="stat-trend up">‚Üë 2.8%</div>
            </div>
            <div class="stat-value">93.5%</div>
            <div class="stat-label">GP Coverage</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2.45 L</div>
                    <div class="stat-detail-label">GPs Covered</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">17,000</div>
                    <div class="stat-detail-label">GPs Vacant</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üí≥</div>
                <div class="stat-trend up">‚Üë 15.3%</div>
            </div>
            <div class="stat-value">‚Çπ85.6 Cr</div>
            <div class="stat-label">Monthly Commission</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ3,005</div>
                    <div class="stat-detail-label">Avg/Agent</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ45,000</div>
                    <div class="stat-detail-label">Top Earner</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìù</div>
                <div class="stat-trend up">‚Üë 11.8%</div>
            </div>
            <div class="stat-value">300</div>
            <div class="stat-label">Avg Applications/Agent</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">12</div>
                    <div class="stat-detail-label">Daily Avg</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">92.3%</div>
                    <div class="stat-detail-label">Success Rate</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">‚ö†Ô∏è</div>
                <div class="stat-trend down">‚Üì 1.2%</div>
            </div>
            <div class="stat-value">42.3K</div>
            <div class="stat-label">Low Credit Agents</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ50</div>
                    <div class="stat-detail-label">Avg Balance</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">8,456</div>
                    <div class="stat-detail-label">Zero Balance</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üéì</div>
            </div>
            <div class="stat-value">87.5%</div>
            <div class="stat-label">Certified Agents</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">35,625</div>
                    <div class="stat-detail-label">In Training</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">12.5%</div>
                    <div class="stat-detail-label">Pending</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Advanced Search and Filters -->
    <div class="agent-filter-container" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 1rem; margin-bottom: 1rem;">
            <div style="position: relative;">
                <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üîç</span>
                <input type="text" class="search-input" placeholder="Search by name, ID, phone, Aadhaar, GP..." id="agentSearch" onkeyup="searchAgents()" style="width: 100%;">
            </div>
            <select class="filter-select" id="agentStateFilter" onchange="filterAgents()">
                <option value="all">All States/UTs</option>
                <optgroup label="High Agent Count">
                    <option value="UP">Uttar Pradesh (62,150)</option>
                    <option value="MH">Maharashtra (29,820)</option>
                    <option value="AP">Andhra Pradesh (14,250)</option>
                    <option value="WB">West Bengal (3,585)</option>
                </optgroup>
                <optgroup label="All States">
                    <option value="all-states">View All States...</option>
                </optgroup>
            </select>
            <select class="filter-select" id="agentStatusFilter" onchange="filterAgents()">
                <option value="all">All Status</option>
                <option value="active">Active</option>
                <option value="inactive">Inactive (>30 days)</option>
                <option value="suspended">Suspended</option>
                <option value="pending">Pending KYC</option>
                <option value="blocked">Blocked</option>
            </select>
            <select class="filter-select" id="agentCategoryFilter" onchange="filterAgents()">
                <option value="all">All Categories</option>
                <option value="platinum">Platinum (Top 1%)</option>
                <option value="gold">Gold (Top 10%)</option>
                <option value="silver">Silver (Top 25%)</option>
                <option value="bronze">Bronze</option>
                <option value="regular">Regular</option>
            </select>
        </div>
        
        <div style="display: grid; grid-template-columns: repeat(6, 1fr); gap: 1rem;">
            <select class="filter-select" id="creditFilter" onchange="filterAgents()">
                <option value="all">All Credit</option>
                <option value="high">High (>‚Çπ1000)</option>
                <option value="medium">Medium (‚Çπ100-1000)</option>
                <option value="low">Low (<‚Çπ100)</option>
                <option value="zero">Zero Balance</option>
            </select>
            <select class="filter-select" id="performanceAgentFilter" onchange="filterAgents()">
                <option value="all">All Performance</option>
                <option value="excellent">Excellent (90%+)</option>
                <option value="good">Good (70-90%)</option>
                <option value="average">Average (50-70%)</option>
                <option value="poor">Poor (<50%)</option>
            </select>
            <select class="filter-select" id="certificationFilter" onchange="filterAgents()">
                <option value="all">All Certification</option>
                <option value="certified">Certified</option>
                <option value="training">In Training</option>
                <option value="pending">Pending</option>
                <option value="expired">Expired</option>
            </select>
            <select class="filter-select" id="activityFilter" onchange="filterAgents()">
                <option value="all">All Activity</option>
                <option value="today">Active Today</option>
                <option value="week">This Week</option>
                <option value="month">This Month</option>
                <option value="inactive">Inactive</option>
            </select>
            <select class="filter-select" id="sortAgents" onchange="sortAgents()">
                <option value="name">Sort by Name</option>
                <option value="performance">Sort by Performance</option>
                <option value="earnings">Sort by Earnings</option>
                <option value="applications">Sort by Applications</option>
                <option value="rating">Sort by Rating</option>
            </select>
            <button class="btn btn-secondary" onclick="clearAgentFilters()">Clear Filters</button>
        </div>
    </div>

    <!-- View Mode Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <button class="view-tab active" onclick="changeAgentView('grid')" id="agentGridTab">
            <span>üë§</span> Agent Cards
        </button>
        <button class="view-tab" onclick="changeAgentView('table')" id="agentTableTab">
            <span>üìã</span> Table View
        </button>
        <button class="view-tab" onclick="changeAgentView('map')" id="agentMapTab">
            <span>üó∫Ô∏è</span> Coverage Map
        </button>
        <button class="view-tab" onclick="changeAgentView('commission')" id="commissionTab">
            <span>üí∞</span> Commission
        </button>
        <button class="view-tab" onclick="changeAgentView('training')" id="trainingTab">
            <span>üéì</span> Training
        </button>
        <button class="view-tab" onclick="changeAgentView('support')" id="supportTab">
            <span>ü§ù</span> Support
        </button>
    </div>

    <!-- Agent Grid View -->
    <div id="agentGridView" class="agent-grid">
        <!-- Agent cards will be populated here -->
    </div>

    <!-- Table View -->
    <div id="agentTableView" style="display: none;">
        <div class="data-table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Agent ID</th>
                        <th>Name</th>
                        <th>GP/Location</th>
                        <th>Phone</th>
                        <th>Category</th>
                        <th>Applications</th>
                        <th>Commission</th>
                        <th>Credit</th>
                        <th>Rating</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="agentTableBody">
                    <!-- Table rows will be populated here -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Coverage Map View -->
    <div id="agentMapView" style="display: none;">
        <div class="chart-container" style="min-height: 600px;">
            <div class="map-header" style="padding: 1rem; background: var(--gray-50); border-bottom: 1px solid var(--gray-200);">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h3>Agent Coverage Map</h3>
                        <p style="color: var(--text-secondary); font-size: 0.9rem;">2.45L GPs covered out of 2.62L total</p>
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 12px; height: 12px; background: var(--success); border-radius: 2px;"></div>
                            <span style="font-size: 0.85rem;">Full Coverage</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 12px; height: 12px; background: var(--warning); border-radius: 2px;"></div>
                            <span style="font-size: 0.85rem;">Partial Coverage</span>
                        </div>
                        <div style="display: flex; align-items: center; gap: 0.5rem;">
                            <div style="width: 12px; height: 12px; background: var(--danger); border-radius: 2px;"></div>
                            <span style="font-size: 0.85rem;">No Coverage</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-placeholder" style="height: 500px;">
                <div>üó∫Ô∏è Interactive Agent Coverage Map</div>
            </div>
        </div>
    </div>

    <!-- Commission View -->
    <div id="commissionView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div class="chart-container">
                <h3 class="chart-title">Commission Overview - October 2024</h3>
                <div style="padding: 1.5rem;">
                    <div style="font-size: 2.5rem; font-weight: 700; color: var(--success);">‚Çπ85.6 Cr</div>
                    <div style="color: var(--text-secondary); margin-bottom: 1.5rem;">Total Commission Distributed</div>
                    <div style="display: grid; gap: 1rem;">
                        <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--gray-50); border-radius: 8px;">
                            <span>Application Commission:</span>
                            <strong>‚Çπ65.2 Cr</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--gray-50); border-radius: 8px;">
                            <span>Service Commission:</span>
                            <strong>‚Çπ15.8 Cr</strong>
                        </div>
                        <div style="display: flex; justify-content: space-between; padding: 0.75rem; background: var(--gray-50); border-radius: 8px;">
                            <span>Bonus & Incentives:</span>
                            <strong>‚Çπ4.6 Cr</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Top Earning Agents</h3>
                <div style="padding: 1rem;">
                    <div class="top-earners-list">
                        <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                            <div style="font-size: 1.5rem;">ü•á</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600;">Ramesh Kumar</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">UP-Lucknow-GP125</div>
                            </div>
                            <div style="font-weight: 700; color: var(--success);">‚Çπ45,250</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                            <div style="font-size: 1.5rem;">ü•à</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600;">Sunita Devi</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">MH-Mumbai-GP089</div>
                            </div>
                            <div style="font-weight: 700; color: var(--success);">‚Çπ42,180</div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 1rem; padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                            <div style="font-size: 1.5rem;">ü•â</div>
                            <div style="flex: 1;">
                                <div style="font-weight: 600;">Prakash Yadav</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">BR-Patna-GP234</div>
                            </div>
                            <div style="font-weight: 700; color: var(--success);">‚Çπ38,950</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Commission Trends</h3>
                <div class="chart-placeholder" style="height: 300px;">
                    <div>üìà Monthly Commission Growth Chart</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Training View -->
    <div id="trainingView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div class="training-card">
                <h4>Certification Status</h4>
                <div style="margin-top: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                        <span>Certified Agents:</span>
                        <strong style="color: var(--success);">2,49,375 (87.5%)</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                        <span>In Training:</span>
                        <strong style="color: var(--warning);">35,625 (12.5%)</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                        <span>Certification Expired:</span>
                        <strong style="color: var(--danger);">8,250</strong>
                    </div>
                </div>
            </div>
            
            <div class="training-card">
                <h4>Training Programs</h4>
                <div style="margin-top: 1rem;">
                    <div class="badge badge-info" style="margin-bottom: 0.5rem;">Basic Agent Training</div>
                    <div>Next Batch: Nov 5, 2024</div>
                    <div>Enrolled: 1,250 agents</div>
                    <br>
                    <div class="badge badge-success" style="margin-bottom: 0.5rem;">Advanced Services Training</div>
                    <div>Ongoing - 450 agents</div>
                </div>
            </div>
            
            <div class="training-card">
                <h4>Training Resources</h4>
                <div style="margin-top: 1rem;">
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">üìö Training Manual</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">üé• Video Tutorials</button>
                    <button class="btn btn-secondary" style="width: 100%; margin-bottom: 0.5rem;">üìù Practice Tests</button>
                    <button class="btn btn-primary" style="width: 100%;">üéì Start New Training</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Support View -->
    <div id="supportView" style="display: none;">
        <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Support Tickets</h3>
                <div style="padding: 1rem;">
                    <div class="badge badge-danger" style="margin-bottom: 1rem;">8,456 Open Tickets</div>
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Technical Issues:</span>
                            <strong>3,245</strong>
                        </div>
                    </div>
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Commission Queries:</span>
                            <strong>2,156</strong>
                        </div>
                    </div>
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Account Issues:</span>
                            <strong>1,865</strong>
                        </div>
                    </div>
                    <div style="margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Training Support:</span>
                            <strong>1,190</strong>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Agent Support Dashboard</h3>
                <div style="padding: 1rem;">
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 1rem; margin-bottom: 1.5rem;">
                        <div style="text-align: center; padding: 1rem; background: var(--gray-50); border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">24/7</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Support Available</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--gray-50); border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">< 2 hrs</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Avg Response Time</div>
                        </div>
                        <div style="text-align: center; padding: 1rem; background: var(--gray-50); border-radius: 8px;">
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">89%</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Resolution Rate</div>
                        </div>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                        <button class="btn btn-primary">üìû Call Support Center</button>
                        <button class="btn btn-secondary">üí¨ Start Live Chat</button>
                        <button class="btn btn-secondary">üìß Email Support</button>
                        <button class="btn btn-secondary">üìñ Knowledge Base</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pagination -->
    <div class="pagination-container" id="agentPagination" style="display: flex; justify-content: center; align-items: center; gap: 0.5rem; margin-top: 2rem;">
        <button class="btn btn-secondary" onclick="previousAgentPage()">Previous</button>
        <div id="agentPageNumbers" style="display: flex; gap: 0.25rem;">
            <!-- Page numbers will be generated here -->
        </div>
        <button class="btn btn-secondary" onclick="nextAgentPage()">Next</button>
        <span style="margin-left: 1rem; color: var(--text-muted);">
            Showing <span id="showingAgentCount">100</span> of <span id="totalAgentCount">285,000</span> agents
        </span>
    </div>
</section>

<!-- Agent Detail Modal -->
<div class="modal" id="agentDetailModal">
    <div class="modal-content" style="max-width: 1400px;">
        <div class="modal-header">
            <h2 class="modal-title" id="agentModalTitle">Agent Details</h2>
            <button class="btn btn-secondary btn-icon" onclick="closeAgentModal()">‚úï</button>
        </div>
        <div class="modal-body">
            <div id="agentModalContent">
                <!-- Content will be populated dynamically -->
            </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-secondary" onclick="closeAgentModal()">Close</button>
            <button class="btn btn-primary" onclick="editAgentProfile()">Edit Profile</button>
            <button class="btn btn-primary" onclick="contactAgent()">Contact Agent</button>
        </div>
    </div>
</div>

<style>
/* Agent Section Specific Styles */
.agent-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
    gap: 1.25rem;
}

.agent-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.25rem;
    transition: all 0.3s ease;
    cursor: pointer;
    position: relative;
}

.agent-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.agent-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
}

.agent-avatar {
    width: 56px;
    height: 56px;
    background: linear-gradient(135deg, var(--success), #059669);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 600;
    font-size: 1.25rem;
}

.agent-info {
    flex: 1;
}

.agent-name {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--text-primary);
}

.agent-id {
    font-size: 0.75rem;
    color: var(--text-muted);
}

.agent-location {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-top: 0.125rem;
}

.agent-category {
    position: absolute;
    top: 1rem;
    right: 1rem;
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.7rem;
    font-weight: 600;
}

.category-platinum {
    background: linear-gradient(135deg, #e5e7eb, #9ca3af);
    color: var(--gray-800);
}

.category-gold {
    background: linear-gradient(135deg, #fef3c7, #fbbf24);
    color: var(--gray-800);
}

.category-silver {
    background: linear-gradient(135deg, #f3f4f6, #d1d5db);
    color: var(--gray-700);
}

.category-bronze {
    background: linear-gradient(135deg, #fed7aa, #f97316);
    color: white;
}

.agent-stats {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
    margin: 1rem 0;
    padding: 1rem 0;
    border-top: 1px solid var(--gray-200);
    border-bottom: 1px solid var(--gray-200);
}

.agent-stat-item {
    text-align: center;
    padding: 0.5rem;
    background: var(--gray-50);
    border-radius: 6px;
}

.agent-stat-value {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
}

.agent-stat-label {
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-top: 0.125rem;
}

.agent-performance {
    margin: 1rem 0;
}

.performance-indicator {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.agent-actions {
    display: flex;
    gap: 0.5rem;
    margin-top: 1rem;
}

.training-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.training-card h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.credit-balance {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: var(--gray-50);
    border-radius: 8px;
    font-size: 0.9rem;
}

.credit-low {
    background: var(--danger-light);
    color: var(--danger);
}

.credit-medium {
    background: var(--warning-light);
    color: var(--warning);
}

.credit-high {
    background: var(--success-light);
    color: var(--success);
}

.rating-stars {
    display: flex;
    gap: 0.125rem;
    color: var(--warning);
    font-size: 0.9rem;
}
</style>

<script>
// Agent data structure
let allAgents = [];
let currentAgentPage = 1;
const agentsPerPage = 100;
let filteredAgents = [];
let currentAgentView = 'grid';

// Generate sample agent data
function generateAgentData() {
    const states = ['UP', 'MH', 'AP', 'WB', 'TN', 'KA', 'GJ', 'RJ', 'MP', 'BR'];
    const firstNames = ['Ramesh', 'Sunita', 'Prakash', 'Kavita', 'Suresh', 'Anita', 'Vijay', 'Priya', 'Ashok', 'Geeta'];
    const lastNames = ['Kumar', 'Devi', 'Yadav', 'Sharma', 'Singh', 'Patel', 'Verma', 'Gupta', 'Mishra', 'Reddy'];
    const categories = ['platinum', 'gold', 'silver', 'bronze', 'regular'];
    const statuses = ['active', 'active', 'active', 'inactive', 'pending'];
    
    for (let i = 1; i <= 285000; i++) {
        const state = states[Math.floor(Math.random() * states.length)];
        const firstName = firstNames[Math.floor(Math.random() * firstNames.length)];
        const lastName = lastNames[Math.floor(Math.random() * lastNames.length)];
        const category = categories[Math.floor(Math.random() * categories.length)];
        const status = statuses[Math.floor(Math.random() * statuses.length)];
        
        allAgents.push({
            id: `AG${String(i).padStart(7, '0')}`,
            name: `${firstName} ${lastName}`,
            state: state,
            district: `District-${Math.floor(Math.random() * 50) + 1}`,
            gp: `GP-${Math.floor(Math.random() * 500) + 1}`,
            phone: `+91 ${Math.floor(Math.random() * 9000000000) + 1000000000}`,
            aadhaar: `XXXX XXXX ${Math.floor(Math.random() * 9000) + 1000}`,
            category: category,
            status: status,
            applications: Math.floor(Math.random() * 1000),
            commission: Math.floor(Math.random() * 45000),
            credit: Math.floor(Math.random() * 2000),
            rating: (Math.random() * 2 + 3).toFixed(1),
            certified: Math.random() > 0.125,
            joinDate: randomDate(new Date(2020, 0, 1), new Date()),
            lastActive: randomDate(new Date(2024, 9, 1), new Date())
        });
    }
    
    filteredAgents = [...allAgents];
}

function randomDate(start, end) {
    return new Date(start.getTime() + Math.random() * (end.getTime() - start.getTime()));
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('agentsSection')) {
        generateAgentData();
        renderAgents();
    }
});

// Render agents based on current view
function renderAgents() {
    if (currentAgentView === 'grid') {
        renderAgentGrid();
    } else if (currentAgentView === 'table') {
        renderAgentTable();
    }
    renderAgentPagination();
}

// Render agent grid
function renderAgentGrid() {
    const container = document.getElementById('agentGridView');
    if (!container) return;
    
    const startIndex = (currentAgentPage - 1) * agentsPerPage;
    const endIndex = startIndex + agentsPerPage;
    const agentsToShow = filteredAgents.slice(startIndex, endIndex);
    
    container.innerHTML = '';
    
    agentsToShow.forEach(agent => {
        const card = document.createElement('div');
        card.className = 'agent-card';
        
        const categoryClass = `category-${agent.category}`;
        const creditClass = agent.credit < 100 ? 'credit-low' : agent.credit < 500 ? 'credit-medium' : 'credit-high';
        const statusColor = agent.status === 'active' ? 'var(--success)' : agent.status === 'inactive' ? 'var(--danger)' : 'var(--warning)';
        
        // Generate rating stars
        const rating = parseFloat(agent.rating);
        let stars = '';
        for (let i = 1; i <= 5; i++) {
            stars += i <= rating ? '‚òÖ' : '‚òÜ';
        }
        
        card.innerHTML = `
            <div class="agent-category ${categoryClass}">${agent.category.toUpperCase()}</div>
            <div class="agent-header">
                <div class="agent-avatar">${agent.name.split(' ').map(n => n[0]).join('')}</div>
                <div class="agent-info">
                    <div class="agent-name">${agent.name}</div>
                    <div class="agent-id">ID: ${agent.id}</div>
                    <div class="agent-location">${agent.gp}, ${agent.district}, ${agent.state}</div>
                </div>
            </div>
            
            <div class="agent-stats">
                <div class="agent-stat-item">
                    <div class="agent-stat-value">${agent.applications}</div>
                    <div class="agent-stat-label">Applications</div>
                </div>
                <div class="agent-stat-item">
                    <div class="agent-stat-value">‚Çπ${agent.commission.toLocaleString()}</div>
                    <div class="agent-stat-label">Commission</div>
                </div>
                <div class="agent-stat-item">
                    <div class="agent-stat-value">${agent.rating}</div>
                    <div class="agent-stat-label">Rating</div>
                </div>
                <div class="agent-stat-item">
                    <div class="agent-stat-value" style="color: ${statusColor}">${agent.status.toUpperCase()}</div>
                    <div class="agent-stat-label">Status</div>
                </div>
            </div>
            
            <div class="credit-balance ${creditClass}">
                <span>Credit Balance:</span>
                <strong>‚Çπ${agent.credit}</strong>
            </div>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 1rem;">
                <div class="rating-stars">${stars} ${agent.rating}</div>
                ${agent.certified ? '<span class="badge badge-success">Certified</span>' : '<span class="badge badge-warning">Training</span>'}
            </div>
            
            <div class="agent-actions">
                <button class="btn btn-secondary" style="flex: 1;" onclick="viewAgentDetails('${agent.id}')">View Details</button>
                <button class="btn btn-primary" style="flex: 1;" onclick="rechargeAgent('${agent.id}')">Recharge</button>
            </div>
        `;
        
        container.appendChild(card);
    });
}

// Render agent table
function renderAgentTable() {
    const tbody = document.getElementById('agentTableBody');
    if (!tbody) return;
    
    const startIndex = (currentAgentPage - 1) * agentsPerPage;
    const endIndex = startIndex + agentsPerPage;
    const agentsToShow = filteredAgents.slice(startIndex, endIndex);
    
    tbody.innerHTML = '';
    
    agentsToShow.forEach(agent => {
        const row = document.createElement('tr');
        const statusBadge = `<span class="badge badge-${agent.status === 'active' ? 'success' : agent.status === 'inactive' ? 'danger' : 'warning'}">${agent.status}</span>`;
        const categoryBadge = `<span class="badge ${agent.category === 'platinum' ? 'badge-info' : agent.category === 'gold' ? 'badge-warning' : 'badge-secondary'}">${agent.category}</span>`;
        
        row.innerHTML = `
            <td>${agent.id}</td>
            <td style="font-weight: 600;">${agent.name}</td>
            <td>${agent.gp}, ${agent.district}, ${agent.state}</td>
            <td>${agent.phone}</td>
            <td>${categoryBadge}</td>
            <td>${agent.applications}</td>
            <td style="font-weight: 600; color: var(--success);">‚Çπ${agent.commission.toLocaleString()}</td>
            <td style="color: ${agent.credit < 100 ? 'var(--danger)' : 'var(--success)'}">‚Çπ${agent.credit}</td>
            <td>‚≠ê ${agent.rating}</td>
            <td>${statusBadge}</td>
            <td>
                <button class="btn btn-secondary" onclick="viewAgentDetails('${agent.id}')">View</button>
            </td>
        `;
        
        tbody.appendChild(row);
    });
}

// Change view mode
function changeAgentView(view) {
    currentAgentView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    
    const tabMap = {
        'grid': 'agentGridTab',
        'table': 'agentTableTab',
        'map': 'agentMapTab',
        'commission': 'commissionTab',
        'training': 'trainingTab',
        'support': 'supportTab'
    };
    
    if (tabMap[view]) {
        document.getElementById(tabMap[view]).classList.add('active');
    }
    
    // Show/hide views
    document.getElementById('agentGridView').style.display = view === 'grid' ? 'grid' : 'none';
    document.getElementById('agentTableView').style.display = view === 'table' ? 'block' : 'none';
    document.getElementById('agentMapView').style.display = view === 'map' ? 'block' : 'none';
    document.getElementById('commissionView').style.display = view === 'commission' ? 'block' : 'none';
    document.getElementById('trainingView').style.display = view === 'training' ? 'block' : 'none';
    document.getElementById('supportView').style.display = view === 'support' ? 'block' : 'none';
    document.getElementById('agentPagination').style.display = (view === 'grid' || view === 'table') ? 'flex' : 'none';
    
    if (view === 'grid' || view === 'table') {
        renderAgents();
    }
}

// Search agents
function searchAgents() {
    const searchTerm = document.getElementById('agentSearch').value.toLowerCase();
    
    filteredAgents = allAgents.filter(agent => 
        agent.name.toLowerCase().includes(searchTerm) ||
        agent.id.toLowerCase().includes(searchTerm) ||
        agent.phone.includes(searchTerm) ||
        agent.gp.toLowerCase().includes(searchTerm)
    );
    
    currentAgentPage = 1;
    renderAgents();
}

// Filter agents
function filterAgents() {
    const state = document.getElementById('agentStateFilter').value;
    const status = document.getElementById('agentStatusFilter').value;
    const category = document.getElementById('agentCategoryFilter').value;
    const credit = document.getElementById('creditFilter').value;
    const performance = document.getElementById('performanceAgentFilter').value;
    const certification = document.getElementById('certificationFilter').value;
    
    filteredAgents = allAgents.filter(agent => {
        let matchState = state === 'all' || agent.state === state;
        let matchStatus = status === 'all' || agent.status === status;
        let matchCategory = category === 'all' || agent.category === category;
        
        let matchCredit = credit === 'all' ||
            (credit === 'high' && agent.credit > 1000) ||
            (credit === 'medium' && agent.credit >= 100 && agent.credit <= 1000) ||
            (credit === 'low' && agent.credit < 100) ||
            (credit === 'zero' && agent.credit === 0);
        
        let matchCertification = certification === 'all' ||
            (certification === 'certified' && agent.certified) ||
            (certification === 'training' && !agent.certified);
        
        return matchState && matchStatus && matchCategory && matchCredit && matchCertification;
    });
    
    currentAgentPage = 1;
    renderAgents();
}

// Sort agents
function sortAgents() {
    const sortBy = document.getElementById('sortAgents').value;
    
    filteredAgents.sort((a, b) => {
        switch(sortBy) {
            case 'name': return a.name.localeCompare(b.name);
            case 'performance': return b.applications - a.applications;
            case 'earnings': return b.commission - a.commission;
            case 'applications': return b.applications - a.applications;
            case 'rating': return b.rating - a.rating;
            default: return 0;
        }
    });
    
    renderAgents();
}

// Clear filters
function clearAgentFilters() {
    document.getElementById('agentSearch').value = '';
    document.getElementById('agentStateFilter').value = 'all';
    document.getElementById('agentStatusFilter').value = 'all';
    document.getElementById('agentCategoryFilter').value = 'all';
    document.getElementById('creditFilter').value = 'all';
    document.getElementById('performanceAgentFilter').value = 'all';
    document.getElementById('certificationFilter').value = 'all';
    
    filteredAgents = [...allAgents];
    currentAgentPage = 1;
    renderAgents();
}

// Pagination
function renderAgentPagination() {
    const totalPages = Math.ceil(filteredAgents.length / agentsPerPage);
    const pageNumbers = document.getElementById('agentPageNumbers');
    
    if (!pageNumbers) return;
    
    pageNumbers.innerHTML = '';
    
    let startPage = Math.max(1, currentAgentPage - 2);
    let endPage = Math.min(totalPages, startPage + 4);
    
    for (let i = startPage; i <= endPage; i++) {
        const pageBtn = document.createElement('div');
        pageBtn.className = 'page-number' + (i === currentAgentPage ? ' active' : '');
        pageBtn.textContent = i;
        pageBtn.onclick = () => {
            currentAgentPage = i;
            renderAgents();
        };
        pageNumbers.appendChild(pageBtn);
    }
    
    const startIndex = (currentAgentPage - 1) * agentsPerPage + 1;
    const endIndex = Math.min(currentAgentPage * agentsPerPage, filteredAgents.length);
    
    document.getElementById('showingAgentCount').textContent = `${startIndex}-${endIndex}`;
    document.getElementById('totalAgentCount').textContent = filteredAgents.length.toLocaleString();
    document.getElementById('activeAgentsCount').textContent = 
        filteredAgents.filter(a => a.status === 'active').length.toLocaleString();
}

function previousAgentPage() {
    if (currentAgentPage > 1) {
        currentAgentPage--;
        renderAgents();
    }
}

function nextAgentPage() {
    const totalPages = Math.ceil(filteredAgents.length / agentsPerPage);
    if (currentAgentPage < totalPages) {
        currentAgentPage++;
        renderAgents();
    }
}

// View agent details
function viewAgentDetails(agentId) {
    const agent = allAgents.find(a => a.id === agentId);
    if (!agent) return;
    
    document.getElementById('agentModalTitle').textContent = `${agent.name} - Agent Profile`;
    
    const modalContent = document.getElementById('agentModalContent');
    modalContent.innerHTML = `
        <div style="display: grid; grid-template-columns: 1fr 3fr; gap: 2rem;">
            <div>
                <div style="text-align: center;">
                    <div class="agent-avatar" style="width: 100px; height: 100px; font-size: 2.5rem; margin: 0 auto;">
                        ${agent.name.split(' ').map(n => n[0]).join('')}
                    </div>
                    <h3 style="margin-top: 1rem;">${agent.name}</h3>
                    <div class="badge badge-${agent.category === 'platinum' ? 'info' : agent.category === 'gold' ? 'warning' : 'secondary'}">${agent.category.toUpperCase()}</div>
                    <div style="margin-top: 0.5rem;">
                        <span class="badge badge-${agent.status === 'active' ? 'success' : 'danger'}">${agent.status.toUpperCase()}</span>
                    </div>
                </div>
            </div>
            <div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem;">
                    <div>
                        <h4 style="margin-bottom: 1rem;">Personal Information</h4>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Agent ID</div>
                            <div style="font-weight: 600;">${agent.id}</div>
                        </div>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Phone</div>
                            <div style="font-weight: 600;">${agent.phone}</div>
                        </div>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Aadhaar</div>
                            <div style="font-weight: 600;">${agent.aadhaar}</div>
                        </div>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Location</div>
                            <div style="font-weight: 600;">${agent.gp}, ${agent.district}, ${agent.state}</div>
                        </div>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 1rem;">Performance Metrics</h4>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Total Applications</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);">${agent.applications}</div>
                        </div>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Total Commission</div>
                            <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">‚Çπ${agent.commission.toLocaleString()}</div>
                        </div>
                        <div style="margin-bottom: 0.75rem;">
                            <div style="color: var(--text-muted); font-size: 0.85rem;">Credit Balance</div>
                            <div style="font-size: 1.25rem; font-weight: 700; color: ${agent.credit < 100 ? 'var(--danger)' : 'var(--success)'}">‚Çπ${agent.credit}</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    `;
    
    document.getElementById('agentDetailModal').classList.add('active');
}

// Other functions
function closeAgentModal() {
    document.getElementById('agentDetailModal').classList.remove('active');
}

function editAgentProfile() {
    alert('Edit agent profile functionality...');
}

function contactAgent() {
    alert('Contact agent functionality...');
}

function rechargeAgent(agentId) {
    alert(`Recharge agent ${agentId}...`);
}

function showAgentRegistration() {
    alert('Agent registration form...');
}

function downloadAgentReport() {
    alert('Downloading agent report...');
}
</script>
     <!-- Replace the existing financeSection with this complete code -->

<section id="financeSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">National Financial Dashboard</h2>
            <p style="color: var(--text-secondary);">Complete financial overview and management for Bharat Mithra operations</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="liveTransactionCount">2,456</span> Live Transactions
            </div>
            <button class="btn btn-secondary" onclick="exportFinancialReport()">üìä Export Report</button>
            <button class="btn btn-primary" onclick="showFinancialSettings()">‚öôÔ∏è Settings</button>
        </div>
    </div>

    <!-- Key Financial Metrics -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üí∞</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 14.2%</div>
            </div>
            <div class="stat-value" style="color: white;">‚Çπ428 Cr</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Monthly Revenue</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">‚Çπ14.3 Cr</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Daily Avg</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">‚Çπ5,142 Cr</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Annual Projection</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìà</div>
                <div class="stat-trend up">‚Üë 8.5%</div>
            </div>
            <div class="stat-value">‚Çπ312.4 Cr</div>
            <div class="stat-label">Application Revenue</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">72.9%</div>
                    <div class="stat-detail-label">Of Total Revenue</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ365</div>
                    <div class="stat-detail-label">Avg per Application</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üí≥</div>
                <div class="stat-trend up">‚Üë 12.3%</div>
            </div>
            <div class="stat-value">‚Çπ87.2 Cr</div>
            <div class="stat-label">Service Charges</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">20.4%</div>
                    <div class="stat-detail-label">Of Total Revenue</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">2.8M</div>
                    <div class="stat-detail-label">Transactions</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üè¶</div>
            </div>
            <div class="stat-value">‚Çπ28.4 Cr</div>
            <div class="stat-label">Platform Fees</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">6.6%</div>
                    <div class="stat-detail-label">Of Total Revenue</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ100</div>
                    <div class="stat-detail-label">Avg Fee</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üí∏</div>
                <div class="stat-trend down">‚Üì 2.1%</div>
            </div>
            <div class="stat-value">‚Çπ248 Cr</div>
            <div class="stat-label">Total Expenses</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ110.2 Cr</div>
                    <div class="stat-detail-label">Agent Commission</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ137.8 Cr</div>
                    <div class="stat-detail-label">Operations</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìä</div>
                <div class="stat-trend up">‚Üë 31.5%</div>
            </div>
            <div class="stat-value">‚Çπ180 Cr</div>
            <div class="stat-label">Net Profit</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">42.1%</div>
                    <div class="stat-detail-label">Profit Margin</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">‚Çπ2,160 Cr</div>
                    <div class="stat-detail-label">Annual Projection</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Financial Controls and Filters -->
    <div class="finance-control-panel" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <div style="display: grid; grid-template-columns: 2fr 1fr 1fr 1fr 1fr; gap: 1rem;">
            <div style="position: relative;">
                <span style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--text-muted);">üìÖ</span>
                <input type="text" class="search-input" placeholder="Select date range..." id="dateRangeFilter" value="October 1-31, 2024" style="width: 100%; padding-left: 2.5rem;">
            </div>
            <select class="filter-select" id="financeStateFilter" onchange="filterFinancialData()">
                <option value="all">All States/UTs</option>
                <option value="UP">Uttar Pradesh</option>
                <option value="MH">Maharashtra</option>
                <option value="AP">Andhra Pradesh</option>
                <option value="WB">West Bengal</option>
            </select>
            <select class="filter-select" id="revenueTypeFilter" onchange="filterFinancialData()">
                <option value="all">All Revenue Types</option>
                <option value="applications">Applications</option>
                <option value="services">Services</option>
                <option value="platform">Platform Fees</option>
                <option value="other">Other</option>
            </select>
            <select class="filter-select" id="transactionFilter" onchange="filterFinancialData()">
                <option value="all">All Transactions</option>
                <option value="success">Successful</option>
                <option value="pending">Pending</option>
                <option value="failed">Failed</option>
                <option value="refunded">Refunded</option>
            </select>
            <button class="btn btn-primary" onclick="applyFinancialFilters()">Apply Filters</button>
        </div>
    </div>

    <!-- View Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
        <button class="view-tab active" onclick="changeFinanceView('overview')" id="overviewTab">
            <span>üìä</span> Overview
        </button>
        <button class="view-tab" onclick="changeFinanceView('revenue')" id="revenueTab">
            <span>üí∞</span> Revenue
        </button>
        <button class="view-tab" onclick="changeFinanceView('expenses')" id="expensesTab">
            <span>üí∏</span> Expenses
        </button>
        <button class="view-tab" onclick="changeFinanceView('transactions')" id="transactionsTab">
            <span>üí≥</span> Transactions
        </button>
        <button class="view-tab" onclick="changeFinanceView('settlements')" id="settlementsTab">
            <span>üè¶</span> Settlements
        </button>
        <button class="view-tab" onclick="changeFinanceView('analytics')" id="analyticsTab">
            <span>üìà</span> Analytics
        </button>
        <button class="view-tab" onclick="changeFinanceView('budget')" id="budgetTab">
            <span>üìã</span> Budget
        </button>
    </div>

    <!-- Overview View -->
    <div id="financeOverviewView">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Revenue vs Expenses Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Revenue vs Expenses Trend (Last 12 Months)</h3>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-secondary">Monthly</button>
                        <button class="btn btn-secondary">Quarterly</button>
                        <button class="btn btn-secondary">Yearly</button>
                    </div>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üìä Revenue and Expense Trend Chart</div>
                </div>
            </div>

            <!-- Quick Stats -->
            <div class="chart-container">
                <h3 class="chart-title">Financial Health Indicators</h3>
                <div style="padding: 1rem;">
                    <div class="health-indicator" style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Cash Flow</span>
                            <strong style="color: var(--success);">Positive</strong>
                        </div>
                        <div class="performance-bar">
                            <div class="performance-fill performance-high" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="health-indicator" style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Collection Rate</span>
                            <strong>94.2%</strong>
                        </div>
                        <div class="performance-bar">
                            <div class="performance-fill performance-high" style="width: 94.2%"></div>
                        </div>
                    </div>
                    <div class="health-indicator" style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Operating Margin</span>
                            <strong>42.1%</strong>
                        </div>
                        <div class="performance-bar">
                            <div class="performance-fill performance-medium" style="width: 42.1%"></div>
                        </div>
                    </div>
                    <div class="health-indicator">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Growth Rate</span>
                            <strong style="color: var(--success);">14.2%</strong>
                        </div>
                        <div class="performance-bar">
                            <div class="performance-fill performance-high" style="width: 71%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- State-wise Revenue Distribution -->
        <div class="chart-container" style="margin-bottom: 2rem;">
            <div class="chart-header">
                <h3 class="chart-title">State-wise Revenue Distribution</h3>
                <button class="btn btn-secondary">View Details</button>
            </div>
            <div class="data-table-container" style="max-height: 400px; overflow-y: auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>State/UT</th>
                            <th>Revenue</th>
                            <th>Expenses</th>
                            <th>Net Profit</th>
                            <th>Margin</th>
                            <th>Growth</th>
                            <th>Contribution</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Uttar Pradesh</strong></td>
                            <td style="color: var(--success);">‚Çπ58.5 Cr</td>
                            <td>‚Çπ32.1 Cr</td>
                            <td style="font-weight: 600;">‚Çπ26.4 Cr</td>
                            <td>45.1%</td>
                            <td><span class="badge badge-success">‚Üë 15.2%</span></td>
                            <td>13.7%</td>
                        </tr>
                        <tr>
                            <td><strong>Maharashtra</strong></td>
                            <td style="color: var(--success);">‚Çπ42.5 Cr</td>
                            <td>‚Çπ24.8 Cr</td>
                            <td style="font-weight: 600;">‚Çπ17.7 Cr</td>
                            <td>41.6%</td>
                            <td><span class="badge badge-success">‚Üë 12.8%</span></td>
                            <td>9.9%</td>
                        </tr>
                        <tr>
                            <td><strong>Andhra Pradesh</strong></td>
                            <td style="color: var(--success);">‚Çπ24.8 Cr</td>
                            <td>‚Çπ14.2 Cr</td>
                            <td style="font-weight: 600;">‚Çπ10.6 Cr</td>
                            <td>42.7%</td>
                            <td><span class="badge badge-success">‚Üë 18.5%</span></td>
                            <td>5.8%</td>
                        </tr>
                        <tr>
                            <td><strong>West Bengal</strong></td>
                            <td style="color: var(--success);">‚Çπ16.5 Cr</td>
                            <td>‚Çπ10.2 Cr</td>
                            <td style="font-weight: 600;">‚Çπ6.3 Cr</td>
                            <td>38.2%</td>
                            <td><span class="badge badge-warning">‚Üë 6.2%</span></td>
                            <td>3.9%</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Revenue View -->
    <div id="revenueView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Revenue Breakdown by Source</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üç© Revenue Pie Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Daily Revenue Trend</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìà Daily Revenue Line Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Top Revenue Generating Services</h3>
                <div style="padding: 1rem;">
                    <div class="service-item" style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Aadhaar Services</span>
                            <strong style="color: var(--success);">‚Çπ85.2 Cr</strong>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 85%"></div>
                        </div>
                    </div>
                    <div class="service-item" style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>PAN Card Services</span>
                            <strong style="color: var(--success);">‚Çπ62.4 Cr</strong>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 62%"></div>
                        </div>
                    </div>
                    <div class="service-item" style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Banking Services</span>
                            <strong style="color: var(--success);">‚Çπ48.5 Cr</strong>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-medium" style="width: 48%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Expenses View -->
    <div id="expensesView" style="display: none;">
        <div class="expense-breakdown" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div class="expense-card">
                <h4>Agent Commissions</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ110.2 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">44.4% of total expenses</div>
            </div>
            <div class="expense-card">
                <h4>Staff Salaries</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ48.6 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">19.6% of total expenses</div>
            </div>
            <div class="expense-card">
                <h4>Infrastructure</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ35.2 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">14.2% of total expenses</div>
            </div>
            <div class="expense-card">
                <h4>Technology & IT</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ28.5 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">11.5% of total expenses</div>
            </div>
            <div class="expense-card">
                <h4>Marketing</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ15.8 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">6.4% of total expenses</div>
            </div>
            <div class="expense-card">
                <h4>Others</h4>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger); margin: 1rem 0;">‚Çπ9.7 Cr</div>
                <div style="font-size: 0.85rem; color: var(--text-secondary);">3.9% of total expenses</div>
            </div>
        </div>
    </div>

    <!-- Transactions View -->
    <div id="transactionsView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 2rem;">
            <div style="padding: 1rem; background: white; border: 1px solid var(--gray-200); border-radius: 8px;">
                <div style="color: var(--text-secondary); font-size: 0.85rem;">Total Transactions</div>
                <div style="font-size: 1.5rem; font-weight: 700;">8.56M</div>
                <div style="color: var(--success); font-size: 0.85rem;">‚Üë 12.3% from last month</div>
            </div>
            <div style="padding: 1rem; background: white; border: 1px solid var(--gray-200); border-radius: 8px;">
                <div style="color: var(--text-secondary); font-size: 0.85rem;">Success Rate</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">94.2%</div>
                <div style="color: var(--text-muted); font-size: 0.85rem;">8.07M successful</div>
            </div>
            <div style="padding: 1rem; background: white; border: 1px solid var(--gray-200); border-radius: 8px;">
                <div style="color: var(--text-secondary); font-size: 0.85rem;">Failed</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--danger);">3.8%</div>
                <div style="color: var(--text-muted); font-size: 0.85rem;">325K failed</div>
            </div>
            <div style="padding: 1rem; background: white; border: 1px solid var(--gray-200); border-radius: 8px;">
                <div style="color: var(--text-secondary); font-size: 0.85rem;">Pending</div>
                <div style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">2.0%</div>
                <div style="color: var(--text-muted); font-size: 0.85rem;">171K pending</div>
            </div>
        </div>
        
        <div class="data-table-container">
            <div class="table-header">
                <h3 class="table-title">Recent Transactions</h3>
                <button class="btn btn-primary">Export</button>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Transaction ID</th>
                        <th>Date/Time</th>
                        <th>Type</th>
                        <th>Amount</th>
                        <th>Agent/User</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>TXN2024103101</td>
                        <td>Oct 31, 2024 14:32</td>
                        <td>Application Fee</td>
                        <td style="font-weight: 600;">‚Çπ450</td>
                        <td>AG0234567</td>
                        <td><span class="badge badge-success">Success</span></td>
                        <td><button class="btn btn-secondary">View</button></td>
                    </tr>
                    <tr>
                        <td>TXN2024103102</td>
                        <td>Oct 31, 2024 14:28</td>
                        <td>Service Charge</td>
                        <td style="font-weight: 600;">‚Çπ150</td>
                        <td>AG0156789</td>
                        <td><span class="badge badge-warning">Pending</span></td>
                        <td><button class="btn btn-secondary">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Settlements View -->
    <div id="settlementsView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Settlement Status</h3>
                <div style="padding: 1.5rem;">
                    <div class="settlement-stat" style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Today's Settlements</span>
                            <strong style="color: var(--success);">‚Çπ14.2 Cr</strong>
                        </div>
                        <div>2,456 transactions settled</div>
                    </div>
                    <div class="settlement-stat" style="margin-bottom: 1.5rem;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Pending Settlements</span>
                            <strong style="color: var(--warning);">‚Çπ3.8 Cr</strong>
                        </div>
                        <div>856 transactions pending</div>
                    </div>
                    <div class="settlement-stat">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span>Next Settlement Run</span>
                            <strong>2:00 PM</strong>
                        </div>
                        <div>In 45 minutes</div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Settlement Partners</h3>
                <div style="padding: 1rem;">
                    <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>HDFC Bank</span>
                            <strong>‚Çπ5.2 Cr</strong>
                        </div>
                    </div>
                    <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>ICICI Bank</span>
                            <strong>‚Çπ4.8 Cr</strong>
                        </div>
                    </div>
                    <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px; margin-bottom: 0.75rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>SBI</span>
                            <strong>‚Çπ3.2 Cr</strong>
                        </div>
                    </div>
                    <div style="padding: 0.75rem; background: var(--gray-50); border-radius: 8px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Others</span>
                            <strong>‚Çπ1.0 Cr</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics View -->
    <div id="analyticsView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Revenue Forecast (Next 6 Months)</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìà Revenue Forecast Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Cost Analysis</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä Cost Breakdown Analysis</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">ROI by Service</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä ROI Comparison Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Payment Method Distribution</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üç© Payment Methods Pie Chart</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Budget View -->
    <div id="budgetView" style="display: none;">
        <div class="budget-overview" style="margin-bottom: 2rem;">
            <h3 style="margin-bottom: 1.5rem;">FY 2024-25 Budget Overview</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
                <div class="budget-card">
                    <div style="color: var(--text-muted); font-size: 0.85rem;">Total Budget</div>
                    <div style="font-size: 1.5rem; font-weight: 700;">‚Çπ5,500 Cr</div>
                </div>
                <div class="budget-card">
                    <div style="color: var(--text-muted); font-size: 0.85rem;">Utilized</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: var(--warning);">‚Çπ2,140 Cr</div>
                    <div style="font-size: 0.85rem;">38.9% of budget</div>
                </div>
                <div class="budget-card">
                    <div style="color: var(--text-muted); font-size: 0.85rem;">Remaining</div>
                    <div style="font-size: 1.5rem; font-weight: 700; color: var(--success);">‚Çπ3,360 Cr</div>
                    <div style="font-size: 0.85rem;">61.1% available</div>
                </div>
                <div class="budget-card">
                    <div style="color: var(--text-muted); font-size: 0.85rem;">Projected</div>
                    <div style="font-size: 1.5rem; font-weight: 700;">‚Çπ5,142 Cr</div>
                    <div style="font-size: 0.85rem;">93.5% of budget</div>
                </div>
            </div>
        </div>
        
        <div class="data-table-container">
            <h3 class="table-title">Department-wise Budget Allocation</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Department</th>
                        <th>Allocated</th>
                        <th>Utilized</th>
                        <th>Remaining</th>
                        <th>% Used</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Agent Network</td>
                        <td>‚Çπ1,500 Cr</td>
                        <td>‚Çπ580 Cr</td>
                        <td>‚Çπ920 Cr</td>
                        <td>38.7%</td>
                        <td><span class="badge badge-success">On Track</span></td>
                    </tr>
                    <tr>
                        <td>Technology</td>
                        <td>‚Çπ800 Cr</td>
                        <td>‚Çπ285 Cr</td>
                        <td>‚Çπ515 Cr</td>
                        <td>35.6%</td>
                        <td><span class="badge badge-success">On Track</span></td>
                    </tr>
                    <tr>
                        <td>Operations</td>
                        <td>‚Çπ1,200 Cr</td>
                        <td>‚Çπ520 Cr</td>
                        <td>‚Çπ680 Cr</td>
                        <td>43.3%</td>
                        <td><span class="badge badge-warning">Monitor</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<style>
/* Finance Section Specific Styles */
.expense-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
}

.expense-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.expense-card h4 {
    font-size: 1rem;
    font-weight: 600;
    color: var(--text-primary);
}

.budget-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
    padding: 1.25rem;
}

.settlement-stat {
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
}

.health-indicator {
    padding: 0.75rem;
    background: var(--gray-50);
    border-radius: 8px;
}
</style>

<script>
// Finance data and functionality
let currentFinanceView = 'overview';
let financialData = {
    revenue: [],
    expenses: [],
    transactions: []
};

// Initialize finance module
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('financeSection')) {
        generateFinancialData();
        updateLiveTransactionCount();
    }
});

// Generate sample financial data
function generateFinancialData() {
    // Generate revenue data
    for (let i = 0; i < 12; i++) {
        financialData.revenue.push({
            month: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][i],
            amount: Math.floor(Math.random() * 100 + 350) // 350-450 Cr range
        });
    }
    
    // Generate expense data
    for (let i = 0; i < 12; i++) {
        financialData.expenses.push({
            month: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'][i],
            amount: Math.floor(Math.random() * 50 + 200) // 200-250 Cr range
        });
    }
    
    // Generate transaction data
    for (let i = 0; i < 1000; i++) {
        financialData.transactions.push({
            id: `TXN202410${String(i).padStart(4, '0')}`,
            date: new Date(2024, 9, Math.floor(Math.random() * 31) + 1),
            type: ['Application Fee', 'Service Charge', 'Platform Fee'][Math.floor(Math.random() * 3)],
            amount: Math.floor(Math.random() * 1000) + 50,
            status: ['success', 'success', 'success', 'pending', 'failed'][Math.floor(Math.random() * 5)]
        });
    }
}

// Change finance view
function changeFinanceView(view) {
    currentFinanceView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    document.getElementById(view + 'Tab').classList.add('active');
    
    // Show/hide views
    document.getElementById('financeOverviewView').style.display = view === 'overview' ? 'block' : 'none';
    document.getElementById('revenueView').style.display = view === 'revenue' ? 'block' : 'none';
    document.getElementById('expensesView').style.display = view === 'expenses' ? 'block' : 'none';
    document.getElementById('transactionsView').style.display = view === 'transactions' ? 'block' : 'none';
    document.getElementById('settlementsView').style.display = view === 'settlements' ? 'block' : 'none';
    document.getElementById('analyticsView').style.display = view === 'analytics' ? 'block' : 'none';
    document.getElementById('budgetView').style.display = view === 'budget' ? 'block' : 'none';
}

// Update live transaction count
function updateLiveTransactionCount() {
    setInterval(() => {
        const count = document.getElementById('liveTransactionCount');
        if (count) {
            const currentCount = parseInt(count.textContent.replace(',', ''));
            const change = Math.floor(Math.random() * 10) - 5; // Random change between -5 and 5
            const newCount = Math.max(0, currentCount + change);
            count.textContent = newCount.toLocaleString();
        }
    }, 3000); // Update every 3 seconds
}

// Filter financial data
function filterFinancialData() {
    // Implement filtering logic
    console.log('Filtering financial data...');
}

// Apply financial filters
function applyFinancialFilters() {
    // Apply selected filters
    console.log('Applying financial filters...');
}

// Export financial report
function exportFinancialReport() {
    alert('Generating and downloading financial report...');
}

// Show financial settings
function showFinancialSettings() {
    alert('Opening financial settings...');
}
</script>
 <!-- Replace the existing operationsSection with this complete code -->

<section id="operationsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">National Operations Center</h2>
            <p style="color: var(--text-secondary);">24/7 monitoring and control of all Bharat Mithra operations</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                System Operational
            </div>
            <div class="badge badge-success" style="padding: 0.5rem 1rem;">All Systems Normal</div>
            <button class="btn btn-secondary" onclick="downloadOpsReport()">üìä Operations Report</button>
            <button class="btn btn-primary" onclick="openControlPanel()">üéõÔ∏è Control Panel</button>
        </div>
    </div>

    <!-- Operations Overview Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">‚ö°</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 0.1%</div>
            </div>
            <div class="stat-value" style="color: white;">99.6%</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">System Uptime</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">36/36</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">States Online</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">742/756</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Districts Active</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üöÄ</div>
                <div class="stat-trend up">‚Üë 2.3%</div>
            </div>
            <div class="stat-value">178ms</div>
            <div class="stat-label">Avg Response Time</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">45ms</div>
                    <div class="stat-detail-label">Best (Delhi)</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">385ms</div>
                    <div class="stat-detail-label">Worst (NE)</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üîÑ</div>
            </div>
            <div class="stat-value">12.5M</div>
            <div class="stat-label">Daily Transactions</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">520K/hr</div>
                    <div class="stat-detail-label">Peak Load</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">8.7K/min</div>
                    <div class="stat-detail-label">Current</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üõ†Ô∏è</div>
                <div class="stat-trend down">‚Üì 5</div>
            </div>
            <div class="stat-value">234</div>
            <div class="stat-label">Open Incidents</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">12</div>
                    <div class="stat-detail-label">Critical</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">45</div>
                    <div class="stat-detail-label">High Priority</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üíæ</div>
            </div>
            <div class="stat-value">2.8 PB</div>
            <div class="stat-label">Data Processed</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">85 TB</div>
                    <div class="stat-detail-label">Daily</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">78%</div>
                    <div class="stat-detail-label">Storage Used</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üîê</div>
            </div>
            <div class="stat-value">0</div>
            <div class="stat-label">Security Incidents</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2,456</div>
                    <div class="stat-detail-label">Threats Blocked</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">100%</div>
                    <div class="stat-detail-label">Compliant</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Operations Control Panel -->
    <div class="ops-control-panel" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <h3 style="margin-bottom: 1rem;">Quick Actions</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <button class="ops-action-btn" onclick="systemHealthCheck()">
                <span style="font-size: 1.5rem;">üè•</span>
                <span>System Health Check</span>
            </button>
            <button class="ops-action-btn" onclick="performanceAnalysis()">
                <span style="font-size: 1.5rem;">üìä</span>
                <span>Performance Analysis</span>
            </button>
            <button class="ops-action-btn" onclick="backupOperations()">
                <span style="font-size: 1.5rem;">üíæ</span>
                <span>Backup Operations</span>
            </button>
            <button class="ops-action-btn" onclick="securityScan()">
                <span style="font-size: 1.5rem;">üîê</span>
                <span>Security Scan</span>
            </button>
            <button class="ops-action-btn" onclick="clearCache()">
                <span style="font-size: 1.5rem;">üßπ</span>
                <span>Clear Cache</span>
            </button>
            <button class="ops-action-btn" onclick="emergencyMode()">
                <span style="font-size: 1.5rem;">üö®</span>
                <span>Emergency Mode</span>
            </button>
        </div>
    </div>

    <!-- View Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
        <button class="view-tab active" onclick="changeOpsView('monitoring')" id="monitoringTab">
            <span>üìä</span> Live Monitoring
        </button>
        <button class="view-tab" onclick="changeOpsView('services')" id="servicesTab">
            <span>‚öôÔ∏è</span> Services
        </button>
        <button class="view-tab" onclick="changeOpsView('infrastructure')" id="infrastructureTab">
            <span>üèóÔ∏è</span> Infrastructure
        </button>
        <button class="view-tab" onclick="changeOpsView('incidents')" id="incidentsTab">
            <span>üö®</span> Incidents
        </button>
        <button class="view-tab" onclick="changeOpsView('performance')" id="performanceTab">
            <span>‚ö°</span> Performance
        </button>
        <button class="view-tab" onclick="changeOpsView('security')" id="securityTab">
            <span>üîê</span> Security
        </button>
        <button class="view-tab" onclick="changeOpsView('logs')" id="logsTab">
            <span>üìù</span> System Logs
        </button>
    </div>

    <!-- Live Monitoring View -->
    <div id="monitoringView">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Real-time Metrics Chart -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Real-time System Metrics</h3>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-secondary">1 Min</button>
                        <button class="btn btn-secondary">5 Min</button>
                        <button class="btn btn-secondary active">15 Min</button>
                        <button class="btn btn-secondary">1 Hour</button>
                    </div>
                </div>
                <div class="chart-placeholder" style="height: 400px; position: relative;">
                    <div style="position: absolute; top: 10px; right: 10px; display: flex; gap: 1rem; font-size: 0.85rem;">
                        <span style="color: var(--primary-color);">‚óè CPU: 45%</span>
                        <span style="color: var(--success);">‚óè Memory: 62%</span>
                        <span style="color: var(--warning);">‚óè Network: 78%</span>
                        <span style="color: var(--danger);">‚óè Disk: 78%</span>
                    </div>
                    <div>üìà Live System Metrics Graph</div>
                </div>
            </div>

            <!-- System Status Panel -->
            <div class="chart-container">
                <h3 class="chart-title">System Status</h3>
                <div style="padding: 1rem;">
                    <div class="status-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Application Servers</span>
                            <span class="badge badge-success">Healthy</span>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 98%"></div>
                        </div>
                    </div>
                    <div class="status-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Database Cluster</span>
                            <span class="badge badge-success">Optimal</span>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 95%"></div>
                        </div>
                    </div>
                    <div class="status-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>Cache Layer</span>
                            <span class="badge badge-warning">High Load</span>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-medium" style="width: 82%"></div>
                        </div>
                    </div>
                    <div class="status-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>CDN</span>
                            <span class="badge badge-success">Normal</span>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 92%"></div>
                        </div>
                    </div>
                    <div class="status-item">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <span>API Gateway</span>
                            <span class="badge badge-success">Active</span>
                        </div>
                        <div class="performance-bar" style="margin-top: 0.5rem;">
                            <div class="performance-fill performance-high" style="width: 96%"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Regional Status Grid -->
        <div class="chart-container">
            <h3 class="chart-title">Regional Operations Status</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; padding: 1rem;">
                <div class="region-status-card">
                    <h4>North Region</h4>
                    <div class="status-indicator online">‚óè Operational</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 9/9 Online</div>
                        <div>Load: 85%</div>
                        <div>Response: 125ms</div>
                    </div>
                </div>
                <div class="region-status-card">
                    <h4>South Region</h4>
                    <div class="status-indicator online">‚óè Operational</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 6/6 Online</div>
                        <div>Load: 72%</div>
                        <div>Response: 98ms</div>
                    </div>
                </div>
                <div class="region-status-card">
                    <h4>East Region</h4>
                    <div class="status-indicator online">‚óè Operational</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 8/8 Online</div>
                        <div>Load: 68%</div>
                        <div>Response: 156ms</div>
                    </div>
                </div>
                <div class="region-status-card">
                    <h4>West Region</h4>
                    <div class="status-indicator online">‚óè Operational</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 5/5 Online</div>
                        <div>Load: 78%</div>
                        <div>Response: 112ms</div>
                    </div>
                </div>
                <div class="region-status-card">
                    <h4>Northeast Region</h4>
                    <div class="status-indicator warning">‚óè Degraded</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 7/8 Online</div>
                        <div>Load: 45%</div>
                        <div>Response: 285ms</div>
                    </div>
                </div>
                <div class="region-status-card">
                    <h4>Central Region</h4>
                    <div class="status-indicator online">‚óè Operational</div>
                    <div style="margin-top: 0.5rem; font-size: 0.85rem;">
                        <div>States: 2/2 Online</div>
                        <div>Load: 62%</div>
                        <div>Response: 145ms</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Services View -->
    <div id="servicesView" style="display: none;">
        <div class="services-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            <div class="service-card">
                <div class="service-header">
                    <h4>Application Processing</h4>
                    <span class="badge badge-success">Running</span>
                </div>
                <div class="service-stats">
                    <div>Requests/min: 8,456</div>
                    <div>Success Rate: 98.5%</div>
                    <div>Avg Processing: 2.3s</div>
                    <div>Queue Length: 234</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-secondary">Restart</button>
                    <button class="btn btn-secondary">Scale</button>
                    <button class="btn btn-secondary">Logs</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <h4>Payment Gateway</h4>
                    <span class="badge badge-success">Active</span>
                </div>
                <div class="service-stats">
                    <div>Transactions/min: 2,345</div>
                    <div>Success Rate: 94.2%</div>
                    <div>Avg Time: 1.8s</div>
                    <div>Failed: 142</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-secondary">Restart</button>
                    <button class="btn btn-secondary">Scale</button>
                    <button class="btn btn-secondary">Logs</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <h4>SMS Gateway</h4>
                    <span class="badge badge-success">Active</span>
                </div>
                <div class="service-stats">
                    <div>Messages/min: 12,456</div>
                    <div>Delivery Rate: 96.8%</div>
                    <div>Pending: 856</div>
                    <div>Failed: 234</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-secondary">Restart</button>
                    <button class="btn btn-secondary">Scale</button>
                    <button class="btn btn-secondary">Logs</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <h4>Document Verification</h4>
                    <span class="badge badge-warning">High Load</span>
                </div>
                <div class="service-stats">
                    <div>Verifications/min: 3,456</div>
                    <div>Success Rate: 89.2%</div>
                    <div>Avg Time: 4.5s</div>
                    <div>Queue: 1,234</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-primary">Scale Up</button>
                    <button class="btn btn-secondary">Optimize</button>
                    <button class="btn btn-secondary">Logs</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <h4>Report Generation</h4>
                    <span class="badge badge-success">Normal</span>
                </div>
                <div class="service-stats">
                    <div>Reports/hour: 456</div>
                    <div>Avg Time: 12.3s</div>
                    <div>Queue: 45</div>
                    <div>Scheduled: 234</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-secondary">Restart</button>
                    <button class="btn btn-secondary">Scale</button>
                    <button class="btn btn-secondary">Logs</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <h4>Backup Service</h4>
                    <span class="badge badge-info">Running</span>
                </div>
                <div class="service-stats">
                    <div>Last Backup: 2 hrs ago</div>
                    <div>Next: In 1 hour</div>
                    <div>Size: 85 TB</div>
                    <div>Duration: 45 min</div>
                </div>
                <div class="service-actions">
                    <button class="btn btn-primary">Run Now</button>
                    <button class="btn btn-secondary">Schedule</button>
                    <button class="btn btn-secondary">History</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Infrastructure View -->
    <div id="infrastructureView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Server Infrastructure</h3>
                <div style="padding: 1rem;">
                    <div class="infra-item">
                        <h5>Production Servers (156)</h5>
                        <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 0.5rem; margin-top: 0.5rem;">
                            <div style="text-align: center; padding: 0.5rem; background: var(--success-light); border-radius: 6px;">
                                <div style="font-weight: 600;">142</div>
                                <div style="font-size: 0.75rem;">Active</div>
                            </div>
                            <div style="text-align: center; padding: 0.5rem; background: var(--warning-light); border-radius: 6px;">
                                <div style="font-weight: 600;">12</div>
                                <div style="font-size: 0.75rem;">Maintenance</div>
                            </div>
                            <div style="text-align: center; padding: 0.5rem; background: var(--danger-light); border-radius: 6px;">
                                <div style="font-weight: 600;">2</div>
                                <div style="font-size: 0.75rem;">Down</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Database Clusters</h3>
                <div style="padding: 1rem;">
                    <div class="infra-item">
                        <h5>Primary Clusters (8)</h5>
                        <div>Master-Slave Replication: Active</div>
                        <div>Sync Lag: < 100ms</div>
                        <div>Storage Used: 2.1 PB / 3 PB</div>
                        <div>IOPS: 125,000</div>
                    </div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Network Infrastructure</h3>
                <div style="padding: 1rem;">
                    <div>Bandwidth Usage: 78 Gbps / 100 Gbps</div>
                    <div>CDN Nodes: 45 Active</div>
                    <div>Load Balancers: 12 Active</div>
                    <div>DDoS Protection: Active</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 class="chart-title">Storage Systems</h3>
                <div style="padding: 1rem;">
                    <div>Total Capacity: 5 PB</div>
                    <div>Used: 3.8 PB (76%)</div>
                    <div>Daily Growth: 85 TB</div>
                    <div>Redundancy: 3x</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Incidents View -->
    <div id="incidentsView" style="display: none;">
        <div class="incident-summary" style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 2rem;">
            <div class="incident-stat-card critical">
                <div style="font-size: 2rem; font-weight: 700;">12</div>
                <div>Critical Incidents</div>
            </div>
            <div class="incident-stat-card high">
                <div style="font-size: 2rem; font-weight: 700;">45</div>
                <div>High Priority</div>
            </div>
            <div class="incident-stat-card medium">
                <div style="font-size: 2rem; font-weight: 700;">87</div>
                <div>Medium Priority</div>
            </div>
            <div class="incident-stat-card low">
                <div style="font-size: 2rem; font-weight: 700;">90</div>
                <div>Low Priority</div>
            </div>
        </div>

        <div class="data-table-container">
            <div class="table-header">
                <h3 class="table-title">Active Incidents</h3>
                <button class="btn btn-primary">Report Incident</button>
            </div>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Priority</th>
                        <th>Type</th>
                        <th>Description</th>
                        <th>Affected Systems</th>
                        <th>Duration</th>
                        <th>Assigned To</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>INC-2024-1045</td>
                        <td><span class="badge badge-danger">Critical</span></td>
                        <td>Database</td>
                        <td>High latency in West region DB</td>
                        <td>Payment Processing</td>
                        <td>2h 15m</td>
                        <td>DB Team</td>
                        <td><span class="badge badge-warning">In Progress</span></td>
                        <td><button class="btn btn-secondary">View</button></td>
                    </tr>
                    <tr>
                        <td>INC-2024-1044</td>
                        <td><span class="badge badge-warning">High</span></td>
                        <td>Network</td>
                        <td>Intermittent connectivity issues</td>
                        <td>NE Region</td>
                        <td>4h 30m</td>
                        <td>Network Team</td>
                        <td><span class="badge badge-info">Investigating</span></td>
                        <td><button class="btn btn-secondary">View</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Performance View -->
    <div id="performanceView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Application Performance</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä Response Time Distribution</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Database Performance</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìà Query Performance Metrics</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">API Performance</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>‚ö° API Response Times</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Error Rates</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>‚ùå Error Rate Trends</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Security View -->
    <div id="securityView" style="display: none;">
        <div class="security-overview" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <div class="security-card">
                <h4>Security Score</h4>
                <div style="font-size: 3rem; font-weight: 700; color: var(--success); text-align: center; margin: 1rem 0;">98/100</div>
                <div style="text-align: center; color: var(--text-secondary);">Excellent Protection</div>
            </div>
            <div class="security-card">
                <h4>Threats Blocked Today</h4>
                <div style="font-size: 2rem; font-weight: 700; text-align: center; margin: 1rem 0;">2,456</div>
                <div style="display: flex; justify-content: space-around; font-size: 0.85rem;">
                    <div>DDoS: 156</div>
                    <div>Malware: 45</div>
                    <div>Intrusion: 2,255</div>
                </div>
            </div>
            <div class="security-card">
                <h4>SSL Certificates</h4>
                <div style="padding: 1rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Valid Certificates:</span>
                        <strong style="color: var(--success);">156</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Expiring Soon:</span>
                        <strong style="color: var(--warning);">8</strong>
                    </div>
                    <div style="display: flex; justify-content: space-between;">
                        <span>Expired:</span>
                        <strong style="color: var(--danger);">0</strong>
                    </div>
                </div>
            </div>
            <div class="security-card">
                <h4>Compliance Status</h4>
                <div style="padding: 1rem;">
                    <div class="badge badge-success" style="margin-bottom: 0.5rem;">ISO 27001 ‚úì</div>
                    <div class="badge badge-success" style="margin-bottom: 0.5rem;">PCI DSS ‚úì</div>
                    <div class="badge badge-success" style="margin-bottom: 0.5rem;">GDPR ‚úì</div>
                    <div class="badge badge-success">SOC 2 ‚úì</div>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="chart-title">Security Events Timeline</h3>
            <div class="chart-placeholder" style="height: 300px;">
                <div>üîê Security Events Over Time</div>
            </div>
        </div>
    </div>

    <!-- System Logs View -->
    <div id="logsView" style="display: none;">
        <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
            <select class="filter-select">
                <option>All Logs</option>
                <option>Error Logs</option>
                <option>Warning Logs</option>
                <option>Info Logs</option>
                <option>Debug Logs</option>
            </select>
            <select class="filter-select">
                <option>All Services</option>
                <option>Application</option>
                <option>Database</option>
                <option>Network</option>
                <option>Security</option>
            </select>
            <input type="text" class="search-input" placeholder="Search logs..." style="flex: 1;">
            <button class="btn btn-primary">Export Logs</button>
        </div>

        <div class="log-container" style="background: #1a1a1a; color: #00ff00; padding: 1rem; border-radius: 8px; font-family: 'Courier New', monospace; font-size: 0.85rem; height: 500px; overflow-y: auto;">
            <div>[2024-10-31 14:32:15] INFO: Application server started successfully</div>
            <div>[2024-10-31 14:32:18] INFO: Database connection established</div>
            <div>[2024-10-31 14:32:20] INFO: Cache layer initialized</div>
            <div>[2024-10-31 14:32:25] WARNING: High memory usage detected (85%)</div>
            <div>[2024-10-31 14:32:30] INFO: Scheduled backup started</div>
            <div>[2024-10-31 14:32:35] ERROR: Failed to connect to payment gateway - retrying...</div>
            <div>[2024-10-31 14:32:40] INFO: Payment gateway connection restored</div>
            <div>[2024-10-31 14:32:45] INFO: Processing batch job #4567</div>
            <div>[2024-10-31 14:32:50] INFO: 1,234 new agent registrations processed</div>
            <div>[2024-10-31 14:32:55] DEBUG: Cache hit ratio: 92.3%</div>
        </div>
    </div>
</section>

<style>
/* Operations Section Specific Styles */
.ops-action-btn {
    padding: 1rem;
    background: white;
    border: 1px solid var(--gray-300);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.2s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
}

.ops-action-btn:hover {
    background: var(--primary-light);
    border-color: var(--primary-color);
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.region-status-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
    padding: 1rem;
    transition: all 0.2s ease;
}

.region-status-card:hover {
    box-shadow: var(--shadow-md);
}

.region-status-card h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.status-indicator.online {
    color: var(--success);
}

.status-indicator.offline {
    color: var(--danger);
}

.status-indicator.warning {
    color: var(--warning);
}

.service-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.25rem;
    transition: all 0.3s ease;
}

.service-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
}

.service-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.service-header h4 {
    font-size: 1rem;
    font-weight: 600;
}

.service-stats {
    background: var(--gray-50);
    padding: 0.75rem;
    border-radius: 6px;
    margin-bottom: 1rem;
    font-size: 0.85rem;
}

.service-stats div {
    margin: 0.25rem 0;
}

.service-actions {
    display: flex;
    gap: 0.5rem;
}

.service-actions button {
    flex: 1;
}

.incident-stat-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
    padding: 1.25rem;
    text-align: center;
    transition: all 0.2s ease;
}

.incident-stat-card.critical {
    border-left: 4px solid var(--danger);
}

.incident-stat-card.high {
    border-left: 4px solid var(--warning);
}

.incident-stat-card.medium {
    border-left: 4px solid var(--info);
}

.incident-stat-card.low {
    border-left: 4px solid var(--gray-400);
}

.incident-stat-card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
}

.security-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.25rem;
}

.security-card h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.infra-item {
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.infra-item h5 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.log-container {
    scrollbar-width: thin;
    scrollbar-color: #00ff00 #1a1a1a;
}

.log-container::-webkit-scrollbar {
    width: 8px;
}

.log-container::-webkit-scrollbar-track {
    background: #1a1a1a;
}

.log-container::-webkit-scrollbar-thumb {
    background: #00ff00;
    border-radius: 4px;
}
</style>

<script>
// Operations data and functionality
let currentOpsView = 'monitoring';
let systemMetrics = {
    cpu: [],
    memory: [],
    network: [],
    disk: []
};

// Initialize operations module
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('operationsSection')) {
        initializeOperations();
        startMetricsMonitoring();
        updateSystemLogs();
    }
});

// Initialize operations
function initializeOperations() {
    // Generate sample metrics data
    for (let i = 0; i < 60; i++) {
        systemMetrics.cpu.push(Math.random() * 30 + 35); // 35-65%
        systemMetrics.memory.push(Math.random() * 20 + 55); // 55-75%
        systemMetrics.network.push(Math.random() * 25 + 65); // 65-90%
        systemMetrics.disk.push(Math.random() * 10 + 75); // 75-85%
    }
}

// Change operations view
function changeOpsView(view) {
    currentOpsView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    
    const tabMap = {
        'monitoring': 'monitoringTab',
        'services': 'servicesTab',
        'infrastructure': 'infrastructureTab',
        'incidents': 'incidentsTab',
        'performance': 'performanceTab',
        'security': 'securityTab',
        'logs': 'logsTab'
    };
    
    if (tabMap[view]) {
        document.getElementById(tabMap[view]).classList.add('active');
    }
    
    // Show/hide views
    document.getElementById('monitoringView').style.display = view === 'monitoring' ? 'block' : 'none';
    document.getElementById('servicesView').style.display = view === 'services' ? 'block' : 'none';
    document.getElementById('infrastructureView').style.display = view === 'infrastructure' ? 'block' : 'none';
    document.getElementById('incidentsView').style.display = view === 'incidents' ? 'block' : 'none';
    document.getElementById('performanceView').style.display = view === 'performance' ? 'block' : 'none';
    document.getElementById('securityView').style.display = view === 'security' ? 'block' : 'none';
    document.getElementById('logsView').style.display = view === 'logs' ? 'block' : 'none';
}

// Start metrics monitoring
function startMetricsMonitoring() {
    setInterval(() => {
        // Update CPU, Memory, Network, Disk metrics
        updateMetric('cpu', Math.random() * 30 + 35);
        updateMetric('memory', Math.random() * 20 + 55);
        updateMetric('network', Math.random() * 25 + 65);
        updateMetric('disk', Math.random() * 10 + 75);
    }, 5000); // Update every 5 seconds
}

// Update metric
function updateMetric(type, value) {
    systemMetrics[type].push(value);
    if (systemMetrics[type].length > 60) {
        systemMetrics[type].shift();
    }
}

// Update system logs
function updateSystemLogs() {
    const logContainer = document.querySelector('.log-container');
    if (!logContainer) return;
    
    const logTypes = ['INFO', 'WARNING', 'ERROR', 'DEBUG'];
    const logMessages = [
        'Database query executed successfully',
        'Cache invalidated for user session',
        'API rate limit reached for IP',
        'Backup process completed',
        'Memory usage threshold exceeded',
        'Connection pool expanded',
        'Scheduled maintenance task started',
        'Security scan completed',
        'Load balancer health check passed',
        'Transaction processed successfully'
    ];
    
    setInterval(() => {
        const timestamp = new Date().toISOString().replace('T', ' ').slice(0, 19);
        const logType = logTypes[Math.floor(Math.random() * logTypes.length)];
        const message = logMessages[Math.floor(Math.random() * logMessages.length)];
        
        const logEntry = document.createElement('div');
        logEntry.textContent = `[${timestamp}] ${logType}: ${message}`;
        
        if (logType === 'ERROR') {
            logEntry.style.color = '#ff6b6b';
        } else if (logType === 'WARNING') {
            logEntry.style.color = '#ffd43b';
        }
        
        logContainer.appendChild(logEntry);
        logContainer.scrollTop = logContainer.scrollHeight;
        
        // Limit log entries to 100
        if (logContainer.children.length > 100) {
            logContainer.removeChild(logContainer.firstChild);
        }
    }, 3000); // Add new log every 3 seconds
}

// Quick action functions
function systemHealthCheck() {
    alert('Running comprehensive system health check...\n\n‚úì Application Servers: Healthy\n‚úì Database: Optimal\n‚úì Cache: Normal\n‚úì Network: Good\n‚úì Security: Protected');
}

function performanceAnalysis() {
    alert('Analyzing system performance...\n\nGenerating performance report...');
}

function backupOperations() {
    if (confirm('Start immediate backup of all systems?\n\nEstimated time: 45 minutes\nEstimated size: 85 TB')) {
        alert('Backup initiated. You will be notified upon completion.');
    }
}

function securityScan() {
    alert('Initiating security scan...\n\n‚Ä¢ Scanning for vulnerabilities\n‚Ä¢ Checking SSL certificates\n‚Ä¢ Verifying access controls\n‚Ä¢ Testing firewall rules');
}

function clearCache() {
    if (confirm('Clear all system caches?\n\nThis may temporarily impact performance.')) {
        alert('Cache cleared successfully.\n\n‚Ä¢ Application cache: Cleared\n‚Ä¢ Database cache: Cleared\n‚Ä¢ CDN cache: Purged');
    }
}

function emergencyMode() {
    if (confirm('‚ö†Ô∏è ACTIVATE EMERGENCY MODE?\n\nThis will:\n‚Ä¢ Limit non-essential services\n‚Ä¢ Increase logging\n‚Ä¢ Alert all administrators\n‚Ä¢ Enable backup systems')) {
        alert('üö® EMERGENCY MODE ACTIVATED\n\nAll administrators have been notified.');
    }
}

// Other functions
function downloadOpsReport() {
    alert('Generating operations report...\n\nIncluding:\n‚Ä¢ System metrics\n‚Ä¢ Incident summary\n‚Ä¢ Performance data\n‚Ä¢ Security status');
}

function openControlPanel() {
    alert('Opening advanced control panel...');
}
</script>

           <!-- Replace the existing servicesSection with this complete code -->

<section id="servicesSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">Service Analytics</h2>
            <p style="color: var(--text-secondary);">Comprehensive analytics for all government services delivered through Bharat Mithra</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="activeServicesCount">156</span> Services Active
            </div>
            <button class="btn btn-secondary" onclick="downloadServiceReport()">üìä Download Report</button>
            <button class="btn btn-primary" onclick="configureServices()">‚öôÔ∏è Configure Services</button>
        </div>
    </div>

    <!-- Service Overview Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #06b6d4 0%, #0891b2 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üìã</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">‚Üë 11.8%</div>
            </div>
            <div class="stat-value" style="color: white;">85.6 L</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Monthly Applications</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">2.85 L</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Daily Average</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">93.7%</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Success Rate</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üèõÔ∏è</div>
                <div class="stat-trend up">‚Üë 5 new</div>
            </div>
            <div class="stat-value">156</div>
            <div class="stat-label">Total Services</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">87</div>
                    <div class="stat-detail-label">Central Govt</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">69</div>
                    <div class="stat-detail-label">State Govt</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">‚è±Ô∏è</div>
                <div class="stat-trend up">‚Üë 18.5%</div>
            </div>
            <div class="stat-value">2.6 days</div>
            <div class="stat-label">Avg Processing Time</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">45 min</div>
                    <div class="stat-detail-label">Fastest</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">15 days</div>
                    <div class="stat-detail-label">Slowest</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">‚≠ê</div>
            </div>
            <div class="stat-value">4.3/5</div>
            <div class="stat-label">User Satisfaction</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2.8M</div>
                    <div class="stat-detail-label">Reviews</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">87%</div>
                    <div class="stat-detail-label">Positive</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üì±</div>
                <div class="stat-trend up">‚Üë 22.3%</div>
            </div>
            <div class="stat-value">42.8%</div>
            <div class="stat-label">Digital Adoption</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">36.6 L</div>
                    <div class="stat-detail-label">Online</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">49 L</div>
                    <div class="stat-detail-label">Offline</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üîÑ</div>
            </div>
            <div class="stat-value">3.2%</div>
            <div class="stat-label">Rejection Rate</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">2.74 L</div>
                    <div class="stat-detail-label">Rejected</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">1.8 L</div>
                    <div class="stat-detail-label">Resubmitted</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Category Filter -->
    <div class="service-filter-bar" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <select class="filter-select" id="serviceCategoryFilter" onchange="filterServices()">
                <option value="all">All Categories</option>
                <option value="identity">Identity Documents</option>
                <option value="certificates">Certificates</option>
                <option value="financial">Financial Services</option>
                <option value="welfare">Welfare Schemes</option>
                <option value="utilities">Utilities</option>
                <option value="registration">Registrations</option>
                <option value="permits">Permits & Licenses</option>
            </select>
            <select class="filter-select" id="departmentFilter" onchange="filterServices()">
                <option value="all">All Departments</option>
                <option value="revenue">Revenue</option>
                <option value="health">Health</option>
                <option value="education">Education</option>
                <option value="agriculture">Agriculture</option>
                <option value="transport">Transport</option>
                <option value="labour">Labour</option>
            </select>
            <select class="filter-select" id="processingFilter" onchange="filterServices()">
                <option value="all">All Processing Times</option>
                <option value="instant">Instant (<1 hour)</option>
                <option value="sameday">Same Day</option>
                <option value="week">Within Week</option>
                <option value="month">Within Month</option>
            </select>
            <select class="filter-select" id="popularityFilter" onchange="filterServices()">
                <option value="all">All Services</option>
                <option value="trending">Trending</option>
                <option value="popular">Most Popular</option>
                <option value="new">Newly Added</option>
                <option value="underused">Underutilized</option>
            </select>
            <button class="btn btn-primary" onclick="applyServiceFilters()">Apply Filters</button>
        </div>
    </div>

    <!-- View Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
        <button class="view-tab active" onclick="changeServiceView('overview')" id="overviewServiceTab">
            <span>üìä</span> Overview
        </button>
        <button class="view-tab" onclick="changeServiceView('catalog')" id="catalogTab">
            <span>üìö</span> Service Catalog
        </button>
        <button class="view-tab" onclick="changeServiceView('performance')" id="performanceServiceTab">
            <span>‚ö°</span> Performance
        </button>
        <button class="view-tab" onclick="changeServiceView('trends')" id="trendsTab">
            <span>üìà</span> Trends
        </button>
        <button class="view-tab" onclick="changeServiceView('feedback')" id="feedbackTab">
            <span>üí¨</span> Feedback
        </button>
        <button class="view-tab" onclick="changeServiceView('comparison')" id="comparisonTab">
            <span>üîç</span> Comparison
        </button>
    </div>

    <!-- Overview View -->
    <div id="serviceOverviewView">
        <!-- Top Services Grid -->
        <div style="margin-bottom: 2rem;">
            <h3 style="margin-bottom: 1.5rem;">Top Performing Services - October 2024</h3>
            <div class="service-cards-grid">
                <div class="service-performance-card">
                    <div class="service-rank">ü•á</div>
                    <h4>Aadhaar Services</h4>
                    <div class="service-metrics">
                        <div class="metric-item">
                            <span class="metric-value">18.5 L</span>
                            <span class="metric-label">Applications</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">‚Çπ85.2 Cr</span>
                            <span class="metric-label">Revenue</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">96.8%</span>
                            <span class="metric-label">Success Rate</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">45 min</span>
                            <span class="metric-label">Avg Time</span>
                        </div>
                    </div>
                    <div class="service-rating">
                        <span style="color: var(--warning);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> 4.6/5 (125K reviews)
                    </div>
                </div>

                <div class="service-performance-card">
                    <div class="service-rank">ü•à</div>
                    <h4>PAN Card Services</h4>
                    <div class="service-metrics">
                        <div class="metric-item">
                            <span class="metric-value">12.3 L</span>
                            <span class="metric-label">Applications</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">‚Çπ62.4 Cr</span>
                            <span class="metric-label">Revenue</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">94.2%</span>
                            <span class="metric-label">Success Rate</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">3 days</span>
                            <span class="metric-label">Avg Time</span>
                        </div>
                    </div>
                    <div class="service-rating">
                        <span style="color: var(--warning);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> 4.3/5 (98K reviews)
                    </div>
                </div>

                <div class="service-performance-card">
                    <div class="service-rank">ü•â</div>
                    <h4>Income Certificate</h4>
                    <div class="service-metrics">
                        <div class="metric-item">
                            <span class="metric-value">8.7 L</span>
                            <span class="metric-label">Applications</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">‚Çπ28.5 Cr</span>
                            <span class="metric-label">Revenue</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">91.5%</span>
                            <span class="metric-label">Success Rate</span>
                        </div>
                        <div class="metric-item">
                            <span class="metric-value">7 days</span>
                            <span class="metric-label">Avg Time</span>
                        </div>
                    </div>
                    <div class="service-rating">
                        <span style="color: var(--warning);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span> 4.1/5 (72K reviews)
                    </div>
                </div>
            </div>
        </div>

        <!-- Service Distribution Charts -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Applications by Category</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üç© Category Distribution Chart</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Processing Time Distribution</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä Processing Time Analysis</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Success Rate by Service</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìà Success Rate Comparison</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Revenue by Department</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üí∞ Department Revenue Chart</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Service Catalog View -->
    <div id="catalogView" style="display: none;">
        <div class="service-catalog-grid">
            <!-- Identity Documents -->
            <div class="service-category-section">
                <h3 style="margin-bottom: 1rem;">Identity Documents</h3>
                <div class="service-list">
                    <div class="service-item">
                        <div class="service-icon">üÜî</div>
                        <div class="service-details">
                            <h4>Aadhaar Card</h4>
                            <p>New enrollment, update, correction</p>
                            <div class="service-stats">
                                <span class="badge badge-success">Most Popular</span>
                                <span>‚Çπ50-250</span>
                                <span>45 min processing</span>
                            </div>
                        </div>
                    </div>
                    <div class="service-item">
                        <div class="service-icon">üí≥</div>
                        <div class="service-details">
                            <h4>PAN Card</h4>
                            <p>New application, correction, reprint</p>
                            <div class="service-stats">
                                <span class="badge badge-info">High Demand</span>
                                <span>‚Çπ107-500</span>
                                <span>3-7 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="service-item">
                        <div class="service-icon">üó≥Ô∏è</div>
                        <div class="service-details">
                            <h4>Voter ID Card</h4>
                            <p>New registration, correction, duplicate</p>
                            <div class="service-stats">
                                <span>‚Çπ30-100</span>
                                <span>15-30 days</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Certificates -->
            <div class="service-category-section">
                <h3 style="margin-bottom: 1rem;">Certificates</h3>
                <div class="service-list">
                    <div class="service-item">
                        <div class="service-icon">üìú</div>
                        <div class="service-details">
                            <h4>Income Certificate</h4>
                            <p>Income proof for various schemes</p>
                            <div class="service-stats">
                                <span class="badge badge-success">Quick Processing</span>
                                <span>‚Çπ30-50</span>
                                <span>7 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="service-item">
                        <div class="service-icon">üè†</div>
                        <div class="service-details">
                            <h4>Domicile Certificate</h4>
                            <p>Residence proof certificate</p>
                            <div class="service-stats">
                                <span>‚Çπ50-100</span>
                                <span>10-15 days</span>
                            </div>
                        </div>
                    </div>
                    <div class="service-item">
                        <div class="service-icon">üë∂</div>
                        <div class="service-details">
                            <h4>Birth Certificate</h4>
                            <p>Birth registration and certificate</p>
                            <div class="service-stats">
                                <span>‚Çπ20-50</span>
                                <span>7 days</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance View -->
    <div id="performanceServiceView" style="display: none;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
            <div class="chart-container">
                <h3 class="chart-title">Service Response Times</h3>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>‚è±Ô∏è Response Time Analysis</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Error Rates by Service</h3>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>‚ùå Error Rate Distribution</div>
                </div>
            </div>
        </div>

        <div class="data-table-container">
            <h3 class="table-title">Service Performance Metrics</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Service Name</th>
                        <th>Applications</th>
                        <th>Success Rate</th>
                        <th>Avg Time</th>
                        <th>SLA Compliance</th>
                        <th>User Rating</th>
                        <th>Revenue</th>
                        <th>Trend</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Aadhaar Services</td>
                        <td>18.5 L</td>
                        <td><span class="badge badge-success">96.8%</span></td>
                        <td>45 min</td>
                        <td>98.5%</td>
                        <td>‚≠ê 4.6/5</td>
                        <td>‚Çπ85.2 Cr</td>
                        <td><span class="badge badge-success">‚Üë 12.3%</span></td>
                    </tr>
                    <tr>
                        <td>PAN Card Services</td>
                        <td>12.3 L</td>
                        <td><span class="badge badge-success">94.2%</span></td>
                        <td>3 days</td>
                        <td>92.8%</td>
                        <td>‚≠ê 4.3/5</td>
                        <td>‚Çπ62.4 Cr</td>
                        <td><span class="badge badge-success">‚Üë 8.5%</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Trends View -->
    <div id="trendsView" style="display: none;">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Monthly Application Trends</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìà 12-Month Trend Analysis</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Seasonal Service Demand</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üóìÔ∏è Seasonal Patterns</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Emerging Services</h3>
                <div style="padding: 1rem;">
                    <div class="trend-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>Digital Life Certificate</span>
                            <span class="badge badge-success">‚Üë 245% growth</span>
                        </div>
                    </div>
                    <div class="trend-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>E-Shram Registration</span>
                            <span class="badge badge-success">‚Üë 186% growth</span>
                        </div>
                    </div>
                    <div class="trend-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>PM Kisan Registration</span>
                            <span class="badge badge-success">‚Üë 156% growth</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Declining Services</h3>
                <div style="padding: 1rem;">
                    <div class="trend-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>Physical Ration Card</span>
                            <span class="badge badge-danger">‚Üì 45% decline</span>
                        </div>
                    </div>
                    <div class="trend-item">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <span>Manual Forms</span>
                            <span class="badge badge-danger">‚Üì 38% decline</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Feedback View -->
    <div id="feedbackView" style="display: none;">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">User Feedback Summary</h3>
                <div style="padding: 1rem;">
                    <div class="feedback-summary">
                        <div style="display: grid; grid-template-columns: repeat(5, 1fr); gap: 1rem; margin-bottom: 2rem;">
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; color: var(--success);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
                                <div style="font-weight: 600;">45%</div>
                                <div style="font-size: 0.85rem; color: var(--text-muted);">Excellent</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; color: var(--success);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
                                <div style="font-weight: 600;">32%</div>
                                <div style="font-size: 0.85rem; color: var(--text-muted);">Good</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; color: var(--warning);">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</div>
                                <div style="font-weight: 600;">15%</div>
                                <div style="font-size: 0.85rem; color: var(--text-muted);">Average</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; color: var(--warning);">‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ</div>
                                <div style="font-weight: 600;">6%</div>
                                <div style="font-size: 0.85rem; color: var(--text-muted);">Poor</div>
                            </div>
                            <div style="text-align: center;">
                                <div style="font-size: 1.5rem; color: var(--danger);">‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ</div>
                                <div style="font-weight: 600;">2%</div>
                                <div style="font-size: 0.85rem; color: var(--text-muted);">Very Poor</div>
                            </div>
                        </div>
                        
                        <h4>Recent Feedback</h4>
                        <div class="feedback-item">
                            <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                <strong>Aadhaar Update Service</strong>
                                <span style="color: var(--warning);">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                            </div>
                            <p style="font-size: 0.9rem; color: var(--text-secondary);">"Very quick and efficient service. Got my Aadhaar updated in just 30 minutes!"</p>
                            <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 0.5rem;">- User from Mumbai, 2 hours ago</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="chart-container">
                <h3 class="chart-title">Common Issues</h3>
                <div style="padding: 1rem;">
                    <div class="issue-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Document Upload Issues</span>
                            <span class="badge badge-danger">1,234</span>
                        </div>
                    </div>
                    <div class="issue-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Payment Failures</span>
                            <span class="badge badge-warning">856</span>
                        </div>
                    </div>
                    <div class="issue-item" style="margin-bottom: 1rem;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Slow Processing</span>
                            <span class="badge badge-warning">645</span>
                        </div>
                    </div>
                    <div class="issue-item">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Incorrect Information</span>
                            <span class="badge badge-info">423</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Comparison View -->
    <div id="comparisonView" style="display: none;">
        <div class="comparison-controls" style="margin-bottom: 2rem;">
            <div style="display: flex; gap: 1rem;">
                <select class="filter-select" style="flex: 1;">
                    <option>Select First Service</option>
                    <option>Aadhaar Services</option>
                    <option>PAN Card Services</option>
                    <option>Income Certificate</option>
                </select>
                <span style="display: flex; align-items: center; font-weight: 600;">VS</span>
                <select class="filter-select" style="flex: 1;">
                    <option>Select Second Service</option>
                    <option>Voter ID Card</option>
                    <option>Driving License</option>
                    <option>Passport Services</option>
                </select>
                <button class="btn btn-primary">Compare</button>
            </div>
        </div>
        
        <div class="comparison-results">
            <div class="chart-container">
                <h3 class="chart-title">Service Comparison Analysis</h3>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üìä Comparative Analysis Chart</div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Service Analytics Specific Styles */
.service-cards-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
    margin-bottom: 2rem;
}

.service-performance-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
    position: relative;
    transition: all 0.3s ease;
}

.service-performance-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: var(--primary-color);
}

.service-rank {
    position: absolute;
    top: 1rem;
    right: 1rem;
    font-size: 1.5rem;
}

.service-performance-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
    color: var(--text-primary);
}

.service-metrics {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin: 1rem 0;
}

.metric-item {
    text-align: center;
    padding: 0.75rem;
    background: var(--gray-50);
    border-radius: 6px;
}

.metric-value {
    display: block;
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--primary-color);
}

.metric-label {
    display: block;
    font-size: 0.7rem;
    color: var(--text-muted);
    text-transform: uppercase;
    margin-top: 0.25rem;
}

.service-rating {
    text-align: center;
    padding-top: 1rem;
    border-top: 1px solid var(--gray-200);
    font-size: 0.9rem;
}

.service-catalog-grid {
    display: grid;
    gap: 2rem;
}

.service-category-section {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.service-list {
    display: grid;
    gap: 1rem;
}

.service-item {
    display: flex;
    gap: 1rem;
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    transition: all 0.2s ease;
    cursor: pointer;
}

.service-item:hover {
    background: white;
    box-shadow: var(--shadow-sm);
}

.service-icon {
    font-size: 2rem;
    width: 60px;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: white;
    border-radius: 8px;
}

.service-details {
    flex: 1;
}

.service-details h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 0.25rem;
}

.service-details p {
    font-size: 0.85rem;
    color: var(--text-secondary);
    margin-bottom: 0.5rem;
}

.service-stats {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
}

.service-stats span {
    font-size: 0.75rem;
    padding: 0.25rem 0.5rem;
    background: white;
    border-radius: 4px;
}

.feedback-item {
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    margin-bottom: 1rem;
}

.issue-item {
    padding: 0.75rem;
    background: var(--gray-50);
    border-radius: 6px;
}

.trend-item {
    padding: 0.75rem;
    background: var(--gray-50);
    border-radius: 6px;
    transition: all 0.2s ease;
}

.trend-item:hover {
    background: white;
    box-shadow: var(--shadow-sm);
}
</style>

<script>
// Service Analytics functionality
let currentServiceView = 'overview';
let serviceData = {
    categories: {
        'identity': 45,
        'certificates': 38,
        'financial': 28,
        'welfare': 22,
        'utilities': 12,
        'registration': 8,
        'permits': 3
    },
    topServices: []
};

// Initialize service analytics
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('servicesSection')) {
        initializeServiceAnalytics();
    }
});

// Initialize service analytics data
function initializeServiceAnalytics() {
    // Generate sample service data
    serviceData.topServices = [
        { name: 'Aadhaar Services', applications: 1850000, revenue: 85.2, successRate: 96.8, avgTime: '45 min', rating: 4.6 },
        { name: 'PAN Card Services', applications: 1230000, revenue: 62.4, successRate: 94.2, avgTime: '3 days', rating: 4.3 },
        { name: 'Income Certificate', applications: 870000, revenue: 28.5, successRate: 91.5, avgTime: '7 days', rating: 4.1 },
        { name: 'Driving License', applications: 650000, revenue: 22.8, successRate: 89.3, avgTime: '15 days', rating: 3.9 },
        { name: 'Passport Services', applications: 450000, revenue: 45.6, successRate: 92.1, avgTime: '30 days', rating: 4.2 }
    ];
}

// Change service view
function changeServiceView(view) {
    currentServiceView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    
    const tabMap = {
        'overview': 'overviewServiceTab',
        'catalog': 'catalogTab',
        'performance': 'performanceServiceTab',
        'trends': 'trendsTab',
        'feedback': 'feedbackTab',
        'comparison': 'comparisonTab'
    };
    
    if (tabMap[view]) {
        document.getElementById(tabMap[view]).classList.add('active');
    }
    
    // Show/hide views
    document.getElementById('serviceOverviewView').style.display = view === 'overview' ? 'block' : 'none';
    document.getElementById('catalogView').style.display = view === 'catalog' ? 'block' : 'none';
    document.getElementById('performanceServiceView').style.display = view === 'performance' ? 'block' : 'none';
    document.getElementById('trendsView').style.display = view === 'trends' ? 'block' : 'none';
    document.getElementById('feedbackView').style.display = view === 'feedback' ? 'block' : 'none';
    document.getElementById('comparisonView').style.display = view === 'comparison' ? 'block' : 'none';
}

// Filter services
function filterServices() {
    const category = document.getElementById('serviceCategoryFilter').value;
    const department = document.getElementById('departmentFilter').value;
    const processing = document.getElementById('processingFilter').value;
    const popularity = document.getElementById('popularityFilter').value;
    
    // Implement filtering logic
    console.log('Filtering services:', { category, department, processing, popularity });
}

// Apply service filters
function applyServiceFilters() {
    filterServices();
    // Update displayed services based on filters
    alert('Filters applied successfully');
}

// Download service report
function downloadServiceReport() {
    alert('Generating service analytics report...\n\n‚Ä¢ Service performance metrics\n‚Ä¢ User satisfaction scores\n‚Ä¢ Revenue analysis\n‚Ä¢ Trend projections');
}

// Configure services
function configureServices() {
    alert('Opening service configuration panel...');
}
</script>
           <!-- Replace the existing analyticsSection with this complete code -->

<section id="analyticsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">Advanced Analytics</h2>
            <p style="color: var(--text-secondary);">AI-powered insights and predictive analytics for data-driven decision making</p>
        </div>
        <div style="display: flex; gap: 0.5rem; align-items: center;">
            <div class="live-indicator">
                <span id="dataPointsProcessed">8.2M</span> Data Points/Hour
            </div>
            <button class="btn btn-secondary" onclick="scheduleAnalytics()">‚è∞ Schedule Reports</button>
            <button class="btn btn-primary" onclick="customAnalytics()">üîß Custom Analytics</button>
        </div>
    </div>

    <!-- Key Analytics Metrics -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);">
            <div class="stat-header">
                <div class="stat-icon" style="background: rgba(255,255,255,0.9);">üß†</div>
                <div class="stat-trend up" style="background: rgba(255,255,255,0.2); color: white;">AI Active</div>
            </div>
            <div class="stat-value" style="color: white;">94.2%</div>
            <div class="stat-label" style="color: rgba(255,255,255,0.9);">Prediction Accuracy</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">156K</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Predictions/Day</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value" style="color: white;">12 Models</div>
                    <div class="stat-detail-label" style="color: rgba(255,255,255,0.7);">Active ML Models</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üìà</div>
            </div>
            <div class="stat-value">+18.5%</div>
            <div class="stat-label">Growth Forecast</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">Q4 2024</div>
                    <div class="stat-detail-label">Period</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">87%</div>
                    <div class="stat-detail-label">Confidence</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üéØ</div>
            </div>
            <div class="stat-value">342</div>
            <div class="stat-label">Active KPIs</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">89%</div>
                    <div class="stat-detail-label">On Target</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">38</div>
                    <div class="stat-detail-label">Need Attention</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">‚ö†Ô∏è</div>
                <div class="stat-trend down">‚Üì 3</div>
            </div>
            <div class="stat-value">27</div>
            <div class="stat-label">Anomalies Detected</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">5</div>
                    <div class="stat-detail-label">Critical</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">22</div>
                    <div class="stat-detail-label">Minor</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üîÑ</div>
            </div>
            <div class="stat-value">156</div>
            <div class="stat-label">Automated Reports</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">42</div>
                    <div class="stat-detail-label">Daily</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">114</div>
                    <div class="stat-detail-label">Scheduled</div>
                </div>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-header">
                <div class="stat-icon">üí°</div>
            </div>
            <div class="stat-value">85</div>
            <div class="stat-label">AI Insights Generated</div>
            <div class="stat-details">
                <div class="stat-detail">
                    <div class="stat-detail-value">62%</div>
                    <div class="stat-detail-label">Actionable</div>
                </div>
                <div class="stat-detail">
                    <div class="stat-detail-value">24</div>
                    <div class="stat-detail-label">High Impact</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Analytics Control Panel -->
    <div class="analytics-control-panel" style="background: white; border: 1px solid var(--gray-200); border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; box-shadow: var(--shadow-sm);">
        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
            <select class="filter-select" id="analyticsTimeRange" onchange="updateAnalytics()">
                <option value="realtime">Real-time</option>
                <option value="today">Today</option>
                <option value="week">This Week</option>
                <option value="month" selected>This Month</option>
                <option value="quarter">This Quarter</option>
                <option value="year">This Year</option>
                <option value="custom">Custom Range</option>
            </select>
            <select class="filter-select" id="analyticsDimension" onchange="updateAnalytics()">
                <option value="all">All Dimensions</option>
                <option value="geographic">Geographic</option>
                <option value="demographic">Demographic</option>
                <option value="temporal">Temporal</option>
                <option value="service">Service-based</option>
                <option value="financial">Financial</option>
            </select>
            <select class="filter-select" id="analyticsModel" onchange="updateAnalytics()">
                <option value="all">All Models</option>
                <option value="predictive">Predictive</option>
                <option value="descriptive">Descriptive</option>
                <option value="diagnostic">Diagnostic</option>
                <option value="prescriptive">Prescriptive</option>
            </select>
            <select class="filter-select" id="analyticsGranularity" onchange="updateAnalytics()">
                <option value="national">National Level</option>
                <option value="state">State Level</option>
                <option value="district">District Level</option>
                <option value="block">Block Level</option>
                <option value="gp">GP Level</option>
            </select>
            <button class="btn btn-primary" onclick="runAnalysis()">üöÄ Run Analysis</button>
        </div>
    </div>

    <!-- View Tabs -->
    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem; flex-wrap: wrap;">
        <button class="view-tab active" onclick="changeAnalyticsView('dashboard')" id="analyticsDashboardTab">
            <span>üìä</span> Dashboard
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('predictive')" id="predictiveTab">
            <span>üîÆ</span> Predictive
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('patterns')" id="patternsTab">
            <span>üîç</span> Patterns
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('insights')" id="insightsTab">
            <span>üí°</span> AI Insights
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('forecasting')" id="forecastingTab">
            <span>üìà</span> Forecasting
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('benchmarking')" id="benchmarkingTab">
            <span>üéØ</span> Benchmarking
        </button>
        <button class="view-tab" onclick="changeAnalyticsView('reports')" id="reportsAnalyticsTab">
            <span>üìã</span> Reports
        </button>
    </div>

    <!-- Analytics Dashboard View -->
    <div id="analyticsDashboardView">
        <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Multi-dimensional Analysis -->
            <div class="chart-container">
                <div class="chart-header">
                    <h3 class="chart-title">Multi-dimensional Performance Analysis</h3>
                    <div style="display: flex; gap: 0.5rem;">
                        <button class="btn btn-secondary">3D View</button>
                        <button class="btn btn-secondary">Heat Map</button>
                        <button class="btn btn-secondary">Bubble Chart</button>
                    </div>
                </div>
                <div class="chart-placeholder" style="height: 400px;">
                    <div>üéØ Multi-dimensional Analytics Visualization</div>
                </div>
            </div>

            <!-- Real-time Metrics -->
            <div class="chart-container">
                <h3 class="chart-title">Real-time Metrics Stream</h3>
                <div class="metrics-stream">
                    <div class="metric-stream-item">
                        <div class="metric-label">Applications/sec</div>
                        <div class="metric-value-large">142</div>
                        <div class="metric-change positive">‚Üë 12.3%</div>
                    </div>
                    <div class="metric-stream-item">
                        <div class="metric-label">Revenue/min</div>
                        <div class="metric-value-large">‚Çπ9,850</div>
                        <div class="metric-change positive">‚Üë 8.5%</div>
                    </div>
                    <div class="metric-stream-item">
                        <div class="metric-label">Agent Activity</div>
                        <div class="metric-value-large">89.2%</div>
                        <div class="metric-change negative">‚Üì 2.1%</div>
                    </div>
                    <div class="metric-stream-item">
                        <div class="metric-label">System Load</div>
                        <div class="metric-value-large">67%</div>
                        <div class="metric-change neutral">‚Üí 0.0%</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Correlation Analysis -->
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 1.5rem;">
            <div class="chart-container">
                <h3 class="chart-title">Correlation Matrix</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üîó Variable Correlation Heatmap</div>
                </div>
            </div>
            <div class="chart-container">
                <h3 class="chart-title">Trend Analysis</h3>
                <div class="chart-placeholder" style="height: 350px;">
                    <div>üìä Multi-metric Trend Lines</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Predictive Analytics View -->
    <div id="predictiveView" style="display: none;">
        <div class="prediction-cards">
            <div class="prediction-card">
                <h4>Application Volume Prediction</h4>
                <div class="prediction-chart">
                    <div class="chart-placeholder" style="height: 250px;">
                        <div>üìà Next 30 Days Forecast</div>
                    </div>
                </div>
                <div class="prediction-stats">
                    <div>Expected: 92.3L applications</div>
                    <div>Confidence: 89%</div>
                    <div>Peak Day: Nov 15, 2024</div>
                </div>
            </div>

            <div class="prediction-card">
                <h4>Revenue Forecast</h4>
                <div class="prediction-chart">
                    <div class="chart-placeholder" style="height: 250px;">
                        <div>üí∞ Revenue Projection</div>
                    </div>
                </div>
                <div class="prediction-stats">
                    <div>Expected: ‚Çπ485 Cr</div>
                    <div>Range: ‚Çπ470-500 Cr</div>
                    <div>Growth: +14.2%</div>
                </div>
            </div>

            <div class="prediction-card">
                <h4>Agent Churn Prediction</h4>
                <div class="prediction-chart">
                    <div class="chart-placeholder" style="height: 250px;">
                        <div>üë• Churn Risk Analysis</div>
                    </div>
                </div>
                <div class="prediction-stats">
                    <div>At Risk: 4,250 agents</div>
                    <div>High Risk: 856 agents</div>
                    <div>Preventable: 72%</div>
                </div>
            </div>

            <div class="prediction-card">
                <h4>Service Demand Forecast</h4>
                <div class="prediction-chart">
                    <div class="chart-placeholder" style="height: 250px;">
                        <div>üìä Service Demand Curves</div>
                    </div>
                </div>
                <div class="prediction-stats">
                    <div>Top Growth: E-services</div>
                    <div>Expected Surge: Nov 10-20</div>
                    <div>Capacity Needed: +25%</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pattern Recognition View -->
    <div id="patternsView" style="display: none;">
        <div style="margin-bottom: 2rem;">
            <h3>Detected Patterns & Anomalies</h3>
            <div class="pattern-alerts">
                <div class="alert-item critical">
                    <div class="alert-header">
                        <span class="alert-icon">üî¥</span>
                        <span class="alert-title">Critical Pattern: Unusual transaction spike in West Bengal</span>
                        <span class="alert-time">2 hours ago</span>
                    </div>
                    <div class="alert-details">
                        <p>Detected 340% increase in application volume from 3 districts. ML confidence: 96%</p>
                        <button class="btn btn-secondary">Investigate</button>
                    </div>
                </div>

                <div class="alert-item warning">
                    <div class="alert-header">
                        <span class="alert-icon">üü°</span>
                        <span class="alert-title">Seasonal Pattern: Expected surge in income certificates</span>
                        <span class="alert-time">Predicted for next week</span>
                    </div>
                    <div class="alert-details">
                        <p>Historical data shows 45% increase during this period. Recommend resource allocation.</p>
                        <button class="btn btn-secondary">View Details</button>
                    </div>
                </div>

                <div class="alert-item info">
                    <div class="alert-header">
                        <span class="alert-icon">üîµ</span>
                        <span class="alert-title">Behavioral Pattern: Agent productivity peaks at 11 AM</span>
                        <span class="alert-time">Weekly pattern</span>
                    </div>
                    <div class="alert-details">
                        <p>Consistent pattern across 85% of agents. Consider scheduling maintenance outside this window.</p>
                        <button class="btn btn-secondary">Learn More</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="chart-title">Pattern Discovery Engine</h3>
            <div class="chart-placeholder" style="height: 400px;">
                <div>üîç Advanced Pattern Recognition Visualization</div>
            </div>
        </div>
    </div>

    <!-- AI Insights View -->
    <div id="insightsView" style="display: none;">
        <div class="insights-grid">
            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">üí°</span>
                    <span class="insight-priority high">High Impact</span>
                </div>
                <h4>Revenue Optimization Opportunity</h4>
                <p>AI analysis suggests adjusting service pricing in 12 high-demand districts could increase revenue by ‚Çπ8.5 Cr monthly without affecting demand.</p>
                <div class="insight-metrics">
                    <span>Confidence: 92%</span>
                    <span>Potential: ‚Çπ102 Cr/year</span>
                </div>
                <div class="insight-actions">
                    <button class="btn btn-primary">Implement</button>
                    <button class="btn btn-secondary">Simulate</button>
                </div>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">‚ö°</span>
                    <span class="insight-priority medium">Medium Impact</span>
                </div>
                <h4>Process Efficiency Improvement</h4>
                <p>Identified bottleneck in document verification process. Automation could reduce processing time by 35% for 6 service types.</p>
                <div class="insight-metrics">
                    <span>Time Saved: 2.5 days avg</span>
                    <span>Affected: 23L applications</span>
                </div>
                <div class="insight-actions">
                    <button class="btn btn-primary">Review</button>
                    <button class="btn btn-secondary">Details</button>
                </div>
            </div>

            <div class="insight-card">
                <div class="insight-header">
                    <span class="insight-icon">üìä</span>
                    <span class="insight-priority low">Informational</span>
                </div>
                <h4>Agent Performance Correlation</h4>
                <p>Agents with >3 years experience show 45% higher success rates. Consider mentorship programs for new agents.</p>
                <div class="insight-metrics">
                    <span>Sample Size: 45,000 agents</span>
                    <span>R¬≤: 0.78</span>
                </div>
                <div class="insight-actions">
                    <button class="btn btn-secondary">Explore</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Forecasting View -->
    <div id="forecastingView" style="display: none;">
        <div class="forecasting-controls" style="margin-bottom: 2rem;">
            <div style="display: flex; gap: 1rem; align-items: center;">
                <select class="filter-select">
                    <option>Select Metric to Forecast</option>
                    <option>Revenue</option>
                    <option>Application Volume</option>
                    <option>Agent Growth</option>
                    <option>Service Demand</option>
                </select>
                <select class="filter-select">
                    <option>Forecast Period</option>
                    <option>Next 7 Days</option>
                    <option>Next 30 Days</option>
                    <option>Next Quarter</option>
                    <option>Next Year</option>
                </select>
                <select class="filter-select">
                    <option>Model Type</option>
                    <option>ARIMA</option>
                    <option>Prophet</option>
                    <option>LSTM Neural Network</option>
                    <option>Ensemble</option>
                </select>
                <button class="btn btn-primary">Generate Forecast</button>
            </div>
        </div>

        <div class="chart-container">
            <h3 class="chart-title">Interactive Forecast Visualization</h3>
            <div class="chart-placeholder" style="height: 500px;">
                <div>üìà Time Series Forecast with Confidence Intervals</div>
            </div>
        </div>
    </div>

    <!-- Benchmarking View -->
    <div id="benchmarkingView" style="display: none;">
        <div class="benchmarking-grid">
            <div class="benchmark-card">
                <h4>State Performance Ranking</h4>
                <div class="benchmark-list">
                    <div class="benchmark-item">
                        <span class="rank">1</span>
                        <span class="name">Maharashtra</span>
                        <span class="score">94.2</span>
                        <span class="trend positive">‚Üë2</span>
                    </div>
                    <div class="benchmark-item">
                        <span class="rank">2</span>
                        <span class="name">Uttar Pradesh</span>
                        <span class="score">92.8</span>
                        <span class="trend negative">‚Üì1</span>
                    </div>
                    <div class="benchmark-item">
                        <span class="rank">3</span>
                        <span class="name">Karnataka</span>
                        <span class="score">91.5</span>
                        <span class="trend positive">‚Üë1</span>
                    </div>
                </div>
            </div>

            <div class="benchmark-card">
                <h4>Service Efficiency Comparison</h4>
                <div class="chart-placeholder" style="height: 300px;">
                    <div>üìä Comparative Service Metrics</div>
                </div>
            </div>

            <div class="benchmark-card">
                <h4>KPI Achievement Status</h4>
                <div class="kpi-grid">
                    <div class="kpi-item">
                        <span class="kpi-name">Revenue Target</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 87%;"></div>
                        </div>
                        <span class="kpi-value">87%</span>
                    </div>
                    <div class="kpi-item">
                        <span class="kpi-name">Service SLA</span>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 94%;"></div>
                        </div>
                        <span class="kpi-value">94%</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Reports View -->
    <div id="reportsAnalyticsView" style="display: none;">
        <div class="reports-grid">
            <div class="report-card">
                <div class="report-icon">üìä</div>
                <h4>Executive Dashboard</h4>
                <p>High-level overview for senior management</p>
                <div class="report-actions">
                    <button class="btn btn-secondary">View</button>
                    <button class="btn btn-primary">Download</button>
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon">üìà</div>
                <h4>Performance Analytics</h4>
                <p>Detailed performance metrics and trends</p>
                <div class="report-actions">
                    <button class="btn btn-secondary">View</button>
                    <button class="btn btn-primary">Download</button>
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon">üîÆ</div>
                <h4>Predictive Insights</h4>
                <p>AI-generated predictions and forecasts</p>
                <div class="report-actions">
                    <button class="btn btn-secondary">View</button>
                    <button class="btn btn-primary">Download</button>
                </div>
            </div>

            <div class="report-card">
                <div class="report-icon">üìã</div>
                <h4>Custom Report Builder</h4>
                <p>Create your own analytics reports</p>
                <div class="report-actions">
                    <button class="btn btn-primary">Create New</button>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Advanced Analytics Specific Styles */
.metrics-stream {
    padding: 1rem;
}

.metric-stream-item {
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    margin-bottom: 1rem;
    text-align: center;
}

.metric-value-large {
    font-size: 2rem;
    font-weight: 700;
    color: var(--primary-color);
    margin: 0.5rem 0;
}

.metric-change {
    font-size: 0.85rem;
    font-weight: 600;
}

.metric-change.positive { color: var(--success); }
.metric-change.negative { color: var(--danger); }
.metric-change.neutral { color: var(--text-muted); }

.prediction-cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 1.5rem;
}

.prediction-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.prediction-card h4 {
    font-size: 1rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

.prediction-stats {
    margin-top: 1rem;
    padding: 1rem;
    background: var(--gray-50);
    border-radius: 8px;
    font-size: 0.9rem;
}

.prediction-stats div {
    margin: 0.5rem 0;
}

.pattern-alerts {
    display: grid;
    gap: 1rem;
    margin-bottom: 2rem;
}

.alert-item {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 8px;
    padding: 1rem;
}

.alert-item.critical {
    border-left: 4px solid var(--danger);
}

.alert-item.warning {
    border-left: 4px solid var(--warning);
}

.alert-item.info {
    border-left: 4px solid var(--info);
}

.alert-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 0.75rem;
}

.alert-icon {
    font-size: 1.25rem;
}

.alert-title {
    flex: 1;
    font-weight: 600;
}

.alert-time {
    font-size: 0.85rem;
    color: var(--text-muted);
}

.alert-details {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.insights-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 1.5rem;
}

.insight-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.insight-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem;
}

.insight-icon {
    font-size: 1.5rem;
}

.insight-priority {
    padding: 0.25rem 0.75rem;
    border-radius: 12px;
    font-size: 0.75rem;
    font-weight: 600;
}

.insight-priority.high {
    background: var(--danger-light);
    color: var(--danger);
}

.insight-priority.medium {
    background: var(--warning-light);
    color: var(--warning);
}

.insight-priority.low {
    background: var(--info);
    color: white;
}

.insight-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
}

.insight-card p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
    font-size: 0.9rem;
}

.insight-metrics {
    display: flex;
    gap: 1rem;
    margin-bottom: 1rem;
    font-size: 0.85rem;
    color: var(--text-muted);
}

.insight-actions {
    display: flex;
    gap: 0.5rem;
}

.benchmarking-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 1.5rem;
}

.benchmark-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
}

.benchmark-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 1rem;
}

.benchmark-list {
    display: grid;
    gap: 0.75rem;
}

.benchmark-item {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: var(--gray-50);
    border-radius: 8px;
}

.benchmark-item .rank {
    width: 30px;
    height: 30px;
    background: var(--primary-color);
    color: white;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 600;
}

.benchmark-item .name {
    flex: 1;
}

.benchmark-item .score {
    font-weight: 600;
    font-size: 1.1rem;
}

.benchmark-item .trend {
    font-size: 0.85rem;
    font-weight: 600;
}

.kpi-grid {
    display: grid;
    gap: 1rem;
}

.kpi-item {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.kpi-name {
    width: 120px;
    font-size: 0.85rem;
}

.progress-bar {
    flex: 1;
    height: 8px;
    background: var(--gray-200);
    border-radius: 4px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: var(--success);
    transition: width 0.3s ease;
}

.reports-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
}

.report-card {
    background: white;
    border: 1px solid var(--gray-200);
    border-radius: 12px;
    padding: 1.5rem;
    text-align: center;
    transition: all 0.3s ease;
}

.report-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
}

.report-icon {
    font-size: 3rem;
    margin-bottom: 1rem;
}

.report-card h4 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.report-card p {
    color: var(--text-secondary);
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.report-actions {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
}
</style>

<script>
// Advanced Analytics functionality
let currentAnalyticsView = 'dashboard';
let analyticsData = {
    predictions: [],
    patterns: [],
    insights: [],
    forecasts: []
};

// Initialize advanced analytics
document.addEventListener('DOMContentLoaded', function() {
    if (document.getElementById('analyticsSection')) {
        initializeAdvancedAnalytics();
        startRealTimeAnalytics();
    }
});

// Initialize analytics data
function initializeAdvancedAnalytics() {
    // Generate sample predictions
    for (let i = 0; i < 30; i++) {
        analyticsData.predictions.push({
            date: new Date(Date.now() + i * 24 * 60 * 60 * 1000),
            applications: Math.floor(Math.random() * 100000 + 250000),
            revenue: Math.random() * 20 + 10,
            confidence: Math.random() * 20 + 80
        });
    }
    
    // Generate sample patterns
    analyticsData.patterns = [
        { type: 'seasonal', description: 'High volume every Monday', confidence: 95 },
        { type: 'anomaly', description: 'Unusual spike in Region 3', confidence: 87 },
        { type: 'trend', description: 'Gradual increase in digital adoption', confidence: 92 }
    ];
    
    // Generate sample insights
    analyticsData.insights = [
        { priority: 'high', category: 'revenue', impact: 8500000, confidence: 92 },
        { priority: 'medium', category: 'efficiency', impact: 35, confidence: 88 },
        { priority: 'low', category: 'performance', impact: 45, confidence: 78 }
    ];
}

// Change analytics view
function changeAnalyticsView(view) {
    currentAnalyticsView = view;
    
    // Update tab active state
    document.querySelectorAll('.view-tab').forEach(tab => tab.classList.remove('active'));
    
    const tabMap = {
        'dashboard': 'analyticsDashboardTab',
        'predictive': 'predictiveTab',
        'patterns': 'patternsTab',
        'insights': 'insightsTab',
        'forecasting': 'forecastingTab',
        'benchmarking': 'benchmarkingTab',
        'reports': 'reportsAnalyticsTab'
    };
    
    if (tabMap[view]) {
        document.getElementById(tabMap[view]).classList.add('active');
    }
    
    // Show/hide views
    document.getElementById('analyticsDashboardView').style.display = view === 'dashboard' ? 'block' : 'none';
    document.getElementById('predictiveView').style.display = view === 'predictive' ? 'block' : 'none';
    document.getElementById('patternsView').style.display = view === 'patterns' ? 'block' : 'none';
    document.getElementById('insightsView').style.display = view === 'insights' ? 'block' : 'none';
    document.getElementById('forecastingView').style.display = view === 'forecasting' ? 'block' : 'none';
    document.getElementById('benchmarkingView').style.display = view === 'benchmarking' ? 'block' : 'none';
    document.getElementById('reportsAnalyticsView').style.display = view === 'reports' ? 'block' : 'none';
}

// Start real-time analytics
function startRealTimeAnalytics() {
    setInterval(() => {
        // Update real-time metrics
        updateRealTimeMetrics();
        
        // Update data points processed
        const dataPoints = document.getElementById('dataPointsProcessed');
        if (dataPoints) {
            const current = parseFloat(dataPoints.textContent);
            const change = (Math.random() * 0.2 - 0.1) + current;
            dataPoints.textContent = change.toFixed(1) + 'M';
        }
    }, 3000);
}

// Update real-time metrics
function updateRealTimeMetrics() {
    const metrics = document.querySelectorAll('.metric-stream-item');
    metrics.forEach(metric => {
        const valueElement = metric.querySelector('.metric-value-large');
        const changeElement = metric.querySelector('.metric-change');
        
        if (valueElement && changeElement) {
            // Simulate value changes
            const currentValue = parseFloat(valueElement.textContent.replace(/[^0-9.-]/g, ''));
            const change = (Math.random() * 10 - 5);
            const newValue = currentValue + change;
            
            // Update change indicator
            if (change > 0) {
                changeElement.textContent = `‚Üë ${Math.abs(change).toFixed(1)}%`;
                changeElement.className = 'metric-change positive';
            } else if (change < 0) {
                changeElement.textContent = `‚Üì ${Math.abs(change).toFixed(1)}%`;
                changeElement.className = 'metric-change negative';
            } else {
                changeElement.textContent = `‚Üí 0.0%`;
                changeElement.className = 'metric-change neutral';
            }
        }
    });
}

// Update analytics based on filters
function updateAnalytics() {
    const timeRange = document.getElementById('analyticsTimeRange').value;
    const dimension = document.getElementById('analyticsDimension').value;
    const model = document.getElementById('analyticsModel').value;
    const granularity = document.getElementById('analyticsGranularity').value;
    
    console.log('Updating analytics:', { timeRange, dimension, model, granularity });
    // Implement analytics update logic
}

// Run analysis
function runAnalysis() {
    alert('Running advanced analysis...\n\n‚Ä¢ Collecting data points\n‚Ä¢ Applying ML models\n‚Ä¢ Generating insights\n‚Ä¢ Preparing visualizations\n\nEstimated time: 45 seconds');
}

// Schedule analytics
function scheduleAnalytics() {
    alert('Schedule Analytics Reports\n\n‚Ä¢ Daily Executive Summary\n‚Ä¢ Weekly Performance Report\n‚Ä¢ Monthly Trend Analysis\n‚Ä¢ Quarterly Forecast\n\nConfigure schedule and recipients...');
}

// Custom analytics
function customAnalytics() {
    alert('Custom Analytics Builder\n\n‚Ä¢ Select metrics\n‚Ä¢ Choose dimensions\n‚Ä¢ Apply filters\n‚Ä¢ Select visualization type\n‚Ä¢ Configure ML models');
}
</script>
<!-- Replace the existing reportsSection with this complete code -->

<section id="reportsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">Reports & Documentation</h2>
            <p style="color: var(--text-secondary);">Comprehensive Political Analysis Reports & Documentation Center</p>
        </div>
        <div style="display: flex; gap: 0.5rem;">
            <button class="btn btn-secondary" onclick="filterReports('all')">All Reports</button>
            <button class="btn btn-primary" onclick="generateNewReport()">Generate Report</button>
            <button class="btn btn-success" onclick="scheduleReport()">Schedule Report</button>
        </div>
    </div>

    <!-- Report Statistics Cards -->
    <div class="dashboard-grid" style="margin-bottom: 2rem;">
        <div class="stat-card" style="background: linear-gradient(135deg, #667eea, #764ba2);">
            <div class="stat-value">2,847</div>
            <div class="stat-label">Total Reports Generated</div>
            <div class="stat-change positive">+124 this month</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #f093fb, #f5576c);">
            <div class="stat-value">156</div>
            <div class="stat-label">Active Scheduled Reports</div>
            <div class="stat-change">Daily: 45 | Weekly: 78 | Monthly: 33</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #4facfe, #00f2fe);">
            <div class="stat-value">38</div>
            <div class="stat-label">Report Templates</div>
            <div class="stat-change positive">5 new templates added</div>
        </div>
        <div class="stat-card" style="background: linear-gradient(135deg, #43e97b, #38f9d7);">
            <div class="stat-value">89%</div>
            <div class="stat-label">Auto-Generation Success</div>
            <div class="stat-change positive">+3% improvement</div>
        </div>
    </div>

    <!-- Report Categories Tabs -->
    <div class="report-tabs" style="display: flex; gap: 1rem; margin-bottom: 2rem; padding-bottom: 1rem; border-bottom: 1px solid var(--border); overflow-x: auto;">
        <button class="tab-btn active" onclick="switchReportCategory('electoral')">Electoral Analysis</button>
        <button class="tab-btn" onclick="switchReportCategory('demographic')">Demographic Reports</button>
        <button class="tab-btn" onclick="switchReportCategory('constituency')">Constituency Reports</button>
        <button class="tab-btn" onclick="switchReportCategory('performance')">Performance Analytics</button>
        <button class="tab-btn" onclick="switchReportCategory('surveys')">Survey Results</button>
        <button class="tab-btn" onclick="switchReportCategory('financial')">Financial Reports</button>
        <button class="tab-btn" onclick="switchReportCategory('media')">Media Analysis</button>
        <button class="tab-btn" onclick="switchReportCategory('social')">Social Media Reports</button>
    </div>

    <!-- Quick Report Generation -->
    <div class="quick-reports-section" style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
        <h3 style="margin-bottom: 1rem;">Quick Report Generation</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem;">
            <button class="quick-report-btn" onclick="generateQuickReport('state-overview')">
                <span style="font-size: 1.5em;">üìä</span>
                <span>State Overview Report</span>
            </button>
            <button class="quick-report-btn" onclick="generateQuickReport('election-results')">
                <span style="font-size: 1.5em;">üó≥Ô∏è</span>
                <span>Election Results Analysis</span>
            </button>
            <button class="quick-report-btn" onclick="generateQuickReport('voter-turnout')">
                <span style="font-size: 1.5em;">üë•</span>
                <span>Voter Turnout Report</span>
            </button>
            <button class="quick-report-btn" onclick="generateQuickReport('party-performance')">
                <span style="font-size: 1.5em;">üèõÔ∏è</span>
                <span>Party Performance</span>
            </button>
            <button class="quick-report-btn" onclick="generateQuickReport('demographic-analysis')">
                <span style="font-size: 1.5em;">üìà</span>
                <span>Demographic Analysis</span>
            </button>
            <button class="quick-report-btn" onclick="generateQuickReport('trend-analysis')">
                <span style="font-size: 1.5em;">üìâ</span>
                <span>Trend Analysis</span>
            </button>
        </div>
    </div>

    <!-- Electoral Analysis Reports Section -->
    <div id="electoralReports" class="report-category-section">
        <h3 style="margin-bottom: 1.5rem;">Electoral Analysis Reports</h3>
        
        <!-- Report Templates Grid -->
        <div class="report-templates-grid" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 1.5rem; margin-bottom: 2rem;">
            <!-- Lok Sabha Election Reports -->
            <div class="report-template-card" style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h4 style="color: var(--primary);">Lok Sabha Election 2024</h4>
                    <span class="badge" style="background: #10b981; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">Available</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9em;">Complete analysis of 543 constituencies with party-wise performance, vote share, and swing analysis.</p>
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">543 Constituencies</span>
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">28 States</span>
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">8 UTs</span>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary btn-sm" onclick="viewReport('lok-sabha-2024')">View Report</button>
                    <button class="btn btn-secondary btn-sm" onclick="downloadReport('lok-sabha-2024')">Download</button>
                </div>
            </div>

            <!-- State Assembly Reports -->
            <div class="report-template-card" style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h4 style="color: var(--primary);">State Assembly Elections</h4>
                    <span class="badge" style="background: #f59e0b; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">5 States</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9em;">Recent assembly election analysis for Rajasthan, Madhya Pradesh, Chhattisgarh, Telangana, and Mizoram.</p>
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">679 Seats</span>
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">Nov 2023</span>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary btn-sm" onclick="viewReport('state-assembly-2023')">View Report</button>
                    <button class="btn btn-secondary btn-sm" onclick="downloadReport('state-assembly-2023')">Download</button>
                </div>
            </div>

            <!-- Municipal Corporation Reports -->
            <div class="report-template-card" style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h4 style="color: var(--primary);">Municipal Elections</h4>
                    <span class="badge" style="background: #8b5cf6; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">Updated</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9em;">Analysis of major municipal corporation elections across metropolitan cities.</p>
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">12 Cities</span>
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">2,450 Wards</span>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary btn-sm" onclick="viewReport('municipal-2024')">View Report</button>
                    <button class="btn btn-secondary btn-sm" onclick="downloadReport('municipal-2024')">Download</button>
                </div>
            </div>

            <!-- Panchayat Elections Reports -->
            <div class="report-template-card" style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; border: 1px solid var(--border);">
                <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
                    <h4 style="color: var(--primary);">Panchayat Elections</h4>
                    <span class="badge" style="background: #06b6d4; color: white; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">New</span>
                </div>
                <p style="color: var(--text-secondary); margin-bottom: 1rem; font-size: 0.9em;">Comprehensive analysis of panchayat elections at district, block, and village levels.</p>
                <div style="display: flex; gap: 0.5rem; margin-bottom: 1rem;">
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">2.6L Panchayats</span>
                    <span class="tag" style="background: var(--gray-100); padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.8em;">31M Representatives</span>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-primary btn-sm" onclick="viewReport('panchayat-2024')">View Report</button>
                    <button class="btn btn-secondary btn-sm" onclick="downloadReport('panchayat-2024')">Download</button>
                </div>
            </div>
        </div>

        <!-- Historical Election Data Table -->
        <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
            <h4 style="margin-bottom: 1rem;">Historical Election Reports Archive</h4>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="border-bottom: 2px solid var(--border);">
                            <th style="text-align: left; padding: 0.75rem;">Election Type</th>
                            <th style="text-align: left; padding: 0.75rem;">Year</th>
                            <th style="text-align: left; padding: 0.75rem;">Coverage</th>
                            <th style="text-align: left; padding: 0.75rem;">Total Seats</th>
                            <th style="text-align: left; padding: 0.75rem;">Turnout</th>
                            <th style="text-align: left; padding: 0.75rem;">Winner</th>
                            <th style="text-align: left; padding: 0.75rem;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 0.75rem;">Lok Sabha</td>
                            <td style="padding: 0.75rem;">2019</td>
                            <td style="padding: 0.75rem;">Pan India</td>
                            <td style="padding: 0.75rem;">543</td>
                            <td style="padding: 0.75rem;">67.40%</td>
                            <td style="padding: 0.75rem;">NDA (353)</td>
                            <td style="padding: 0.75rem;">
                                <button class="btn btn-sm" onclick="viewHistoricalReport('ls-2019')">View</button>
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 0.75rem;">Lok Sabha</td>
                            <td style="padding: 0.75rem;">2014</td>
                            <td style="padding: 0.75rem;">Pan India</td>
                            <td style="padding: 0.75rem;">543</td>
                            <td style="padding: 0.75rem;">66.44%</td>
                            <td style="padding: 0.75rem;">NDA (336)</td>
                            <td style="padding: 0.75rem;">
                                <button class="btn btn-sm" onclick="viewHistoricalReport('ls-2014')">View</button>
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 0.75rem;">Assembly</td>
                            <td style="padding: 0.75rem;">2023</td>
                            <td style="padding: 0.75rem;">Karnataka</td>
                            <td style="padding: 0.75rem;">224</td>
                            <td style="padding: 0.75rem;">73.19%</td>
                            <td style="padding: 0.75rem;">INC (135)</td>
                            <td style="padding: 0.75rem;">
                                <button class="btn btn-sm" onclick="viewHistoricalReport('ka-2023')">View</button>
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 0.75rem;">Assembly</td>
                            <td style="padding: 0.75rem;">2022</td>
                            <td style="padding: 0.75rem;">Uttar Pradesh</td>
                            <td style="padding: 0.75rem;">403</td>
                            <td style="padding: 0.75rem;">60.19%</td>
                            <td style="padding: 0.75rem;">BJP (255)</td>
                            <td style="padding: 0.75rem;">
                                <button class="btn btn-sm" onclick="viewHistoricalReport('up-2022')">View</button>
                            </td>
                        </tr>
                        <tr style="border-bottom: 1px solid var(--border);">
                            <td style="padding: 0.75rem;">Assembly</td>
                            <td style="padding: 0.75rem;">2021</td>
                            <td style="padding: 0.75rem;">West Bengal</td>
                            <td style="padding: 0.75rem;">294</td>
                            <td style="padding: 0.75rem;">81.87%</td>
                            <td style="padding: 0.75rem;">AITC (213)</td>
                            <td style="padding: 0.75rem;">
                                <button class="btn btn-sm" onclick="viewHistoricalReport('wb-2021')">View</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Scheduled Reports Section -->
    <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
            <h4>Scheduled Reports</h4>
            <button class="btn btn-primary btn-sm" onclick="addScheduledReport()">+ Add Schedule</button>
        </div>
        <div class="scheduled-reports-list">
            <div class="scheduled-report-item" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid var(--border);">
                <div>
                    <strong>Daily Electoral Dashboard</strong>
                    <p style="color: var(--text-secondary); font-size: 0.9em;">Every day at 09:00 AM | Recipients: 12</p>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-sm" onclick="editSchedule('daily-electoral')">Edit</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteSchedule('daily-electoral')">Delete</button>
                </div>
            </div>
            <div class="scheduled-report-item" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid var(--border);">
                <div>
                    <strong>Weekly Constituency Analysis</strong>
                    <p style="color: var(--text-secondary); font-size: 0.9em;">Every Monday at 10:00 AM | Recipients: 25</p>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-sm" onclick="editSchedule('weekly-constituency')">Edit</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteSchedule('weekly-constituency')">Delete</button>
                </div>
            </div>
            <div class="scheduled-report-item" style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; border-bottom: 1px solid var(--border);">
                <div>
                    <strong>Monthly Performance Report</strong>
                    <p style="color: var(--text-secondary); font-size: 0.9em;">1st of every month at 08:00 AM | Recipients: 8</p>
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button class="btn btn-sm" onclick="editSchedule('monthly-performance')">Edit</button>
                    <button class="btn btn-danger btn-sm" onclick="deleteSchedule('monthly-performance')">Delete</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Documentation Library -->
    <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px;">
        <h3 style="margin-bottom: 1.5rem;">Documentation Library</h3>
        
        <div class="documentation-categories" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 1rem; margin-bottom: 2rem;">
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('electoral-process')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üìã Electoral Process</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Guidelines, procedures, and regulations</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">24 documents</span>
            </div>
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('data-methodology')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üìä Data Methodology</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Data collection and analysis methods</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">18 documents</span>
            </div>
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('api-documentation')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üîå API Documentation</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Technical documentation for developers</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">12 documents</span>
            </div>
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('user-guides')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üìñ User Guides</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Platform usage and tutorials</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">31 documents</span>
            </div>
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('legal-framework')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">‚öñÔ∏è Legal Framework</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Election laws and regulations</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">45 documents</span>
            </div>
            <div class="doc-category" style="padding: 1rem; border: 1px solid var(--border); border-radius: 8px; cursor: pointer;" onclick="openDocCategory('research-papers')">
                <h4 style="color: var(--primary); margin-bottom: 0.5rem;">üî¨ Research Papers</h4>
                <p style="font-size: 0.9em; color: var(--text-secondary);">Academic studies and analysis</p>
                <span style="font-size: 0.8em; color: var(--text-muted);">67 documents</span>
            </div>
        </div>

        <!-- Recent Documents -->
        <h4 style="margin-bottom: 1rem;">Recently Updated Documents</h4>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="border-bottom: 2px solid var(--border);">
                        <th style="text-align: left; padding: 0.75rem;">Document</th>
                        <th style="text-align: left; padding: 0.75rem;">Category</th>
                        <th style="text-align: left; padding: 0.75rem;">Updated</th>
                        <th style="text-align: left; padding: 0.75rem;">Version</th>
                        <th style="text-align: left; padding: 0.75rem;">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid var(--border);">
                        <td style="padding: 0.75rem;">
                            <strong>Election Commission Guidelines 2024</strong>
                            <p style="font-size: 0.8em; color: var(--text-secondary);">Official guidelines for conduct of elections</p>
                        </td>
                        <td style="padding: 0.75rem;"><span class="badge">Electoral Process</span></td>
                        <td style="padding: 0.75rem;">2 days ago</td>
                        <td style="padding: 0.75rem;">v3.2</td>
                        <td style="padding: 0.75rem;">
                            <button class="btn btn-sm" onclick="viewDocument('ec-guidelines-2024')">View</button>
                            <button class="btn btn-sm" onclick="downloadDocument('ec-guidelines-2024')">Download</button>
                        </td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border);">
                        <td style="padding: 0.75rem;">
                            <strong>Voter Demographics Analysis Methodology</strong>
                            <p style="font-size: 0.8em; color: var(--text-secondary);">Detailed methodology for demographic analysis</p>
                        </td>
                        <td style="padding: 0.75rem;"><span class="badge">Data Methodology</span></td>
                        <td style="padding: 0.75rem;">5 days ago</td>
                        <td style="padding: 0.75rem;">v2.1</td>
                        <td style="padding: 0.75rem;">
                            <button class="btn btn-sm" onclick="viewDocument('demographics-methodology')">View</button>
                            <button class="btn btn-sm" onclick="downloadDocument('demographics-methodology')">Download</button>
                        </td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border);">
                        <td style="padding: 0.75rem;">
                            <strong>IPA API Reference v4.0</strong>
                            <p style="font-size: 0.8em; color: var(--text-secondary);">Complete API documentation with examples</p>
                        </td>
                        <td style="padding: 0.75rem;"><span class="badge">API Documentation</span></td>
                        <td style="padding: 0.75rem;">1 week ago</td>
                        <td style="padding: 0.75rem;">v4.0</td>
                        <td style="padding: 0.75rem;">
                            <button class="btn btn-sm" onclick="viewDocument('api-reference')">View</button>
                            <button class="btn btn-sm" onclick="downloadDocument('api-reference')">Download</button>
                        </td>
                    </tr>
                    <tr style="border-bottom: 1px solid var(--border);">
                        <td style="padding: 0.75rem;">
                            <strong>Platform User Manual</strong>
                            <p style="font-size: 0.8em; color: var(--text-secondary);">Comprehensive guide for platform users</p>
                        </td>
                        <td style="padding: 0.75rem;"><span class="badge">User Guides</span></td>
                        <td style="padding: 0.75rem;">2 weeks ago</td>
                        <td style="padding: 0.75rem;">v5.3</td>
                        <td style="padding: 0.75rem;">
                            <button class="btn btn-sm" onclick="viewDocument('user-manual')">View</button>
                            <button class="btn btn-sm" onclick="downloadDocument('user-manual')">Download</button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</section>

<style>
/* Additional styles for Reports section */
.report-tabs {
    scrollbar-width: thin;
    scrollbar-color: var(--gray-400) transparent;
}

.report-tabs::-webkit-scrollbar {
    height: 6px;
}

.report-tabs::-webkit-scrollbar-track {
    background: transparent;
}

.report-tabs::-webkit-scrollbar-thumb {
    background: var(--gray-400);
    border-radius: 3px;
}

.tab-btn {
    padding: 0.5rem 1rem;
    background: transparent;
    border: 1px solid var(--border);
    border-radius: 20px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all 0.3s ease;
    white-space: nowrap;
}

.tab-btn:hover {
    background: var(--gray-100);
    color: var(--text);
}

.tab-btn.active {
    background: var(--primary);
    color: white;
    border-color: var(--primary);
}

.quick-report-btn {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem;
    background: var(--gray-50);
    border: 1px solid var(--border);
    border-radius: 8px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-size: 0.95em;
}

.quick-report-btn:hover {
    background: var(--primary-light);
    border-color: var(--primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15);
}

.report-template-card {
    transition: all 0.3s ease;
}

.report-template-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.badge {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8em;
    font-weight: 500;
}

.tag {
    display: inline-block;
}

.doc-category {
    transition: all 0.3s ease;
}

.doc-category:hover {
    background: var(--gray-50);
    border-color: var(--primary);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.scheduled-report-item {
    transition: background 0.3s ease;
}

.scheduled-report-item:hover {
    background: var(--gray-50);
}

/* Button styles */
.btn {
    padding: 0.5rem 1rem;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.95em;
    transition: all 0.3s ease;
    font-weight: 500;
}

.btn-primary {
    background: var(--primary);
    color: white;
}

.btn-primary:hover {
    background: var(--primary-dark);
    transform: translateY(-1px);
    box-shadow: 0 2px 8px rgba(37, 99, 235, 0.25);
}

.btn-secondary {
    background: var(--gray-200);
    color: var(--text);
}

.btn-secondary:hover {
    background: var(--gray-300);
}

.btn-success {
    background: var(--success);
    color: white;
}

.btn-success:hover {
    background: #059669;
}

.btn-danger {
    background: var(--danger);
    color: white;
}

.btn-danger:hover {
    background: #dc2626;
}

.btn-sm {
    padding: 0.25rem 0.75rem;
    font-size: 0.85em;
}

/* Responsive adjustments */
@media (max-width: 768px) {
    .report-templates-grid {
        grid-template-columns: 1fr;
    }
    
    .documentation-categories {
        grid-template-columns: 1fr;
    }
    
    .quick-reports-section > div {
        grid-template-columns: 1fr;
    }
}
</style>

<script>
// Reports Module JavaScript Functions

// Report generation functions
function generateNewReport() {
    alert('Opening Report Generator...\n\n‚Ä¢ Select report type\n‚Ä¢ Choose data parameters\n‚Ä¢ Select date range\n‚Ä¢ Generate report');
}

function scheduleReport() {
    alert('Opening Report Scheduler...\n\n‚Ä¢ Select report template\n‚Ä¢ Set schedule frequency\n‚Ä¢ Add email recipients\n‚Ä¢ Save schedule');
}

function filterReports(category) {
    console.log('Filtering reports by:', category);
    // Implementation for filtering reports
}

// Quick report generation
function generateQuickReport(type) {
    const reportTypes = {
        'state-overview': 'State Overview Report',
        'election-results': 'Election Results Analysis',
        'voter-turnout': 'Voter Turnout Report',
        'party-performance': 'Party Performance Report',
        'demographic-analysis': 'Demographic Analysis',
        'trend-analysis': 'Trend Analysis Report'
    };
    
    alert(`Generating ${reportTypes[type]}...\n\nProcessing data...\nThis may take a few moments.`);
    
    // Simulate report generation
    setTimeout(() => {
        alert(`${reportTypes[type]} generated successfully!\n\nReport ID: RPT-2024-${Math.floor(Math.random() * 10000)}\nFormat: PDF\nPages: ${Math.floor(Math.random() * 50) + 10}`);
    }, 2000);
}

// Report category switching
function switchReportCategory(category) {
    // Remove active class from all tabs
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
    });
    
    // Add active class to clicked tab
    event.target.classList.add('active');
    
    // Hide all category sections
    document.querySelectorAll('.report-category-section').forEach(section => {
        section.style.display = 'none';
    });
    
    // Show selected category (for demonstration, we're only showing electoral)
    if (category === 'electoral') {
        document.getElementById('electoralReports').style.display = 'block';
    }
    
    console.log('Switched to category:', category);
}

// Report viewing and downloading
function viewReport(reportId) {
    alert(`Opening report: ${reportId}\n\nLoading PDF viewer...\nReport will open in a new window.`);
    // In production, this would open the report in a PDF viewer
}

function downloadReport(reportId) {
    alert(`Downloading report: ${reportId}\n\nFormat: PDF\nSize: ${Math.floor(Math.random() * 10) + 2} MB`);
    // In production, this would trigger file download
}

// Historical reports
function viewHistoricalReport(reportId) {
    const reports = {
        'ls-2019': 'Lok Sabha Election 2019 - Complete Analysis',
        'ls-2014': 'Lok Sabha Election 2014 - Complete Analysis',
        'ka-2023': 'Karnataka Assembly Election 2023',
        'up-2022': 'Uttar Pradesh Assembly Election 2022',
        'wb-2021': 'West Bengal Assembly Election 2021'
    };
    
    alert(`Opening Historical Report:\n${reports[reportId]}\n\nThis report contains comprehensive analysis including:\n‚Ä¢ Constituency-wise results\n‚Ä¢ Party performance\n‚Ä¢ Voter demographics\n‚Ä¢ Swing analysis`);
}

// Scheduled reports management
function addScheduledReport() {
    alert('Add New Scheduled Report\n\n‚Ä¢ Report Type: Select from templates\n‚Ä¢ Frequency: Daily/Weekly/Monthly\n‚Ä¢ Time: Select preferred time\n‚Ä¢ Recipients: Add email addresses\n‚Ä¢ Format: PDF/Excel/CSV');
}

function editSchedule(scheduleId) {
    alert(`Editing schedule: ${scheduleId}\n\nYou can modify:\n‚Ä¢ Frequency\n‚Ä¢ Recipients\n‚Ä¢ Report parameters\n‚Ä¢ Delivery time`);
}

function deleteSchedule(scheduleId) {
    if (confirm(`Are you sure you want to delete this scheduled report?\n\nSchedule ID: ${scheduleId}\n\nThis action cannot be undone.`)) {
        alert('Scheduled report deleted successfully!');
    }
}

// Documentation functions
function openDocCategory(category) {
    const categories = {
        'electoral-process': 'Electoral Process Documentation',
        'data-methodology': 'Data Collection & Analysis Methodology',
        'api-documentation': 'API Technical Documentation',
        'user-guides': 'Platform User Guides & Tutorials',
        'legal-framework': 'Election Laws & Legal Framework',
        'research-papers': 'Academic Research Papers'
    };
    
    alert(`Opening ${categories[category]}\n\nThis section contains all relevant documentation for this category.`);
}

function viewDocument(docId) {
    alert(`Opening document: ${docId}\n\nDocument will open in document viewer.`);
}

function downloadDocument(docId) {
    alert(`Downloading document: ${docId}\n\nFormat: PDF\nStarting download...`);
}

// Initialize report data
let reportData = {
    totalReports: 2847,
    scheduledReports: 156,
    templates: 38,
    successRate: 89,
    recentReports: [],
    categories: {
        electoral: 456,
        demographic: 342,
        constituency: 523,
        performance: 287,
        surveys: 189,
        financial: 234,
        media: 456,
        social: 360
    }
};

// Sample function to load recent reports
function loadRecentReports() {
    // This would typically fetch from an API
    reportData.recentReports = [
        {
            id: 'RPT-2024-001',
            name: 'Lok Sabha Election 2024 Analysis',
            type: 'Electoral',
            date: '2024-06-15',
            status: 'Complete'
        },
        {
            id: 'RPT-2024-002',
            name: 'State Assembly Elections Q1 2024',
            type: 'Electoral',
            date: '2024-03-31',
            status: 'Complete'
        },
        {
            id: 'RPT-2024-003',
            name: 'Voter Demographics Update',
            type: 'Demographic',
            date: '2024-10-01',
            status: 'Processing'
        }
    ];
}

// Initialize on page load
document.addEventListener('DOMContentLoaded', function() {
    loadRecentReports();
    console.log('Reports module initialized');
});
</script>
<!-- Replace the existing settingsSection with this complete code -->

<section id="settingsSection" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
        <div>
            <h2 style="margin-bottom: 0.5rem;">System Settings</h2>
            <p style="color: var(--text-secondary);">Configure and manage your IPA platform settings</p>
        </div>
        <div style="display: flex; gap: 0.5rem;">
            <button class="btn btn-secondary" onclick="exportSettings()">Export Settings</button>
            <button class="btn btn-secondary" onclick="importSettings()">Import Settings</button>
            <button class="btn btn-success" onclick="saveAllSettings()">Save All Changes</button>
        </div>
    </div>

    <!-- Settings Navigation Sidebar -->
    <div style="display: flex; gap: 2rem;">
        <!-- Left Sidebar -->
        <div style="width: 250px; background: var(--card-bg); padding: 1rem; border-radius: 8px; height: fit-content; position: sticky; top: 20px;">
            <div class="settings-nav">
                <div class="settings-nav-item active" onclick="showSettingsSection('profile')">
                    <span>üë§</span> Profile Settings
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('organization')">
                    <span>üè¢</span> Organization
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('security')">
                    <span>üîê</span> Security
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('notifications')">
                    <span>üîî</span> Notifications
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('api')">
                    <span>üîå</span> API Configuration
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('database')">
                    <span>üíæ</span> Database
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('users')">
                    <span>üë•</span> User Management
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('permissions')">
                    <span>üîë</span> Access Control
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('integrations')">
                    <span>üîÑ</span> Integrations
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('backup')">
                    <span>üíº</span> Backup & Restore
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('monitoring')">
                    <span>üìä</span> System Monitoring
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('audit')">
                    <span>üìù</span> Audit Logs
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('appearance')">
                    <span>üé®</span> Appearance
                </div>
                <div class="settings-nav-item" onclick="showSettingsSection('advanced')">
                    <span>‚öôÔ∏è</span> Advanced
                </div>
            </div>
        </div>

        <!-- Right Content Area -->
        <div style="flex: 1;">
            <!-- Profile Settings -->
            <div id="profileSettings" class="settings-content">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Profile Settings</h3>
                    
                    <div style="display: flex; align-items: center; gap: 2rem; margin-bottom: 2rem;">
                        <div style="position: relative;">
                            <div style="width: 100px; height: 100px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; font-size: 2.5em; color: white;">
                                AD
                            </div>
                            <button class="btn btn-sm" style="position: absolute; bottom: 0; right: 0; border-radius: 50%; padding: 0.5rem;">
                                üì∑
                            </button>
                        </div>
                        <div>
                            <h4>Administrator</h4>
                            <p style="color: var(--text-secondary);">Super Admin</p>
                            <p style="color: var(--text-muted); font-size: 0.9em;">Member since: January 2024</p>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Full Name</label>
                            <input type="text" value="Admin User" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Email Address</label>
                            <input type="email" value="admin@ipa.gov.in" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Phone Number</label>
                            <input type="tel" value="+91 98765 43210" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Department</label>
                            <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                                <option>Electoral Analytics</option>
                                <option>Data Management</option>
                                <option>System Administration</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Time Zone</label>
                            <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                                <option>Asia/Kolkata (IST)</option>
                                <option>UTC</option>
                            </select>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Language</label>
                            <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; background: var(--input-bg);">
                                <option>English</option>
                                <option>‡§π‡§ø‡§Ç‡§¶‡•Ä (Hindi)</option>
                                <option>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ (Bengali)</option>
                                <option>‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å (Telugu)</option>
                                <option>‡§Æ‡§∞‡§æ‡§†‡•Ä (Marathi)</option>
                                <option>‡Æ§‡ÆÆ‡Æø‡Æ¥‡Øç (Tamil)</option>
                            </select>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveProfileSettings()">Save Profile</button>
                        <button class="btn btn-secondary" style="margin-left: 0.5rem;" onclick="cancelProfileChanges()">Cancel</button>
                    </div>
                </div>
            </div>

            <!-- Organization Settings -->
            <div id="organizationSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Organization Settings</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                        <div style="grid-column: span 2;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Organization Name</label>
                            <input type="text" value="Indian Political Analysis Platform" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Registration Number</label>
                            <input type="text" value="IPA/2024/GOV/001" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Established Year</label>
                            <input type="number" value="2024" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                        <div style="grid-column: span 2;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Address</label>
                            <textarea style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px; min-height: 100px;">Election Commission of India
Nirvachan Sadan, Ashoka Road
New Delhi - 110001</textarea>
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Contact Email</label>
                            <input type="email" value="contact@ipa.gov.in" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Contact Phone</label>
                            <input type="tel" value="011-23052205" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                    </div>

                    <div style="margin-top: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Organization Branding</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1.5rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Logo</label>
                                <div style="padding: 2rem; border: 2px dashed var(--border); border-radius: 6px; text-align: center;">
                                    <button class="btn btn-secondary">Upload Logo</button>
                                    <p style="margin-top: 0.5rem; font-size: 0.9em; color: var(--text-muted);">PNG, JPG up to 5MB</p>
                                </div>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Primary Color</label>
                                <div style="display: flex; gap: 1rem; align-items: center;">
                                    <input type="color" value="#2563eb" style="width: 60px; height: 40px; border: 1px solid var(--border); border-radius: 6px;">
                                    <input type="text" value="#2563eb" style="flex: 1; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveOrganizationSettings()">Save Organization Settings</button>
                    </div>
                </div>
            </div>

            <!-- Security Settings -->
            <div id="securitySettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Security Settings</h3>
                    
                    <!-- Password Settings -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Change Password</h4>
                        <div style="display: grid; gap: 1rem; max-width: 500px;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Current Password</label>
                                <input type="password" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">New Password</label>
                                <input type="password" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Confirm New Password</label>
                                <input type="password" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                            <button class="btn btn-primary" style="width: fit-content;" onclick="changePassword()">Update Password</button>
                        </div>
                    </div>

                    <!-- Two-Factor Authentication -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Two-Factor Authentication</h4>
                        <div style="background: var(--success-light); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                            <p style="color: var(--success);">‚úì Two-factor authentication is enabled</p>
                        </div>
                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-secondary" onclick="configureTwoFactor()">Reconfigure 2FA</button>
                            <button class="btn btn-danger" onclick="disableTwoFactor()">Disable 2FA</button>
                        </div>
                    </div>

                    <!-- Session Management -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Active Sessions</h4>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                                <div>
                                    <strong>Current Session</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Chrome on Windows ‚Ä¢ Bengaluru, Karnataka, India</p>
                                    <p style="font-size: 0.8em; color: var(--text-muted);">Active now</p>
                                </div>
                                <span style="color: var(--success);">Active</span>
                            </div>
                        </div>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <strong>Mobile App</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">IPA Mobile on Android ‚Ä¢ Mumbai, India</p>
                                    <p style="font-size: 0.8em; color: var(--text-muted);">Last active: 2 hours ago</p>
                                </div>
                                <button class="btn btn-sm btn-danger" onclick="revokeSession('mobile')">Revoke</button>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="revokeAllSessions()">Revoke All Other Sessions</button>
                    </div>

                    <!-- Security Preferences -->
                    <div>
                        <h4 style="margin-bottom: 1rem;">Security Preferences</h4>
                        <div style="display: flex; flex-direction: column; gap: 1rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked>
                                <span>Require password change every 90 days</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked>
                                <span>Send email alerts for new login attempts</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox" checked>
                                <span>Enable account lockout after 5 failed attempts</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 0.5rem;">
                                <input type="checkbox">
                                <span>Require IP whitelisting for admin access</span>
                            </label>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveSecuritySettings()">Save Security Settings</button>
                    </div>
                </div>
            </div>

            <!-- Notification Settings -->
            <div id="notificationSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Notification Preferences</h3>
                    
                    <!-- Email Notifications -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Email Notifications</h4>
                        <div style="display: grid; gap: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>System Alerts</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Critical system updates and maintenance notifications</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Report Generation</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Notifications when scheduled reports are ready</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Data Updates</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">New election data and analysis available</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>User Activity</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">New user registrations and role changes</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- SMS Notifications -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">SMS Notifications</h4>
                        <div style="display: grid; gap: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Critical Alerts Only</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">System failures and security alerts</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Push Notifications -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Push Notifications</h4>
                        <div style="display: grid; gap: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Browser Notifications</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Real-time updates in your browser</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Mobile App Notifications</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Notifications on IPA mobile app</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveNotificationSettings()">Save Notification Settings</button>
                    </div>
                </div>
            </div>

            <!-- API Configuration -->
            <div id="apiSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">API Configuration</h3>
                    
                    <!-- API Keys -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">API Keys</h4>
                        <div style="background: var(--warning-light); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                            <p style="color: var(--warning);">‚ö†Ô∏è Keep your API keys secure. Do not share them publicly.</p>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Production API Key</strong>
                                    <p style="font-family: monospace; color: var(--text-secondary);">ipa_prod_sk_*********************3f2a</p>
                                    <p style="font-size: 0.8em; color: var(--text-muted);">Created: Jan 15, 2024 ‚Ä¢ Last used: Today</p>
                                </div>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-sm" onclick="regenerateApiKey('prod')">Regenerate</button>
                                    <button class="btn btn-sm btn-danger" onclick="revokeApiKey('prod')">Revoke</button>
                                </div>
                            </div>
                        </div>
                        
                        <div style="margin-bottom: 1rem;">
                            <div style="display: flex; justify-content: space-between; align-items: center; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Development API Key</strong>
                                    <p style="font-family: monospace; color: var(--text-secondary);">ipa_dev_sk_*********************8b4c</p>
                                    <p style="font-size: 0.8em; color: var(--text-muted);">Created: Jan 15, 2024 ‚Ä¢ Last used: 2 days ago</p>
                                </div>
                                <div style="display: flex; gap: 0.5rem;">
                                    <button class="btn btn-sm" onclick="regenerateApiKey('dev')">Regenerate</button>
                                    <button class="btn btn-sm btn-danger" onclick="revokeApiKey('dev')">Revoke</button>
                                </div>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" onclick="generateNewApiKey()">Generate New API Key</button>
                    </div>

                    <!-- Webhooks -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Webhooks</h4>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Webhook URL</label>
                            <input type="url" placeholder="https://your-server.com/webhook" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        </div>
                        <div style="margin-bottom: 1rem;">
                            <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Events</label>
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 0.5rem;">
                                <label><input type="checkbox"> Report Generated</label>
                                <label><input type="checkbox"> Data Updated</label>
                                <label><input type="checkbox"> User Created</label>
                                <label><input type="checkbox"> Analysis Complete</label>
                            </div>
                        </div>
                        <button class="btn btn-secondary" onclick="testWebhook()">Test Webhook</button>
                    </div>

                    <!-- Rate Limits -->
                    <div>
                        <h4 style="margin-bottom: 1rem;">Rate Limits</h4>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                            <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                                <div>
                                    <strong>Current Plan: Professional</strong>
                                    <p style="color: var(--text-secondary);">10,000 requests per hour</p>
                                </div>
                                <div>
                                    <strong>Usage This Month</strong>
                                    <p style="color: var(--text-secondary);">245,678 / 500,000 requests</p>
                                </div>
                            </div>
                            <div style="margin-top: 1rem;">
                                <div style="background: var(--gray-200); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--primary); width: 49%; height: 100%; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveApiSettings()">Save API Settings</button>
                    </div>
                </div>
            </div>

            <!-- Database Settings -->
            <div id="databaseSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Database Configuration</h3>
                    
                    <!-- Connection Settings -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Connection Settings</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Database Type</label>
                                <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                                    <option>PostgreSQL</option>
                                    <option>MySQL</option>
                                    <option>MongoDB</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Host</label>
                                <input type="text" value="db.ipa.gov.in" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Port</label>
                                <input type="number" value="5432" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Database Name</label>
                                <input type="text" value="ipa_production" style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            </div>
                        </div>
                        <button class="btn btn-secondary" style="margin-top: 1rem;" onclick="testDatabaseConnection()">Test Connection</button>
                    </div>

                    <!-- Database Statistics -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Database Statistics</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;">
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: var(--primary);">2.4 TB</div>
                                <div style="color: var(--text-secondary); font-size: 0.9em;">Total Size</div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: var(--success);">847M</div>
                                <div style="color: var(--text-secondary); font-size: 0.9em;">Records</div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: var(--warning);">156</div>
                                <div style="color: var(--text-secondary); font-size: 0.9em;">Tables</div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 1.5em; font-weight: bold; color: var(--info);">24</div>
                                <div style="color: var(--text-secondary); font-size: 0.9em;">Active Connections</div>
                            </div>
                        </div>
                    </div>

                    <!-- Maintenance -->
                    <div>
                        <h4 style="margin-bottom: 1rem;">Database Maintenance</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <button class="btn btn-secondary" onclick="optimizeDatabase()">Optimize Tables</button>
                            <button class="btn btn-secondary" onclick="analyzeDatabase()">Analyze Performance</button>
                            <button class="btn btn-secondary" onclick="cleanupDatabase()">Clean Up Old Data</button>
                            <button class="btn btn-warning" onclick="rebuildIndexes()">Rebuild Indexes</button>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveDatabaseSettings()">Save Database Settings</button>
                    </div>
                </div>
            </div>

            <!-- User Management -->
            <div id="usersSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h3>User Management</h3>
                        <button class="btn btn-primary" onclick="addNewUser()">+ Add User</button>
                    </div>
                    
                    <!-- User Statistics -->
                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                            <div style="font-size: 1.5em; font-weight: bold;">1,247</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">Total Users</div>
                        </div>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--success);">892</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">Active Users</div>
                        </div>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                            <div style="font-size: 1.5em; font-weight: bold;">45</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">Admin Users</div>
                        </div>
                        <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                            <div style="font-size: 1.5em; font-weight: bold;">127</div>
                            <div style="color: var(--text-secondary); font-size: 0.9em;">Pending Invites</div>
                        </div>
                    </div>

                    <!-- User Search and Filter -->
                    <div style="display: flex; gap: 1rem; margin-bottom: 1.5rem;">
                        <input type="search" placeholder="Search users..." style="flex: 1; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                        <select style="padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            <option>All Roles</option>
                            <option>Admin</option>
                            <option>Analyst</option>
                            <option>Viewer</option>
                        </select>
                        <select style="padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                            <option>All Status</option>
                            <option>Active</option>
                            <option>Inactive</option>
                            <option>Pending</option>
                        </select>
                    </div>

                    <!-- Users Table -->
                    <div style="overflow-x: auto;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead>
                                <tr style="border-bottom: 2px solid var(--border);">
                                    <th style="text-align: left; padding: 0.75rem;">User</th>
                                    <th style="text-align: left; padding: 0.75rem;">Role</th>
                                    <th style="text-align: left; padding: 0.75rem;">Department</th>
                                    <th style="text-align: left; padding: 0.75rem;">Status</th>
                                    <th style="text-align: left; padding: 0.75rem;">Last Active</th>
                                    <th style="text-align: left; padding: 0.75rem;">Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr style="border-bottom: 1px solid var(--border);">
                                    <td style="padding: 0.75rem;">
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9em;">
                                                RS
                                            </div>
                                            <div>
                                                <div>Rajesh Sharma</div>
                                                <div style="font-size: 0.8em; color: var(--text-secondary);">rajesh.sharma@ipa.gov.in</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 0.75rem;"><span class="badge" style="background: var(--primary); color: white;">Admin</span></td>
                                    <td style="padding: 0.75rem;">Electoral Analytics</td>
                                    <td style="padding: 0.75rem;"><span style="color: var(--success);">‚óè Active</span></td>
                                    <td style="padding: 0.75rem;">2 hours ago</td>
                                    <td style="padding: 0.75rem;">
                                        <button class="btn btn-sm" onclick="editUser('user1')">Edit</button>
                                        <button class="btn btn-sm btn-danger" onclick="suspendUser('user1')">Suspend</button>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border);">
                                    <td style="padding: 0.75rem;">
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--success); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9em;">
                                                PK
                                            </div>
                                            <div>
                                                <div>Priya Kumar</div>
                                                <div style="font-size: 0.8em; color: var(--text-secondary);">priya.kumar@ipa.gov.in</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 0.75rem;"><span class="badge" style="background: var(--info); color: white;">Analyst</span></td>
                                    <td style="padding: 0.75rem;">Data Management</td>
                                    <td style="padding: 0.75rem;"><span style="color: var(--success);">‚óè Active</span></td>
                                    <td style="padding: 0.75rem;">5 minutes ago</td>
                                    <td style="padding: 0.75rem;">
                                        <button class="btn btn-sm" onclick="editUser('user2')">Edit</button>
                                        <button class="btn btn-sm btn-danger" onclick="suspendUser('user2')">Suspend</button>
                                    </td>
                                </tr>
                                <tr style="border-bottom: 1px solid var(--border);">
                                    <td style="padding: 0.75rem;">
                                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                                            <div style="width: 32px; height: 32px; border-radius: 50%; background: var(--warning); display: flex; align-items: center; justify-content: center; color: white; font-size: 0.9em;">
                                                AM
                                            </div>
                                            <div>
                                                <div>Amit Mehta</div>
                                                <div style="font-size: 0.8em; color: var(--text-secondary);">amit.mehta@ipa.gov.in</div>
                                            </div>
                                        </div>
                                    </td>
                                    <td style="padding: 0.75rem;"><span class="badge" style="background: var(--gray-400); color: white;">Viewer</span></td>
                                    <td style="padding: 0.75rem;">Research</td>
                                    <td style="padding: 0.75rem;"><span style="color: var(--warning);">‚óè Pending</span></td>
                                    <td style="padding: 0.75rem;">Never</td>
                                    <td style="padding: 0.75rem;">
                                        <button class="btn btn-sm btn-success" onclick="activateUser('user3')">Activate</button>
                                        <button class="btn btn-sm" onclick="resendInvite('user3')">Resend</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Backup & Restore -->
            <div id="backupSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">Backup & Restore</h3>
                    
                    <!-- Automated Backups -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Automated Backups</h4>
                        <div style="background: var(--success-light); padding: 1rem; border-radius: 6px; margin-bottom: 1rem;">
                            <p style="color: var(--success);">‚úì Automated backups are enabled and running daily at 2:00 AM IST</p>
                        </div>
                        
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Backup Frequency</label>
                                <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                                    <option>Daily</option>
                                    <option>Weekly</option>
                                    <option>Monthly</option>
                                </select>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.5rem; color: var(--text-secondary);">Retention Period</label>
                                <select style="width: 100%; padding: 0.75rem; border: 1px solid var(--border); border-radius: 6px;">
                                    <option>30 days</option>
                                    <option>60 days</option>
                                    <option>90 days</option>
                                    <option>1 year</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Backups -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Recent Backups</h4>
                        <div style="overflow-x: auto;">
                            <table style="width: 100%; border-collapse: collapse;">
                                <thead>
                                    <tr style="border-bottom: 2px solid var(--border);">
                                        <th style="text-align: left; padding: 0.75rem;">Backup Name</th>
                                        <th style="text-align: left; padding: 0.75rem;">Type</th>
                                        <th style="text-align: left; padding: 0.75rem;">Size</th>
                                        <th style="text-align: left; padding: 0.75rem;">Date</th>
                                        <th style="text-align: left; padding: 0.75rem;">Status</th>
                                        <th style="text-align: left; padding: 0.75rem;">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: 0.75rem;">ipa_backup_20241005_020000</td>
                                        <td style="padding: 0.75rem;">Automated</td>
                                        <td style="padding: 0.75rem;">2.4 TB</td>
                                        <td style="padding: 0.75rem;">Oct 5, 2024 02:00 AM</td>
                                        <td style="padding: 0.75rem;"><span style="color: var(--success);">Complete</span></td>
                                        <td style="padding: 0.75rem;">
                                            <button class="btn btn-sm" onclick="downloadBackup('backup1')">Download</button>
                                            <button class="btn btn-sm" onclick="restoreBackup('backup1')">Restore</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: 0.75rem;">ipa_backup_20241004_020000</td>
                                        <td style="padding: 0.75rem;">Automated</td>
                                        <td style="padding: 0.75rem;">2.4 TB</td>
                                        <td style="padding: 0.75rem;">Oct 4, 2024 02:00 AM</td>
                                        <td style="padding: 0.75rem;"><span style="color: var(--success);">Complete</span></td>
                                        <td style="padding: 0.75rem;">
                                            <button class="btn btn-sm" onclick="downloadBackup('backup2')">Download</button>
                                            <button class="btn btn-sm" onclick="restoreBackup('backup2')">Restore</button>
                                        </td>
                                    </tr>
                                    <tr style="border-bottom: 1px solid var(--border);">
                                        <td style="padding: 0.75rem;">ipa_manual_backup_20241003</td>
                                        <td style="padding: 0.75rem;">Manual</td>
                                        <td style="padding: 0.75rem;">2.3 TB</td>
                                        <td style="padding: 0.75rem;">Oct 3, 2024 03:45 PM</td>
                                        <td style="padding: 0.75rem;"><span style="color: var(--success);">Complete</span></td>
                                        <td style="padding: 0.75rem;">
                                            <button class="btn btn-sm" onclick="downloadBackup('backup3')">Download</button>
                                            <button class="btn btn-sm" onclick="restoreBackup('backup3')">Restore</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Manual Backup -->
                    <div>
                        <h4 style="margin-bottom: 1rem;">Manual Backup</h4>
                        <div style="background: var(--gray-50); padding: 1.5rem; border-radius: 6px;">
                            <p style="margin-bottom: 1rem;">Create a manual backup of the entire system</p>
                            <button class="btn btn-primary" onclick="createManualBackup()">Create Backup Now</button>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveBackupSettings()">Save Backup Settings</button>
                    </div>
                </div>
            </div>

            <!-- System Monitoring -->
            <div id="monitoringSettings" class="settings-content" style="display: none;">
                <div style="background: var(--card-bg); padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
                    <h3 style="margin-bottom: 1.5rem;">System Monitoring</h3>
                    
                    <!-- System Health -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">System Health</h4>
                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 1rem;">
                            <div style="background: var(--success-light); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 2em;">‚úì</div>
                                <div style="font-weight: bold;">API Server</div>
                                <div style="color: var(--success);">Operational</div>
                            </div>
                            <div style="background: var(--success-light); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 2em;">‚úì</div>
                                <div style="font-weight: bold;">Database</div>
                                <div style="color: var(--success);">Healthy</div>
                            </div>
                            <div style="background: var(--warning-light); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 2em;">‚ö†</div>
                                <div style="font-weight: bold;">Storage</div>
                                <div style="color: var(--warning);">85% Used</div>
                            </div>
                            <div style="background: var(--success-light); padding: 1rem; border-radius: 6px; text-align: center;">
                                <div style="font-size: 2em;">‚úì</div>
                                <div style="font-weight: bold;">Cache</div>
                                <div style="color: var(--success);">Active</div>
                            </div>
                        </div>
                    </div>

                    <!-- Performance Metrics -->
                    <div style="margin-bottom: 2rem;">
                        <h4 style="margin-bottom: 1rem;">Performance Metrics</h4>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 1rem;">
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>CPU Usage</span>
                                    <span style="font-weight: bold;">42%</span>
                                </div>
                                <div style="background: var(--gray-200); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--success); width: 42%; height: 100%; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Memory Usage</span>
                                    <span style="font-weight: bold;">68%</span>
                                </div>
                                <div style="background: var(--gray-200); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--warning); width: 68%; height: 100%; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Disk Usage</span>
                                    <span style="font-weight: bold;">85%</span>
                                </div>
                                <div style="background: var(--gray-200); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--danger); width: 85%; height: 100%; border-radius: 4px;"></div>
                                </div>
                            </div>
                            <div style="background: var(--gray-50); padding: 1rem; border-radius: 6px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                                    <span>Network I/O</span>
                                    <span style="font-weight: bold;">124 MB/s</span>
                                </div>
                                <div style="background: var(--gray-200); height: 8px; border-radius: 4px;">
                                    <div style="background: var(--info); width: 35%; height: 100%; border-radius: 4px;"></div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Alert Configuration -->
                    <div>
                        <h4 style="margin-bottom: 1rem;">Alert Configuration</h4>
                        <div style="display: grid; gap: 1rem;">
                            <label style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>CPU Usage > 90%</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Alert when CPU usage exceeds threshold</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                            <label style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Memory Usage > 85%</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Alert when memory usage is critical</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                            <label style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: var(--gray-50); border-radius: 6px;">
                                <div>
                                    <strong>Disk Space < 10%</strong>
                                    <p style="font-size: 0.9em; color: var(--text-secondary);">Alert when disk space is running low</p>
                                </div>
                                <label class="switch">
                                    <input type="checkbox" checked>
                                    <span class="slider"></span>
                                </label>
                            </label>
                        </div>
                    </div>

                    <div style="margin-top: 1.5rem;">
                        <button class="btn btn-primary" onclick="saveMonitoringSettings()">Save Monitoring Settings</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<style>
/* Settings Section Styles */
.settings-nav-item {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 0.75rem 1rem;
    margin-bottom: 0.25rem;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: var(--text-secondary);
}

.settings-nav-item:hover {
    background: var(--gray-50);
    color: var(--text);
}

.settings-nav-item.active {
    background: var(--primary-light);
    color: var(--primary);
    font-weight: 500;
}

.settings-content {
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Toggle Switch */
.switch {
    position: relative;
    display: inline-block;
    width: 50px;
    height: 24px;
}

.switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: var(--gray-300);
    transition: .4s;
    border-radius: 24px;
}

.slider:before {
    position: absolute;
    content: "";
    height: 18px;
    width: 18px;
    left: 3px;
    bottom: 3px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .slider {
    background-color: var(--primary);
}

input:checked + .slider:before {
    transform: translateX(26px);
}

/* Input Styles */
input[type="text"],
input[type="email"],
input[type="tel"],
input[type="number"],
input[type="url"],
input[type="password"],
input[type="search"],
select,
textarea {
    background: var(--input-bg, var(--white));
    color: var(--text);
    font-size: 0.95em;
}

input[type="text"]:focus,
input[type="email"]:focus,
input[type="tel"]:focus,
input[type="number"]:focus,
input[type="url"]:focus,
input[type="password"]:focus,
input[type="search"]:focus,
select:focus,
textarea:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
}

/* Color Picker */
input[type="color"] {
    cursor: pointer;
}

/* Responsive Design */
@media (max-width: 768px) {
    .settings-nav-item span {
        display: none;
    }
    
    .settings-nav-item {
        justify-content: center;
        padding: 0.75rem;
    }
    
    div[style*="display: flex"][style*="gap: 2rem"] {
        flex-direction: column;
    }
    
    div[style*="width: 250px"] {
        width: 60px !important;
    }
}
</style>

<script>
// Settings Module JavaScript Functions

// Settings section navigation
function showSettingsSection(section) {
    // Hide all settings content
    document.querySelectorAll('.settings-content').forEach(content => {
        content.style.display = 'none';
    });
    
    // Remove active class from all nav items
    document.querySelectorAll('.settings-nav-item').forEach(item => {
        item.classList.remove('active');
    });
    
    // Show selected section
    const sectionMap = {
        'profile': 'profileSettings',
        'organization': 'organizationSettings',
        'security': 'securitySettings',
        'notifications': 'notificationSettings',
        'api': 'apiSettings',
        'database': 'databaseSettings',
        'users': 'usersSettings',
        'permissions': 'permissionsSettings',
        'integrations': 'integrationsSettings',
        'backup': 'backupSettings',
        'monitoring': 'monitoringSettings',
        'audit': 'auditSettings',
        'appearance': 'appearanceSettings',
        'advanced': 'advancedSettings'
    };
    
    const sectionElement = document.getElementById(sectionMap[section]);
    if (sectionElement) {
        sectionElement.style.display = 'block';
    }
    
    // Add active class to clicked nav item
    event.target.classList.add('active');
}

// General settings functions
function exportSettings() {
    alert('Exporting all settings...\n\nSettings will be downloaded as JSON file.');
}

function importSettings() {
    alert('Import Settings\n\nPlease select a JSON file containing your settings configuration.');
}

function saveAllSettings() {
    alert('Saving all settings...\n\n‚úì Profile settings saved\n‚úì Organization settings saved\n‚úì Security settings saved\n‚úì All changes applied successfully!');
}

// Profile settings functions
function saveProfileSettings() {
    alert('Profile settings saved successfully!');
}

function cancelProfileChanges() {
    if (confirm('Discard unsaved changes?')) {
        alert('Changes discarded.');
    }
}

// Organization settings functions
function saveOrganizationSettings() {
    alert('Organization settings updated successfully!');
}

// Security settings functions
function changePassword() {
    alert('Password change request submitted.\n\nYou will receive a confirmation email shortly.');
}

function configureTwoFactor() {
    alert('Opening 2FA configuration...\n\nScan the QR code with your authenticator app.');
}

function disableTwoFactor() {
    if (confirm('Are you sure you want to disable two-factor authentication?\n\nThis will make your account less secure.')) {
        alert('Two-factor authentication has been disabled.');
    }
}

function revokeSession(sessionId) {
    if (confirm('Revoke this session?\n\nThe device will be logged out immediately.')) {
        alert(`Session ${sessionId} has been revoked.`);
    }
}

function revokeAllSessions() {
    if (confirm('Revoke all other sessions?\n\nAll other devices will be logged out.')) {
        alert('All other sessions have been revoked.');
    }
}

function saveSecuritySettings() {
    alert('Security settings saved successfully!');
}

// Notification settings functions
function saveNotificationSettings() {
    alert('Notification preferences updated successfully!');
}

// API settings functions
function regenerateApiKey(type) {
    if (confirm(`Regenerate ${type} API key?\n\nExisting integrations using this key will stop working.`)) {
        alert(`New ${type} API key generated:\n\nipa_${type}_sk_${Math.random().toString(36).substring(2, 15)}`);
    }
}

function revokeApiKey(type) {
    if (confirm(`Revoke ${type} API key?\n\nThis action cannot be undone.`)) {
        alert(`${type} API key has been revoked.`);
    }
}

function generateNewApiKey() {
    alert('Generate New API Key\n\n‚Ä¢ Select key type (Production/Development/Test)\n‚Ä¢ Set permissions\n‚Ä¢ Set expiration (optional)\n‚Ä¢ Generate key');
}

function testWebhook() {
    alert('Testing webhook...\n\nSending test payload to configured URL.\n\n‚úì Webhook test successful!');
}

function saveApiSettings() {
    alert('API configuration saved successfully!');
}

// Database settings functions
function testDatabaseConnection() {
    alert('Testing database connection...\n\n‚úì Connection successful!\nResponse time: 45ms');
}

function optimizeDatabase() {
    if (confirm('Optimize database tables?\n\nThis may take several minutes.')) {
        alert('Database optimization started...\n\nYou will be notified when complete.');
    }
}

function analyzeDatabase() {
    alert('Analyzing database performance...\n\n‚Ä¢ Query performance: Optimal\n‚Ä¢ Index usage: 92%\n‚Ä¢ Cache hit rate: 87%\n‚Ä¢ Recommendations: 3 indexes can be optimized');
}

function cleanupDatabase() {
    if (confirm('Clean up old data?\n\nThis will remove data older than retention period.')) {
        alert('Database cleanup started...\n\nEstimated time: 15 minutes');
    }
}

function rebuildIndexes() {
    if (confirm('Rebuild all indexes?\n\nThis may impact performance temporarily.')) {
        alert('Index rebuild started...\n\nEstimated time: 30 minutes');
    }
}

function saveDatabaseSettings() {
    alert('Database settings saved successfully!');
}

// User management functions
function addNewUser() {
    alert('Add New User\n\n‚Ä¢ Enter email address\n‚Ä¢ Select role\n‚Ä¢ Assign department\n‚Ä¢ Set permissions\n‚Ä¢ Send invitation');
}

function editUser(userId) {
    alert(`Editing user: ${userId}\n\nOpening user edit form...`);
}

function suspendUser(userId) {
    if (confirm(`Suspend user ${userId}?\n\nThe user will be unable to access the platform.`)) {
        alert(`User ${userId} has been suspended.`);
    }
}

function activateUser(userId) {
    alert(`Activating user ${userId}...\n\nUser activated successfully!`);
}

function resendInvite(userId) {
    alert(`Invitation resent to user ${userId}`);
}

// Backup functions
function createManualBackup() {
    if (confirm('Create manual backup?\n\nThis may take several minutes depending on database size.')) {
        alert('Backup started...\n\nEstimated time: 45 minutes\nYou will be notified when complete.');
    }
}

function downloadBackup(backupId) {
    alert(`Downloading backup: ${backupId}\n\nSize: 2.4 TB\nEstimated time: Several hours`);
}

function restoreBackup(backupId) {
    if (confirm(`Restore from backup ${backupId}?\n\nWARNING: This will replace all current data!\n\nAre you absolutely sure?`)) {
        alert('Restore process initiated...\n\nThe system will be in maintenance mode during restore.');
    }
}

function saveBackupSettings() {
    alert('Backup settings saved successfully!');
}

// Monitoring functions
function saveMonitoringSettings() {
    alert('Monitoring settings saved successfully!\n\nAlert thresholds updated.');
}

// Initialize settings
document.addEventListener('DOMContentLoaded', function() {
    console.log('Settings module initialized');
});
</script>
        </div>
    </div>

    <!-- State Detail Modal -->
    <div class="modal" id="stateModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalStateTitle">State Details</h2>
                <button class="btn btn-secondary btn-icon" onclick="closeModal('stateModal')">‚úï</button>
            </div>
            <div class="modal-body">
                <div class="dashboard-grid" id="modalStateStats">
                    <!-- Stats will be populated -->
                </div>
                <div style="margin-top: 2rem;">
                    <h3 style="margin-bottom: 1rem;">District-wise Breakdown</h3>
                    <div id="modalDistrictList" class="state-grid">
                        <!-- Districts will be populated -->
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeModal('stateModal')">Close</button>
                <button class="btn btn-primary">Open State Dashboard</button>
            </div>
        </div>
    </div>

    <script>
        // Complete Indian States Data with realistic numbers
        const indianStates = {
            'Andhra Pradesh': { 
                type: 'state', region: 'south', districts: 26, gps: 13326, agents: 14250, capital: 'Amaravati',
                staff: 1250, revenue: 18.5, applications: 385000, successRate: 91.2, population: 49.39
            },
            'Arunachal Pradesh': { 
                type: 'state', region: 'northeast', districts: 25, gps: 2142, agents: 2300, capital: 'Itanagar',
                staff: 215, revenue: 2.8, applications: 52000, successRate: 87.5, population: 1.38
            },
            'Assam': { 
                type: 'state', region: 'northeast', districts: 35, gps: 26247, agents: 28100, capital: 'Dispur',
                staff: 1850, revenue: 21.3, applications: 425000, successRate: 89.8, population: 31.17
            },
            'Bihar': { 
                type: 'state', region: 'east', districts: 38, gps: 8473, agents: 9050, capital: 'Patna',
                staff: 1420, revenue: 15.6, applications: 345000, successRate: 88.2, population: 103.8
            },
            'Chhattisgarh': { 
                type: 'state', region: 'central', districts: 28, gps: 11666, agents: 12450, capital: 'Raipur',
                staff: 980, revenue: 12.8, applications: 285000, successRate: 90.5, population: 25.5
            },
            'Goa': { 
                type: 'state', region: 'west', districts: 2, gps: 191, agents: 205, capital: 'Panaji',
                staff: 45, revenue: 1.2, applications: 18000, successRate: 94.8, population: 1.46
            },
            'Gujarat': { 
                type: 'state', region: 'west', districts: 33, gps: 18583, agents: 19850, capital: 'Gandhinagar',
                staff: 1650, revenue: 24.5, applications: 485000, successRate: 92.3, population: 60.44
            },
            'Haryana': { 
                type: 'state', region: 'north', districts: 22, gps: 6222, agents: 6650, capital: 'Chandigarh',
                staff: 785, revenue: 11.2, applications: 235000, successRate: 91.8, population: 25.35
            },
            'Himachal Pradesh': { 
                type: 'state', region: 'north', districts: 12, gps: 3615, agents: 3860, capital: 'Shimla',
                staff: 425, revenue: 5.8, applications: 125000, successRate: 90.2, population: 6.86
            },
            'Jharkhand': { 
                type: 'state', region: 'east', districts: 24, gps: 4434, agents: 4730, capital: 'Ranchi',
                staff: 685, revenue: 8.5, applications: 185000, successRate: 87.9, population: 32.97
            },
            'Karnataka': { 
                type: 'state', region: 'south', districts: 31, gps: 6012, agents: 6420, capital: 'Bengaluru',
                staff: 983, revenue: 18.2, applications: 360500, successRate: 93.5, population: 61.13
            },
            'Kerala': { 
                type: 'state', region: 'south', districts: 14, gps: 1022, agents: 1090, capital: 'Thiruvananthapuram',
                staff: 285, revenue: 6.8, applications: 142000, successRate: 95.2, population: 33.39
            },
            'Madhya Pradesh': { 
                type: 'state', region: 'central', districts: 52, gps: 23054, agents: 24620, capital: 'Bhopal',
                staff: 2150, revenue: 28.5, applications: 565000, successRate: 89.5, population: 72.6
            },
            'Maharashtra': { 
                type: 'state', region: 'west', districts: 36, gps: 27920, agents: 29820, capital: 'Mumbai',
                staff: 2850, revenue: 42.5, applications: 825000, successRate: 92.8, population: 112.37
            },
            'Manipur': { 
                type: 'state', region: 'northeast', districts: 16, gps: 171, agents: 183, capital: 'Imphal',
                staff: 95, revenue: 1.5, applications: 28000, successRate: 86.5, population: 2.86
            },
            'Meghalaya': { 
                type: 'state', region: 'northeast', districts: 11, gps: 6139, agents: 6560, capital: 'Shillong',
                staff: 485, revenue: 4.2, applications: 85000, successRate: 88.2, population: 2.96
            },
            'Mizoram': { 
                type: 'state', region: 'northeast', districts: 11, gps: 762, agents: 814, capital: 'Aizawl',
                staff: 125, revenue: 1.8, applications: 32000, successRate: 87.8, population: 1.09
            },
            'Nagaland': { 
                type: 'state', region: 'northeast', districts: 12, gps: 1325, agents: 1415, capital: 'Kohima',
                staff: 185, revenue: 2.2, applications: 42000, successRate: 86.9, population: 1.98
            },
            'Odisha': { 
                type: 'state', region: 'east', districts: 30, gps: 6798, agents: 7260, capital: 'Bhubaneswar',
                staff: 925, revenue: 12.5, applications: 265000, successRate: 90.2, population: 41.95
            },
            'Punjab': { 
                type: 'state', region: 'north', districts: 23, gps: 13219, agents: 14120, capital: 'Chandigarh',
                staff: 1150, revenue: 16.8, applications: 325000, successRate: 92.5, population: 27.7
            },
            'Rajasthan': { 
                type: 'state', region: 'north', districts: 33, gps: 11241, agents: 12010, capital: 'Jaipur',
                staff: 1450, revenue: 19.5, applications: 395000, successRate: 90.8, population: 68.55
            },
            'Sikkim': { 
                type: 'state', region: 'northeast', districts: 4, gps: 177, agents: 189, capital: 'Gangtok',
                staff: 65, revenue: 0.9, applications: 15000, successRate: 91.2, population: 0.61
            },
            'Tamil Nadu': { 
                type: 'state', region: 'south', districts: 38, gps: 12524, agents: 13380, capital: 'Chennai',
                staff: 1680, revenue: 22.5, applications: 465000, successRate: 93.8, population: 72.15
            },
            'Telangana': { 
                type: 'state', region: 'south', districts: 33, gps: 12751, agents: 13620, capital: 'Hyderabad',
                staff: 1385, revenue: 19.8, applications: 385000, successRate: 92.2, population: 35.19
            },
            'Tripura': { 
                type: 'state', region: 'northeast', districts: 8, gps: 875, agents: 935, capital: 'Agartala',
                staff: 145, revenue: 2.1, applications: 42000, successRate: 88.5, population: 3.67
            },
            'Uttar Pradesh': { 
                type: 'state', region: 'north', districts: 75, gps: 58194, agents: 62150, capital: 'Lucknow',
                staff: 4850, revenue: 58.5, applications: 1250000, successRate: 89.2, population: 199.58
            },
            'Uttarakhand': { 
                type: 'state', region: 'north', districts: 13, gps: 7935, agents: 8475, capital: 'Dehradun',
                staff: 685, revenue: 8.8, applications: 185000, successRate: 90.5, population: 10.12
            },
            'West Bengal': { 
                type: 'state', region: 'east', districts: 23, gps: 3358, agents: 3585, capital: 'Kolkata',
                staff: 1250, revenue: 16.5, applications: 345000, successRate: 91.5, population: 91.28
            },
            'Andaman and Nicobar': { 
                type: 'ut', region: 'south', districts: 3, gps: 77, agents: 82, capital: 'Port Blair',
                staff: 35, revenue: 0.5, applications: 8500, successRate: 89.5, population: 0.38
            },
            'Chandigarh': { 
                type: 'ut', region: 'north', districts: 1, gps: 0, agents: 45, capital: 'Chandigarh',
                staff: 25, revenue: 0.8, applications: 15000, successRate: 94.2, population: 1.05
            },
            'DNH and DD': { 
                type: 'ut', region: 'west', districts: 3, gps: 23, agents: 25, capital: 'Daman',
                staff: 18, revenue: 0.3, applications: 5200, successRate: 90.5, population: 0.59
            },
            'Delhi': { 
                type: 'ut', region: 'north', districts: 11, gps: 0, agents: 1850, capital: 'New Delhi',
                staff: 425, revenue: 12.5, applications: 285000, successRate: 93.5, population: 16.78
            },
            'Jammu and Kashmir': { 
                type: 'ut', region: 'north', districts: 20, gps: 4290, agents: 4580, capital: 'Srinagar/Jammu',
                staff: 685, revenue: 8.2, applications: 165000, successRate: 88.2, population: 12.55
            },
            'Ladakh': { 
                type: 'ut', region: 'north', districts: 2, gps: 0, agents: 125, capital: 'Leh',
                staff: 45, revenue: 0.6, applications: 12000, successRate: 87.5, population: 0.27
            },
            'Lakshadweep': { 
                type: 'ut', region: 'south', districts: 1, gps: 0, agents: 15, capital: 'Kavaratti',
                staff: 12, revenue: 0.1, applications: 2500, successRate: 91.2, population: 0.06
            },
            'Puducherry': { 
                type: 'ut', region: 'south', districts: 4, gps: 105, agents: 112, capital: 'Puducherry',
                staff: 52, revenue: 1.2, applications: 22000, successRate: 92.5, population: 1.25
            }
        };

        let currentSection = 'dashboard';

        document.addEventListener('DOMContentLoaded', function() {
            populateStates();
            populateTopStatesTable();
            document.getElementById('stateSearch').addEventListener('input', filterStates);
        });

        function showSection(section) {
            document.querySelectorAll('section').forEach(s => s.style.display = 'none');
            document.getElementById(section + 'Section').style.display = 'block';
            
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            event.target.classList.add('active');
            
            const sectionNames = {
                'dashboard': 'Dashboard',
                'states': 'States & UTs',
                'hierarchy': 'Hierarchy',
                'districts': 'Districts',
                'staff': 'Staff',
                'agents': 'Agents',
                'finance': 'Finance',
                'operations': 'Operations',
                'services': 'Services',
                'analytics': 'Analytics',
                'reports': 'Reports',
                'settings': 'Settings'
            };
            
            document.getElementById('breadcrumbCurrent').textContent = sectionNames[section];
            currentSection = section;
        }

        function populateStates() {
            const grid = document.getElementById('stateGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            Object.entries(indianStates)
                .sort((a, b) => b[1].revenue - a[1].revenue)
                .forEach(([name, data]) => {
                const card = document.createElement('div');
                card.className = 'state-card';
                card.setAttribute('data-region', data.region);
                card.setAttribute('data-type', data.type);
                card.setAttribute('data-performance', data.successRate >= 90 ? 'high' : data.successRate >= 80 ? 'average' : 'low');
                
                const badgeClass = data.type === 'state' ? 'badge-success' : 'badge-info';
                const typeLabel = data.type === 'state' ? 'State' : 'UT';
                const performanceBadge = data.successRate >= 90 ? 
                    '<span class="badge badge-success" style="margin-left: 0.5rem;">High Performance</span>' :
                    data.successRate >= 80 ? 
                    '<span class="badge badge-warning" style="margin-left: 0.5rem;">Average</span>' :
                    '<span class="badge badge-danger" style="margin-left: 0.5rem;">Needs Attention</span>';
                
                card.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 1rem;">
                        <div class="state-name">${name}</div>
                        <div>
                            <span class="badge ${badgeClass}">${typeLabel}</span>
                            ${performanceBadge}
                        </div>
                    </div>
                    <div class="state-stats">
                        <div class="state-stat-item">
                            <div class="state-stat-value">${data.districts}</div>
                            <div class="state-stat-label">Districts</div>
                        </div>
                        <div class="state-stat-item">
                            <div class="state-stat-value">${(data.agents/1000).toFixed(1)}K</div>
                            <div class="state-stat-label">Agents</div>
                        </div>
                        <div class="state-stat-item">
                            <div class="state-stat-value">${(data.gps/1000).toFixed(1)}K</div>
                            <div class="state-stat-label">GPs</div>
                        </div>
                    </div>
                    <div style="margin-top: 1rem; padding-top: 1rem; border-top: 1px solid var(--gray-200);">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="color: var(--text-muted); font-size: 0.85rem;">Monthly Revenue</span>
                            <span style="font-weight: 600; color: var(--success);">‚Çπ${data.revenue} Cr</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <span style="color: var(--text-muted); font-size: 0.85rem;">Applications</span>
                            <span style="font-weight: 600;">${(data.applications/1000).toFixed(0)}K</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span style="color: var(--text-muted); font-size: 0.85rem;">Success Rate</span>
                            <span style="font-weight: 600; color: var(--primary-color);">${data.successRate}%</span>
                        </div>
                    </div>
                    <div style="margin-top: 0.75rem; padding-top: 0.75rem; border-top: 1px solid var(--gray-200); font-size: 0.8rem; color: var(--text-muted); display: flex; justify-content: space-between;">
                        <span>Capital: ${data.capital}</span>
                        <span>Pop: ${data.population}M</span>
                    </div>
                `;
                
                card.onclick = () => viewStateDetails(name, data);
                grid.appendChild(card);
            });
        }

        function populateTopStatesTable() {
            const tbody = document.getElementById('topStatesTable');
            if (!tbody) return;
            
            const topStates = Object.entries(indianStates)
                .sort((a, b) => b[1].revenue - a[1].revenue)
                .slice(0, 10);
            
            topStates.forEach(([name, data], index) => {
                const medal = index === 0 ? 'üèÜ' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : '';
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="font-size: 1.1rem; font-weight: 700;">${medal} ${index + 1}</td>
                    <td>
                        <div style="font-weight: 600;">${name}</div>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">${data.capital}</div>
                    </td>
                    <td>${data.districts}</td>
                    <td>
                        <div style="font-weight: 600;">${(data.agents/1000).toFixed(1)}K</div>
                        <div style="font-size: 0.8rem; color: var(--text-muted);">agents</div>
                    </td>
                    <td>
                        <div style="font-weight: 600;">${(data.applications/1000).toFixed(0)}K</div>
                        <div style="font-size: 0.8rem; color: var(--success);">‚Üë ${(Math.random() * 15 + 5).toFixed(1)}%</div>
                    </td>
                    <td style="font-weight: 600; color: var(--success);">‚Çπ${data.revenue} Cr</td>
                    <td>
                        <span class="badge ${data.successRate >= 90 ? 'badge-success' : 'badge-warning'}">${data.successRate}%</span>
                    </td>
                    <td>
                        <button class="btn btn-secondary" onclick='viewStateDetails("${name}", ${JSON.stringify(data)})'>View</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function filterStates() {
            const search = document.getElementById('stateSearch')?.value.toLowerCase() || '';
            const region = document.getElementById('regionFilter')?.value || 'all';
            const type = document.getElementById('typeFilter')?.value || 'all';
            const performance = document.getElementById('performanceFilter')?.value || 'all';
            
            document.querySelectorAll('.state-card').forEach(card => {
                const stateName = card.querySelector('.state-name').textContent.toLowerCase();
                const stateRegion = card.getAttribute('data-region');
                const stateType = card.getAttribute('data-type');
                const statePerformance = card.getAttribute('data-performance');
                
                const matchesSearch = search === '' || stateName.includes(search);
                const matchesRegion = region === 'all' || stateRegion === region;
                const matchesType = type === 'all' || stateType === type;
                const matchesPerformance = performance === 'all' || statePerformance === performance;
                
                card.style.display = matchesSearch && matchesRegion && matchesType && matchesPerformance ? 'block' : 'none';
            });
        }

        function viewStateDetails(stateName, data) {
            document.getElementById('modalStateTitle').textContent = `${stateName} - Detailed Overview`;
            
            const statsHtml = `
                <div class="stat-card">
                    <div class="stat-icon">üè¢</div>
                    <div class="stat-value">${data.districts}</div>
                    <div class="stat-label">Districts</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-value">${(data.agents/1000).toFixed(1)}K</div>
                    <div class="stat-label">Active Agents</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üè°</div>
                    <div class="stat-value">${(data.gps/1000).toFixed(1)}K</div>
                    <div class="stat-label">Gram Panchayats</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë®‚Äçüíº</div>
                    <div class="stat-value">${data.staff}</div>
                    <div class="stat-label">Total Staff</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí∞</div>
                    <div class="stat-value">‚Çπ${data.revenue} Cr</div>
                    <div class="stat-label">Monthly Revenue</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìù</div>
                    <div class="stat-value">${(data.applications/1000).toFixed(0)}K</div>
                    <div class="stat-label">Applications</div>
                </div>
            `;
            
            document.getElementById('modalStateStats').innerHTML = statsHtml;
            document.getElementById('stateModal').classList.add('active');
        }

        function closeModal(modalId) {
            document.getElementById(modalId).classList.remove('active');
        }

        // Close modal on outside click
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.classList.remove('active');
            }
        }
    </script>
</body>
</html>