<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GENOME - Users API Documentation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #0f172a;
            color: #e2e8f0;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: linear-gradient(135deg, #059669 0%, #0d9488 100%);
            padding: 40px 20px;
            text-align: center;
            border-radius: 12px;
            margin-bottom: 30px;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        header p {
            font-size: 1.1rem;
            opacity: 0.9;
        }

        .base-url {
            background: #1e293b;
            padding: 15px 25px;
            border-radius: 8px;
            margin-bottom: 30px;
            border-left: 4px solid #22c55e;
        }

        .base-url code {
            color: #22c55e;
            font-size: 1.1rem;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: #1e293b;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: #10b981;
        }

        .stat-label {
            color: #94a3b8;
            margin-top: 5px;
        }

        .section-title {
            font-size: 1.5rem;
            color: #f1f5f9;
            margin: 30px 0 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #334155;
        }

        .card {
            background: #1e293b;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 20px;
            border: 1px solid #334155;
        }

        .endpoint {
            background: #0f172a;
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            border: 1px solid #334155;
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .method {
            padding: 6px 14px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 0.85rem;
            min-width: 70px;
            text-align: center;
        }

        .method.get { background: #22c55e; color: #0f172a; }
        .method.post { background: #3b82f6; color: white; }
        .method.put { background: #f59e0b; color: #0f172a; }
        .method.delete { background: #ef4444; color: white; }
        .method.patch { background: #8b5cf6; color: white; }

        .endpoint-path {
            font-family: 'Courier New', monospace;
            color: #e2e8f0;
            font-size: 1rem;
            flex: 1;
        }

        .endpoint-desc {
            color: #94a3b8;
            margin-bottom: 15px;
        }

        .code-block {
            background: #020617;
            border-radius: 8px;
            padding: 15px;
            overflow-x: auto;
            margin-top: 10px;
        }

        .code-block pre {
            color: #a5f3fc;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
            white-space: pre-wrap;
        }

        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }

        .params-table th, .params-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #334155;
        }

        .params-table th {
            color: #94a3b8;
            font-weight: 600;
            background: #1e293b;
        }

        .param-required {
            background: #ef4444;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .param-optional {
            background: #64748b;
            color: white;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
        }

        .copy-btn {
            background: #334155;
            border: none;
            color: #94a3b8;
            padding: 6px 12px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.8rem;
        }

        .copy-btn:hover {
            background: #475569;
            color: white;
        }

        h3 {
            color: #94a3b8;
            font-size: 0.9rem;
            margin: 15px 0 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .field-group {
            margin-bottom: 20px;
        }

        .field-group-title {
            color: #10b981;
            font-size: 1rem;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .note-box {
            background: #1e3a5f;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            border-radius: 0 8px 8px 0;
            margin: 15px 0;
        }

        .note-box.warning {
            background: #3d2a1e;
            border-left-color: #f59e0b;
        }

        .note-box.success {
            background: #1a3d2e;
            border-left-color: #22c55e;
        }

        .back-link {
            display: inline-block;
            color: #94a3b8;
            text-decoration: none;
            margin-bottom: 20px;
        }

        .back-link:hover {
            color: #e2e8f0;
        }

        @media (max-width: 768px) {
            .endpoint-header {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="api-documentation.html" class="back-link">&larr; Back to Main Documentation</a>

        <header>
            <h1>Users API</h1>
            <p>Complete User Management - Create, Read, Update, Delete with Admin Approval Workflow</p>
        </header>

        <div class="base-url">
            <strong>Base URL:</strong> <code>http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com</code>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value">12</div>
                <div class="stat-label">API Endpoints</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">80+</div>
                <div class="stat-label">User Fields</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">37</div>
                <div class="stat-label">State Partitions</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">900M+</div>
                <div class="stat-label">Users Capacity</div>
            </div>
        </div>

        <div class="note-box success">
            <strong>Partitioned Table:</strong> Users table is partitioned by state_code for high performance. Always include state_code in queries for optimal partition lookup.
        </div>

        <!-- ========================================== -->
        <!-- CREATE USER -->
        <!-- ========================================== -->
        <h2 class="section-title">1. Create User</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/users/create</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/create')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Create a new user with minimal required fields. Additional details can be added later via update.</p>

                <h3>Required Fields</h3>
                <table class="params-table">
                    <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    <tr><td>mobile</td><td>string</td><td><span class="param-required">Required</span> 10-digit mobile number</td></tr>
                    <tr><td>full_name</td><td>string</td><td><span class="param-required">Required</span> Full name (2-255 characters)</td></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> 2-letter state code (MH, UP, DL, KA, TN, etc.)</td></tr>
                </table>

                <h3>Optional Fields</h3>
                <table class="params-table">
                    <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    <tr><td>email</td><td>string</td><td><span class="param-optional">Optional</span> Email address</td></tr>
                    <tr><td>full_name_hindi</td><td>string</td><td><span class="param-optional">Optional</span> Full name in Hindi</td></tr>
                    <tr><td>date_of_birth</td><td>string</td><td><span class="param-optional">Optional</span> Format: YYYY-MM-DD</td></tr>
                    <tr><td>gender</td><td>string</td><td><span class="param-optional">Optional</span> male, female, other</td></tr>
                    <tr><td>current_city</td><td>string</td><td><span class="param-optional">Optional</span> Current city</td></tr>
                    <tr><td>current_pincode</td><td>string</td><td><span class="param-optional">Optional</span> 6-digit pincode</td></tr>
                    <tr><td>entered_by</td><td>string</td><td><span class="param-optional">Optional</span> self, agent, admin</td></tr>
                    <tr><td>agent_details</td><td>object</td><td><span class="param-optional">Optional</span> Agent info if entered_by is "agent"</td></tr>
                </table>

                <h3>Request Example</h3>
                <div class="code-block">
                    <pre>{
  "mobile": "9876543210",
  "full_name": "Rajesh Kumar",
  "state_code": "MH",
  "email": "rajesh@example.com",
  "full_name_hindi": "राजेश कुमार",
  "date_of_birth": "1990-05-15",
  "gender": "male",
  "current_city": "Mumbai",
  "current_pincode": "400001",
  "entered_by": "agent",
  "agent_details": {
    "agent_id": "AGT001",
    "agent_name": "Agent Name",
    "agent_mobile": "9999999999",
    "agent_center": "Mumbai Central",
    "remarks": "Walk-in customer"
  }
}</pre>
                </div>

                <h3>Response Example (201 Created)</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "User created successfully",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "state_code": "MH",
    "mobile": "9876543210",
    "full_name": "Rajesh Kumar",
    "full_name_hindi": "राजेश कुमार",
    "email": "rajesh@example.com",
    "date_of_birth": "1990-05-15",
    "gender": "male",
    "current_city": "Mumbai",
    "current_pincode": "400001",
    "status": "active",
    "kyc_status": "pending",
    "entered_by": "agent",
    "agent_details": {...},
    "preferred_language": "en",
    "notification_enabled": true,
    "created_at": "2025-12-23T10:00:00Z"
  }
}</pre>
                </div>

                <div class="note-box warning">
                    <strong>Unique Constraint:</strong> Mobile number must be unique per state. Same mobile can exist in different states.
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- CHECK MOBILE EXISTS -->
        <!-- ========================================== -->
        <h2 class="section-title">2. Check Mobile Exists</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/check-mobile</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/check-mobile?mobile=9876543210&state_code=MH')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Check if a mobile number already exists in a state before creating user.</p>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>mobile</td><td>string</td><td><span class="param-required">Required</span> 10-digit mobile number</td></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> 2-letter state code</td></tr>
                </table>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "Mobile check completed",
  "data": {
    "mobile": "9876543210",
    "state_code": "MH",
    "exists": false
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- LIST USERS -->
        <!-- ========================================== -->
        <h2 class="section-title">3. List Users</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/list</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/list?state_code=MH&page=1&per_page=20')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Get paginated list of users with optional filters. Returns summary data for each user.</p>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-optional">Optional</span> Filter by state code (recommended for performance)</td></tr>
                    <tr><td>status</td><td>string</td><td><span class="param-optional">Optional</span> active, inactive, suspended, deleted</td></tr>
                    <tr><td>page</td><td>int</td><td><span class="param-optional">Optional</span> Page number (default: 1)</td></tr>
                    <tr><td>per_page</td><td>int</td><td><span class="param-optional">Optional</span> Items per page (default: 20, max: 100)</td></tr>
                </table>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "Users retrieved",
  "data": [
    {
      "id": "550e8400-e29b-41d4-a716-446655440000",
      "mobile": "9876543210",
      "full_name": "Rajesh Kumar",
      "email": "rajesh@example.com",
      "gender": "male",
      "current_city": "Mumbai",
      "current_district": "Mumbai",
      "state_code": "MH",
      "status": "active",
      "kyc_status": "pending",
      "is_deleted": false,
      "created_at": "2025-12-23T10:00:00Z"
    }
  ],
  "meta": {
    "page": 1,
    "per_page": 20,
    "total": 150,
    "total_pages": 8
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- GET USER BY ID -->
        <!-- ========================================== -->
        <h2 class="section-title">4. Get User by ID</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/{id}</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/550e8400-e29b-41d4-a716-446655440000?state_code=MH')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Get complete user details by ID. Returns all 80+ fields.</p>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>id</td><td>UUID</td><td><span class="param-required">Required</span> User's UUID</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code (for partition lookup)</td></tr>
                </table>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "User retrieved",
  "data": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "state_code": "MH",

    "mobile": "9876543210",
    "mobile_verified": true,
    "email": "rajesh@example.com",
    "email_verified": false,

    "full_name": "Rajesh Kumar",
    "full_name_hindi": "राजेश कुमार",
    "father_name": "Suresh Kumar",
    "father_name_hindi": "सुरेश कुमार",
    "mother_name": "Sunita Devi",
    "date_of_birth": "1990-05-15",
    "gender": "male",
    "marital_status": "married",
    "spouse_name": "Priya Kumar",
    "religion": "hindu",
    "caste": "Kumar",
    "caste_category": "general",
    "nationality": "Indian",
    "profile_photo_url": "https://...",

    "aadhaar_verified": true,
    "aadhaar_linked_mobile": "9876543210",
    "pan_number": "ABCDE1234F",
    "pan_verified": true,
    "voter_id": "ABC1234567",
    "voter_id_verified": false,
    "passport_number": null,
    "driving_license": "MH-01-2020-1234567",
    "ration_card_number": "MH123456789",
    "ration_card_type": "APL",

    "current_address_line1": "123, Main Street",
    "current_address_line2": "Near City Mall",
    "current_landmark": "Opposite Metro Station",
    "current_village": null,
    "current_gram_panchayat": null,
    "current_block": null,
    "current_tehsil": null,
    "current_city": "Mumbai",
    "current_district": "Mumbai",
    "current_state_code": "MH",
    "current_pincode": "400001",

    "permanent_address_line1": "456, Home Street",
    "permanent_city": "Pune",
    "permanent_district": "Pune",
    "permanent_state_code": "MH",
    "permanent_pincode": "411001",
    "same_as_current_address": false,

    "document_address": "As per Aadhaar card",

    "occupation": "Software Engineer",
    "occupation_type": "salaried",
    "employer_name": "TCS",
    "employer_address": "Airoli, Navi Mumbai",
    "designation": "Senior Developer",
    "annual_income": 1500000,
    "income_source": "salary",
    "is_income_tax_payer": true,

    "education_level": "graduate",
    "education_details": "B.Tech Computer Science",

    "bank_account_number": "1234567890",
    "bank_name": "State Bank of India",
    "bank_branch": "Mumbai Main",
    "bank_ifsc": "SBIN0001234",
    "bank_verified": true,

    "status": "active",
    "kyc_status": "verified",
    "is_deleted": false,
    "deletion_status": null,

    "preferred_language": "en",
    "notification_enabled": true,
    "sms_enabled": true,
    "email_notification_enabled": true,
    "whatsapp_enabled": true,
    "whatsapp_number": "9876543210",

    "entered_by": "agent",
    "agent_details": {
      "agent_id": "AGT001",
      "agent_name": "Agent Name",
      "agent_mobile": "9999999999",
      "agent_center": "Mumbai Central"
    },

    "last_login_at": "2025-12-22T18:30:00Z",
    "login_count": 45,
    "failed_login_attempts": 0,

    "extra_field_01": "Custom Value 1",
    "extra_field_02": "Custom Value 2",
    "extra_field_03": null,
    "extra_data": null,

    "created_at": "2025-01-15T10:00:00Z",
    "updated_at": "2025-12-22T18:30:00Z"
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- GET USER BY MOBILE -->
        <!-- ========================================== -->
        <h2 class="section-title">5. Get User by Mobile</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/mobile/{mobile}</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/mobile/9876543210?state_code=MH')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Get user by mobile number. Useful for lookup before creating or during login.</p>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>mobile</td><td>string</td><td><span class="param-required">Required</span> 10-digit mobile number</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Response</h3>
                <p>Same as Get User by ID response.</p>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- UPDATE USER -->
        <!-- ========================================== -->
        <h2 class="section-title">6. Update User</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method put">PUT</span>
                    <span class="endpoint-path">/api/v1/users/{id}</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/550e8400-e29b-41d4-a716-446655440000?state_code=MH')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Update user details. Send only the fields you want to update - all fields are optional.</p>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>id</td><td>UUID</td><td><span class="param-required">Required</span> User's UUID</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Updatable Fields (All Optional)</h3>

                <div class="field-group">
                    <div class="field-group-title">Basic Information</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>full_name</td><td>string</td><td>Full name</td></tr>
                        <tr><td>full_name_hindi</td><td>string</td><td>Full name in Hindi</td></tr>
                        <tr><td>father_name</td><td>string</td><td>Father's name</td></tr>
                        <tr><td>father_name_hindi</td><td>string</td><td>Father's name in Hindi</td></tr>
                        <tr><td>mother_name</td><td>string</td><td>Mother's name</td></tr>
                        <tr><td>mother_name_hindi</td><td>string</td><td>Mother's name in Hindi</td></tr>
                        <tr><td>spouse_name</td><td>string</td><td>Spouse's name</td></tr>
                        <tr><td>spouse_name_hindi</td><td>string</td><td>Spouse's name in Hindi</td></tr>
                        <tr><td>date_of_birth</td><td>string</td><td>Format: YYYY-MM-DD</td></tr>
                        <tr><td>gender</td><td>string</td><td>male, female, other</td></tr>
                        <tr><td>marital_status</td><td>string</td><td>single, married, divorced, widowed</td></tr>
                        <tr><td>religion</td><td>string</td><td>Religion</td></tr>
                        <tr><td>caste</td><td>string</td><td>Caste</td></tr>
                        <tr><td>caste_category</td><td>string</td><td>general, obc, sc, st, ews</td></tr>
                        <tr><td>profile_photo_url</td><td>string</td><td>Profile photo URL</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Identity Documents</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>pan_number</td><td>string</td><td>PAN card number</td></tr>
                        <tr><td>voter_id</td><td>string</td><td>Voter ID number</td></tr>
                        <tr><td>passport_number</td><td>string</td><td>Passport number</td></tr>
                        <tr><td>passport_expiry</td><td>string</td><td>Passport expiry date</td></tr>
                        <tr><td>driving_license</td><td>string</td><td>Driving license number</td></tr>
                        <tr><td>driving_license_expiry</td><td>string</td><td>DL expiry date</td></tr>
                        <tr><td>ration_card_number</td><td>string</td><td>Ration card number</td></tr>
                        <tr><td>ration_card_type</td><td>string</td><td>APL, BPL, AAY</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Current Address</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>current_address_line1</td><td>string</td><td>Address line 1</td></tr>
                        <tr><td>current_address_line2</td><td>string</td><td>Address line 2</td></tr>
                        <tr><td>current_landmark</td><td>string</td><td>Landmark</td></tr>
                        <tr><td>current_village</td><td>string</td><td>Village name</td></tr>
                        <tr><td>current_gram_panchayat</td><td>string</td><td>Gram Panchayat</td></tr>
                        <tr><td>current_block</td><td>string</td><td>Block</td></tr>
                        <tr><td>current_tehsil</td><td>string</td><td>Tehsil</td></tr>
                        <tr><td>current_city</td><td>string</td><td>City</td></tr>
                        <tr><td>current_district</td><td>string</td><td>District</td></tr>
                        <tr><td>current_pincode</td><td>string</td><td>6-digit pincode</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Permanent Address</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>permanent_address_line1</td><td>string</td><td>Address line 1</td></tr>
                        <tr><td>permanent_address_line2</td><td>string</td><td>Address line 2</td></tr>
                        <tr><td>permanent_landmark</td><td>string</td><td>Landmark</td></tr>
                        <tr><td>permanent_village</td><td>string</td><td>Village name</td></tr>
                        <tr><td>permanent_gram_panchayat</td><td>string</td><td>Gram Panchayat</td></tr>
                        <tr><td>permanent_block</td><td>string</td><td>Block</td></tr>
                        <tr><td>permanent_tehsil</td><td>string</td><td>Tehsil</td></tr>
                        <tr><td>permanent_city</td><td>string</td><td>City</td></tr>
                        <tr><td>permanent_district</td><td>string</td><td>District</td></tr>
                        <tr><td>permanent_state_code</td><td>string</td><td>2-letter state code</td></tr>
                        <tr><td>permanent_pincode</td><td>string</td><td>6-digit pincode</td></tr>
                        <tr><td>same_as_current_address</td><td>boolean</td><td>If true, permanent = current</td></tr>
                        <tr><td>document_address</td><td>string</td><td>Address as per document</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Occupation & Income</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>occupation</td><td>string</td><td>Occupation title</td></tr>
                        <tr><td>occupation_type</td><td>string</td><td>salaried, self_employed, business, student, retired, homemaker, unemployed</td></tr>
                        <tr><td>employer_name</td><td>string</td><td>Employer/Company name</td></tr>
                        <tr><td>employer_address</td><td>string</td><td>Employer address</td></tr>
                        <tr><td>designation</td><td>string</td><td>Job title/designation</td></tr>
                        <tr><td>annual_income</td><td>number</td><td>Annual income in INR</td></tr>
                        <tr><td>income_source</td><td>string</td><td>Primary income source</td></tr>
                        <tr><td>is_income_tax_payer</td><td>boolean</td><td>Income tax filer</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Education</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>education_level</td><td>string</td><td>illiterate, primary, secondary, higher_secondary, graduate, post_graduate, doctorate</td></tr>
                        <tr><td>education_details</td><td>string</td><td>Degree details</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Bank Details</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>bank_account_number</td><td>string</td><td>Bank account number</td></tr>
                        <tr><td>bank_name</td><td>string</td><td>Bank name</td></tr>
                        <tr><td>bank_branch</td><td>string</td><td>Branch name</td></tr>
                        <tr><td>bank_ifsc</td><td>string</td><td>11-character IFSC code</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Preferences</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>preferred_language</td><td>string</td><td>en (English), hi (Hindi)</td></tr>
                        <tr><td>notification_enabled</td><td>boolean</td><td>Push notifications</td></tr>
                        <tr><td>sms_enabled</td><td>boolean</td><td>SMS notifications</td></tr>
                        <tr><td>email_notification_enabled</td><td>boolean</td><td>Email notifications</td></tr>
                        <tr><td>whatsapp_enabled</td><td>boolean</td><td>WhatsApp notifications</td></tr>
                        <tr><td>whatsapp_number</td><td>string</td><td>WhatsApp number</td></tr>
                    </table>
                </div>

                <div class="field-group">
                    <div class="field-group-title">Extra Fields</div>
                    <table class="params-table">
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                        <tr><td>extra_field_01</td><td>string</td><td>Custom field 1</td></tr>
                        <tr><td>extra_field_02</td><td>string</td><td>Custom field 2</td></tr>
                        <tr><td>extra_field_03</td><td>string</td><td>Custom field 3</td></tr>
                        <tr><td>extra_data</td><td>object</td><td>JSON object for additional data</td></tr>
                    </table>
                </div>

                <h3>Request Example</h3>
                <div class="code-block">
                    <pre>{
  "full_name": "Rajesh Kumar Singh",
  "father_name": "Suresh Kumar",
  "marital_status": "married",
  "spouse_name": "Priya Devi",

  "current_address_line1": "123, New Main Street",
  "current_city": "Mumbai",
  "current_district": "Mumbai",
  "current_pincode": "400002",

  "occupation": "Senior Software Engineer",
  "employer_name": "Infosys",
  "annual_income": 1800000,

  "bank_account_number": "9876543210",
  "bank_name": "HDFC Bank",
  "bank_ifsc": "HDFC0001234",

  "whatsapp_enabled": true,
  "preferred_language": "hi"
}</pre>
                </div>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "User updated successfully",
  "data": { /* Complete updated user object */ }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- DELETE USER (REQUEST DELETION) -->
        <!-- ========================================== -->
        <h2 class="section-title">7. Delete User (Request Deletion)</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method delete">DELETE</span>
                    <span class="endpoint-path">/api/v1/users/{id}</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/550e8400-e29b-41d4-a716-446655440000?state_code=MH')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Request user deletion. This is a soft delete that requires admin approval. User data is preserved until approved.</p>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>id</td><td>UUID</td><td><span class="param-required">Required</span> User's UUID</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Request Body</h3>
                <table class="params-table">
                    <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    <tr><td>reason</td><td>string</td><td><span class="param-required">Required</span> Deletion reason (min 10 chars)</td></tr>
                </table>

                <h3>Request Example</h3>
                <div class="code-block">
                    <pre>{
  "reason": "User requested account deletion via support ticket #12345"
}</pre>
                </div>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "Deletion requested. Pending admin approval.",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "deletion_status": "pending"
  }
}</pre>
                </div>

                <div class="note-box">
                    <strong>Deletion Workflow:</strong><br>
                    1. Request deletion (this API) - sets deletion_status = "pending"<br>
                    2. Admin reviews and approves deletion<br>
                    3. After approval, is_deleted = true, status = "deleted"
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- APPROVE DELETION (ADMIN) -->
        <!-- ========================================== -->
        <h2 class="section-title">8. Approve Deletion (Admin Only)</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/users/{id}/approve-deletion</span>
                </div>
                <p class="endpoint-desc">Approve a pending user deletion request. Requires admin authentication.</p>

                <h3>Headers</h3>
                <table class="params-table">
                    <tr><th>Header</th><th>Value</th></tr>
                    <tr><td>Authorization</td><td><span class="param-required">Required</span> Bearer {admin_access_token}</td></tr>
                </table>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>id</td><td>UUID</td><td><span class="param-required">Required</span> User's UUID</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "User deletion approved",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "deletion_status": "approved",
    "approved_by": "admin-uuid-here"
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- GET LOGIN HISTORY -->
        <!-- ========================================== -->
        <h2 class="section-title">9. Get Login History</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/{id}/login-history</span>
                    <button class="copy-btn" onclick="copyToClipboard('http://genome-alb-1599622395.ap-south-1.elb.amazonaws.com/api/v1/users/550e8400-e29b-41d4-a716-446655440000/login-history?state_code=MH&limit=20')">Copy URL</button>
                </div>
                <p class="endpoint-desc">Get user's login history for audit and security purposes.</p>

                <h3>Path Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>id</td><td>UUID</td><td><span class="param-required">Required</span> User's UUID</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                    <tr><td>limit</td><td>int</td><td><span class="param-optional">Optional</span> Number of records (default: 20, max: 100)</td></tr>
                </table>

                <h3>Response Example</h3>
                <div class="code-block">
                    <pre>{
  "success": true,
  "message": "Login history retrieved",
  "data": {
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "history": [
      {
        "id": "history-uuid-1",
        "login_at": "2025-12-23T08:30:00Z",
        "logout_at": null,
        "ip_address": "103.21.45.67",
        "device_type": "android",
        "device_name": "Samsung Galaxy S21",
        "device_id": "device-unique-id",
        "user_agent": "Mozilla/5.0...",
        "location_city": "Mumbai",
        "location_state": "Maharashtra",
        "location_country": "India",
        "login_method": "otp",
        "session_duration_seconds": null,
        "is_successful": true,
        "failure_reason": null,
        "created_at": "2025-12-23T08:30:00Z"
      },
      {
        "id": "history-uuid-2",
        "login_at": "2025-12-22T14:15:00Z",
        "logout_at": "2025-12-22T18:30:00Z",
        "ip_address": "103.21.45.67",
        "device_type": "web",
        "device_name": "Chrome on Windows",
        "login_method": "otp",
        "session_duration_seconds": 15300,
        "is_successful": true,
        "created_at": "2025-12-22T14:15:00Z"
      }
    ],
    "count": 2
  }
}</pre>
                </div>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- GET PROFILE (AUTHENTICATED) -->
        <!-- ========================================== -->
        <h2 class="section-title">10. Get Profile (Authenticated User)</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/profile</span>
                </div>
                <p class="endpoint-desc">Get the authenticated user's own profile. Requires JWT authentication.</p>

                <h3>Headers</h3>
                <table class="params-table">
                    <tr><th>Header</th><th>Value</th></tr>
                    <tr><td>Authorization</td><td><span class="param-required">Required</span> Bearer {access_token}</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Response</h3>
                <p>Same as Get User by ID response.</p>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- UPDATE PROFILE (AUTHENTICATED) -->
        <!-- ========================================== -->
        <h2 class="section-title">11. Update Profile (Authenticated User)</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method put">PUT</span>
                    <span class="endpoint-path">/api/v1/users/profile</span>
                </div>
                <p class="endpoint-desc">Update the authenticated user's own profile. Requires JWT authentication.</p>

                <h3>Headers</h3>
                <table class="params-table">
                    <tr><th>Header</th><th>Value</th></tr>
                    <tr><td>Authorization</td><td><span class="param-required">Required</span> Bearer {access_token}</td></tr>
                </table>

                <h3>Query Parameters</h3>
                <table class="params-table">
                    <tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
                    <tr><td>state_code</td><td>string</td><td><span class="param-required">Required</span> User's state code</td></tr>
                </table>

                <h3>Request Body</h3>
                <p>Same fields as Update User API (section 6).</p>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- DOCUMENTS (COMING SOON) -->
        <!-- ========================================== -->
        <h2 class="section-title">12. Documents (Coming Soon)</h2>
        <div class="card">
            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method get">GET</span>
                    <span class="endpoint-path">/api/v1/users/documents</span>
                </div>
                <p class="endpoint-desc">Get user's uploaded documents - Implementation pending</p>
            </div>

            <div class="endpoint">
                <div class="endpoint-header">
                    <span class="method post">POST</span>
                    <span class="endpoint-path">/api/v1/users/documents</span>
                </div>
                <p class="endpoint-desc">Upload a new document - Implementation pending</p>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- ERROR RESPONSES -->
        <!-- ========================================== -->
        <h2 class="section-title">Error Responses</h2>
        <div class="card">
            <h3>400 Bad Request</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "VALIDATION_ERROR",
    "message": "Validation failed",
    "details": {
      "mobile": "Mobile must be 10 digits",
      "state_code": "State code is required"
    }
  }
}</pre>
            </div>

            <h3>404 Not Found</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "NOT_FOUND",
    "message": "User not found"
  }
}</pre>
            </div>

            <h3>409 Conflict</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "CONFLICT",
    "message": "User with this mobile already exists in this state"
  }
}</pre>
            </div>

            <h3>500 Internal Server Error</h3>
            <div class="code-block">
                <pre>{
  "success": false,
  "error": {
    "code": "INTERNAL_ERROR",
    "message": "Database error"
  }
}</pre>
            </div>
        </div>

        <!-- ========================================== -->
        <!-- STATE CODES REFERENCE -->
        <!-- ========================================== -->
        <h2 class="section-title">State Codes Reference</h2>
        <div class="card">
            <table class="params-table">
                <tr><th>Code</th><th>State/UT</th><th>Code</th><th>State/UT</th></tr>
                <tr><td>AN</td><td>Andaman & Nicobar</td><td>AP</td><td>Andhra Pradesh</td></tr>
                <tr><td>AR</td><td>Arunachal Pradesh</td><td>AS</td><td>Assam</td></tr>
                <tr><td>BR</td><td>Bihar</td><td>CH</td><td>Chandigarh</td></tr>
                <tr><td>CT</td><td>Chhattisgarh</td><td>DD</td><td>Daman & Diu</td></tr>
                <tr><td>DL</td><td>Delhi</td><td>DN</td><td>Dadra & Nagar Haveli</td></tr>
                <tr><td>GA</td><td>Goa</td><td>GJ</td><td>Gujarat</td></tr>
                <tr><td>HP</td><td>Himachal Pradesh</td><td>HR</td><td>Haryana</td></tr>
                <tr><td>JH</td><td>Jharkhand</td><td>JK</td><td>Jammu & Kashmir</td></tr>
                <tr><td>KA</td><td>Karnataka</td><td>KL</td><td>Kerala</td></tr>
                <tr><td>LA</td><td>Ladakh</td><td>LD</td><td>Lakshadweep</td></tr>
                <tr><td>MH</td><td>Maharashtra</td><td>ML</td><td>Meghalaya</td></tr>
                <tr><td>MN</td><td>Manipur</td><td>MP</td><td>Madhya Pradesh</td></tr>
                <tr><td>MZ</td><td>Mizoram</td><td>NL</td><td>Nagaland</td></tr>
                <tr><td>OD</td><td>Odisha</td><td>PB</td><td>Punjab</td></tr>
                <tr><td>PY</td><td>Puducherry</td><td>RJ</td><td>Rajasthan</td></tr>
                <tr><td>SK</td><td>Sikkim</td><td>TN</td><td>Tamil Nadu</td></tr>
                <tr><td>TS</td><td>Telangana</td><td>TR</td><td>Tripura</td></tr>
                <tr><td>UK</td><td>Uttarakhand</td><td>UP</td><td>Uttar Pradesh</td></tr>
                <tr><td>WB</td><td>West Bengal</td><td></td><td></td></tr>
            </table>
        </div>

    </div>

    <script>
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                const btn = event.target;
                btn.textContent = 'Copied!';
                setTimeout(() => {
                    btn.textContent = 'Copy URL';
                }, 2000);
            });
        }
    </script>
</body>
</html>
